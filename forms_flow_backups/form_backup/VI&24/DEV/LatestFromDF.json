{
  "forms": [
    {
      "formTitle": "VI - 12HR - 24HR Forms",
      "formDescription": "Vehicle Impoundment, 12-hour Driving Suspension, 24-hour Driving Prohibition and Report to ICBC",
      "anonymous": false,
      "type": "main",
      "content": {
        "title": "VI - 12HR - 24HR Forms",
        "name": "roadSafteyDigitalForms",
        "path": "roadsafteydigitalforms",
        "type": "form",
        "display": "wizard",
        "tags": [
          "common"
        ],
        "isBundle": false,
        "components": [
          {
            "title": "Officer Input",
            "theme": "info",
            "breadcrumb": "none",
            "breadcrumbClickable": true,
            "buttonSettings": {
              "previous": false,
              "cancel": false,
              "next": false
            },
            "navigateOnEnter": false,
            "saveOnEnter": false,
            "scrollToTop": false,
            "tooltip": "",
            "customClass": "",
            "collapsible": false,
            "hidden": false,
            "hideLabel": false,
            "disabled": false,
            "modalEdit": false,
            "key": "officerPage",
            "tags": [],
            "properties": {},
            "conditional": {
              "show": null,
              "when": null,
              "eq": "",
              "json": ""
            },
            "customConditional": "",
            "nextPage": "",
            "logic": [],
            "attributes": {},
            "overlay": {
              "style": "",
              "page": "",
              "left": "",
              "top": "",
              "width": "",
              "height": ""
            },
            "type": "panel",
            "label": "Page 1",
            "tabindex": "",
            "dataGridLabel": false,
            "components": [
              {
                "label": "Return to Main Menu",
                "action": "custom",
                "showValidations": false,
                "theme": "primary",
                "size": "md",
                "block": false,
                "leftIcon": "fa fa-arrow-left",
                "rightIcon": "",
                "shortcut": "",
                "description": "",
                "tooltip": "",
                "customClass": "",
                "tabindex": "",
                "disableOnInvalid": false,
                "hidden": false,
                "autofocus": false,
                "disabled": false,
                "tableView": false,
                "modalEdit": false,
                "key": "returnToMainMenu1",
                "tags": [],
                "properties": {},
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": "",
                  "json": ""
                },
                "customConditional": "",
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "button",
                "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\n\r\n\r\n// If no from selected just discard the draft\r\nif(!data?.VI && !data?.TwentyFourHour && !data?.TwelveHour) {\r\n  \r\n  // Unlease all leased Ids\r\n  instance.emit('UnLeaseIds', { type: 'UNLEASE_ALL' });\r\n  // Delete draft\r\n  instance.emit('customEvent', {\r\n        type: 'deleteDraft'\r\n      });\r\n      \r\n} else {\r\n  showExitFormModal();\r\n}\r\n \r\n\r\n\r\n",
                "hideLabel": false,
                "input": true,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "dataGridLabel": true,
                "labelPosition": "top",
                "errorLabel": "",
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "id": "e9fjnxl"
              },
              {
                "label": "is Rendered Fully ?",
                "persistent": false,
                "key": "isRendered",
                "logic": [
                  {
                    "name": "When rendered",
                    "trigger": {
                      "type": "event",
                      "showAdvanced": true,
                      "event": "render"
                    },
                    "actions": [
                      {
                        "name": "Render complete logic like page switching",
                        "type": "customAction",
                        "customAction": "function waitForFormStability(instance, options = {}) {\r\n  // Check if this function has already been executed for this instance\r\n  if (instance._formStabilityWaiterAttached) {\r\n    console.log('Form stability waiter already attached, skipping initialization');\r\n    return Promise.resolve(instance);\r\n  }\r\n  \r\n  // Mark this instance as having the stability waiter attached\r\n  instance._formStabilityWaiterAttached = true;\r\n  \r\n  // Default options\r\n  const config = {\r\n    inactivityThreshold: options.inactivityThreshold || 500,\r\n    checkInterval: options.checkInterval || 100,\r\n    debug: options.debug || false\r\n  };\r\n  \r\n  // Get the root form instance\r\n  const rootForm = instance.root || instance;\r\n  \r\n  // Activity tracking\r\n  const stats = {\r\n    renderCount: 0,\r\n    conditionCheckCount: 0,\r\n    pagesChangedCount: 0,\r\n    lastActivity: Date.now()\r\n  };\r\n  \r\n  const logDebug = (message) => {\r\n    if (config.debug) console.log(message);\r\n  };\r\n  \r\n  const updateActivity = (type) => {\r\n    stats[`${type}Count`]++;\r\n    stats.lastActivity = Date.now();\r\n    logDebug(`Activity: ${type} (total: ${stats[`${type}Count`]})`);\r\n  };\r\n  \r\n  // Event handlers - using named functions for easier cleanup\r\n  const eventHandlers = {\r\n    render: () => updateActivity('render'),\r\n    pagesChanged: () => updateActivity('pagesChanged')\r\n  };\r\n  \r\n  // Override checkConditions to track calls\r\n  const originalCheckConditions = rootForm.checkConditions;\r\n  rootForm.checkConditions = function(...args) {\r\n    updateActivity('conditionCheck');\r\n    return originalCheckConditions.apply(this, args);\r\n  };\r\n  \r\n  // Attach event listeners\r\n  Object.entries(eventHandlers).forEach(([event, handler]) => {\r\n    rootForm.on(event, handler);\r\n  });\r\n  \r\n  return new Promise(resolve => {\r\n    // Check for stability periodically\r\n    const stabilityCheck = setInterval(() => {\r\n      const timeSinceLastActivity = Date.now() - stats.lastActivity;\r\n      \r\n      // If no activity for the threshold period, consider the form stable\r\n      if (timeSinceLastActivity > config.inactivityThreshold) {\r\n        clearInterval(stabilityCheck);\r\n        \r\n        // Clean up event listeners\r\n        Object.entries(eventHandlers).forEach(([event, handler]) => {\r\n          rootForm.off(event, handler);\r\n        });\r\n        \r\n        // Restore original checkConditions\r\n        rootForm.checkConditions = originalCheckConditions;\r\n        \r\n        logDebug(`Form stabilized after: ${stats.renderCount} renders, ${stats.conditionCheckCount} condition checks, ${stats.pagesChangedCount} page changes`);\r\n        resolve(rootForm);\r\n      }\r\n    }, config.checkInterval);\r\n  });\r\n}\r\n\r\n// Helper function for URL checking\r\nfunction ifUrlContains(searchText) {\r\n  return window.location.href.includes(searchText);\r\n}\r\n\r\n// Navigation function separated from stability detection\r\nfunction navigateToCorrectPage(instance, data) {\r\n  const rootForm = instance.root || instance;\r\n  const currentPage = rootForm.page;\r\n  \r\n  // Only navigate if we're on page 0 and not on submission/application pages\r\n  if (currentPage !== 0 || ifUrlContains('submission') || ifUrlContains('application')) {\r\n    console.log('Navigation conditions not met, staying on current page');\r\n    return;\r\n  }\r\n  \r\n  let targetPage = 1; // Default to first page\r\n  \r\n  // Determine target page based on data conditions\r\n  if (data?.police_details_confirmed === \"YES\") {\r\n    console.log(\"Navigating to final submission page\");\r\n    targetPage = 4;\r\n  } else if (data?.confirmation_of_service_completed === \"YES\") {\r\n    console.log(\"Navigating to Police details page / Final Submission page\");\r\n    targetPage = 3;\r\n  } else if (data?.printResponse === \"YES\") {\r\n    console.log(\"Navigating to ecos confirmation page / final Submission page\");\r\n    targetPage = 2;\r\n  } else {\r\n    console.log(\"Navigating to Driver copy Print preview page\");\r\n    targetPage = 1;\r\n  }\r\n  \r\n  // Set the page\r\n  rootForm.setPage(targetPage);\r\n  return targetPage;\r\n}\r\n\r\n// Usage example\r\ninstance.ready.then(() => {\r\n  // Check if we've already processed this instance\r\n  if (instance._navigationCompleted) {\r\n    console.log('Navigation already completed for this instance, skipping');\r\n    return;\r\n  }\r\n  \r\n  waitForFormStability(instance, { debug: true }).then(form => {\r\n    console.log('Form is fully stable - all lifecycle cycles completed');\r\n    // once the Form is locked\r\n    if(data?.lockFormInput === \"YES\") {\r\n      const newPage = navigateToCorrectPage(form, data);\r\n      console.log(`Navigation complete, now on page ${newPage}`);\r\n      \r\n      // Mark that navigation has been completed for this instance\r\n      instance._navigationCompleted = true;\r\n    }\r\n    \r\n  }).catch(error => {\r\n    console.error('Error during form stabilization:', error);\r\n  });\r\n});"
                      }
                    ]
                  }
                ],
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "ety07b",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "IndexedDbManger Class",
                "customClass": "",
                "modalEdit": false,
                "defaultValue": null,
                "persistent": false,
                "protected": false,
                "dbIndex": false,
                "encrypted": false,
                "redrawOn": "",
                "customDefaultValue": "/**\r\n * Enhanced IndexedDB Manager with query capabilities\r\n */\r\n \r\n// Database configuration\r\nconst DB_NAME = \"digitalFormsFF\";\r\n\r\nclass IndexedDBManager {\r\n  constructor(db) {\r\n    this.db = db;\r\n  }\r\n\r\n  /**\r\n   * Delete entries from a store that match a condition\r\n   * @param {string} storeName - The name of the store\r\n   * @param {Object} whereCondition - Condition to match entries (e.g., { form_type: 'VI', leased: true })\r\n   * @returns {Promise} - Resolves with the count of deleted items\r\n   */\r\n  deleteEntryWhere(storeName, whereCondition) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        let deletedCount = 0;\r\n        let matchingKeys = [];\r\n\r\n        // First, find all matching records\r\n        const getAllRequest = store.openCursor();\r\n        \r\n        getAllRequest.onsuccess = (event) => {\r\n          const cursor = event.target.result;\r\n          \r\n          if (cursor) {\r\n            const record = cursor.value;\r\n            \r\n            // Check if record matches the where condition\r\n            if (this._matchesCondition(record, whereCondition)) {\r\n              matchingKeys.push(cursor.primaryKey);\r\n            }\r\n            \r\n            cursor.continue();\r\n          } else {\r\n            // No more records, now delete all matching records\r\n            console.log(`Found ${matchingKeys.length} records to delete in ${storeName}`);\r\n            \r\n            if (matchingKeys.length === 0) {\r\n              resolve(0);\r\n              return;\r\n            }\r\n            \r\n            // Delete each matching record\r\n            const deletePromises = matchingKeys.map(key => {\r\n              return new Promise((deleteResolve, deleteReject) => {\r\n                const deleteRequest = store.delete(key);\r\n                \r\n                deleteRequest.onsuccess = () => {\r\n                  deletedCount++;\r\n                  deleteResolve();\r\n                };\r\n                \r\n                deleteRequest.onerror = (evt) => {\r\n                  console.error(`Error deleting key ${key} from ${storeName}:`, evt.target.error);\r\n                  deleteReject(evt.target.error);\r\n                };\r\n              });\r\n            });\r\n            \r\n            Promise.all(deletePromises)\r\n              .then(() => {\r\n                console.log(`Successfully deleted ${deletedCount} entries from ${storeName}`);\r\n                resolve(deletedCount);\r\n              })\r\n              .catch(error => {\r\n                reject(error);\r\n              });\r\n          }\r\n        };\r\n        \r\n        getAllRequest.onerror = (event) => {\r\n          console.error(`Error finding entries in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n        \r\n        transaction.onerror = (event) => {\r\n          console.error(`Transaction error in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in deleteEntryWhere:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update entries in a store that match a condition\r\n   * @param {string} storeName - The name of the store\r\n   * @param {Object} whereCondition - Condition to match entries (e.g., { form_type: 'VI' })\r\n   * @param {Object} updateData - Data to update (will be merged with existing data)\r\n   * @returns {Promise} - Resolves with the count of updated items\r\n   */\r\n  updateEntryWhere(storeName, whereCondition, updateData) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        let updatedCount = 0;\r\n        \r\n        // Use a cursor to iterate through all records\r\n        const cursorRequest = store.openCursor();\r\n        \r\n        cursorRequest.onsuccess = (event) => {\r\n          const cursor = event.target.result;\r\n          \r\n          if (cursor) {\r\n            const record = cursor.value;\r\n            \r\n            // Check if record matches the where condition\r\n            if (this._matchesCondition(record, whereCondition)) {\r\n              // Merge the existing record with the update data\r\n              const updatedRecord = { ...record, ...updateData };\r\n              \r\n              // Update the record\r\n              const updateRequest = cursor.update(updatedRecord);\r\n              \r\n              updateRequest.onsuccess = () => {\r\n                updatedCount++;\r\n              };\r\n              \r\n              updateRequest.onerror = (evt) => {\r\n                console.error(`Error updating record in ${storeName}:`, evt.target.error);\r\n              };\r\n            }\r\n            \r\n            // Move to the next record\r\n            cursor.continue();\r\n          } else {\r\n            // No more records\r\n            console.log(`Updated ${updatedCount} entries in ${storeName}`);\r\n            resolve(updatedCount);\r\n          }\r\n        };\r\n        \r\n        cursorRequest.onerror = (event) => {\r\n          console.error(`Error finding entries in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n        \r\n        transaction.onerror = (event) => {\r\n          console.error(`Transaction error in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in updateEntryWhere:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get entries from a store that match a condition\r\n   * @param {string} storeName - The name of the store\r\n   * @param {Object} whereCondition - Condition to match entries\r\n   * @returns {Promise} - Resolves with an array of matching entries\r\n   */\r\n  getEntriesWhere(storeName, whereCondition) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readonly\");\r\n        const store = transaction.objectStore(storeName);\r\n        const matchingRecords = [];\r\n        \r\n        // Use a cursor to iterate through all records\r\n        const cursorRequest = store.openCursor();\r\n        \r\n        cursorRequest.onsuccess = (event) => {\r\n          const cursor = event.target.result;\r\n          \r\n          if (cursor) {\r\n            const record = cursor.value;\r\n            \r\n            // Check if record matches the where condition\r\n            if (this._matchesCondition(record, whereCondition)) {\r\n              matchingRecords.push(record);\r\n            }\r\n            \r\n            // Move to the next record\r\n            cursor.continue();\r\n          } else {\r\n            // No more records\r\n            console.log(`Found ${matchingRecords.length} matching entries in ${storeName}`);\r\n            resolve(matchingRecords);\r\n          }\r\n        };\r\n        \r\n        cursorRequest.onerror = (event) => {\r\n          console.error(`Error finding entries in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in getEntriesWhere:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Check if a record matches a condition\r\n   * @param {Object} record - The record to check\r\n   * @param {Object} condition - The condition to match\r\n   * @returns {boolean} - True if the record matches the condition\r\n   * \r\n   * Supports:\r\n   * - Simple equality: { field: value }\r\n   * - Complex conditions: { field: { $gt: value } }\r\n   * - Multiple conditions: { field1: value1, field2: value2 }\r\n   */\r\n  _matchesCondition(record, condition) {\r\n    // If condition is null or undefined, match all records\r\n    if (!condition) {\r\n      return true;\r\n    }\r\n    \r\n    // Check each condition field\r\n    for (const key in condition) {\r\n      // Skip if the property doesn't exist on the object\r\n      if (!Object.prototype.hasOwnProperty.call(condition, key)) {\r\n        continue;\r\n      }\r\n      \r\n      const conditionValue = condition[key];\r\n      \r\n      // Handle complex condition objects\r\n      if (typeof conditionValue === 'object' && conditionValue !== null && !Array.isArray(conditionValue)) {\r\n        // Check for operators\r\n        for (const operator in conditionValue) {\r\n          if (!Object.prototype.hasOwnProperty.call(conditionValue, operator)) {\r\n            continue;\r\n          }\r\n          \r\n          const operatorValue = conditionValue[operator];\r\n          \r\n          switch (operator) {\r\n            case '$eq':\r\n              if (record[key] !== operatorValue) return false;\r\n              break;\r\n            case '$ne':\r\n              if (record[key] === operatorValue) return false;\r\n              break;\r\n            case '$gt':\r\n              if (!(record[key] > operatorValue)) return false;\r\n              break;\r\n            case '$gte':\r\n              if (!(record[key] >= operatorValue)) return false;\r\n              break;\r\n            case '$lt':\r\n              if (!(record[key] < operatorValue)) return false;\r\n              break;\r\n            case '$lte':\r\n              if (!(record[key] <= operatorValue)) return false;\r\n              break;\r\n            case '$in':\r\n              if (!Array.isArray(operatorValue) || !operatorValue.includes(record[key])) return false;\r\n              break;\r\n            case '$nin':\r\n              if (!Array.isArray(operatorValue) || operatorValue.includes(record[key])) return false;\r\n              break;\r\n            case '$exists':\r\n              const hasProperty = record.hasOwnProperty(key);\r\n              if (operatorValue && !hasProperty) return false;\r\n              if (!operatorValue && hasProperty) return false;\r\n              break;\r\n            case '$regex':\r\n              if (!(typeof record[key] === 'string' && new RegExp(operatorValue).test(record[key]))) return false;\r\n              break;\r\n            default:\r\n              console.warn(`Unknown operator: ${operator}`);\r\n              return false;\r\n          }\r\n        }\r\n      } else {\r\n        // Simple equality check\r\n        if (record[key] !== conditionValue) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // If we got here, all conditions matched\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Delete an entry from a store\r\n   * @param {string} storeName - The name of the store\r\n   * @param {string|number|Array} key - The key of the entry to delete\r\n   * @returns {Promise} - Resolves when the entry is deleted\r\n   */\r\n  deleteEntry(storeName, key) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.delete(key);\r\n        \r\n        request.onsuccess = () => {\r\n          console.log(`Deleted entry with key ${key} from ${storeName}`);\r\n          resolve();\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error deleting entry from ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in deleteEntry:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Other existing methods from your IndexedDBManager class\r\n  // addEntry, updateEntry, getEntry, getAllEntries, clearStore, etc.\r\n  \r\n  /**\r\n   * Add an entry to a store\r\n   * @param {string} storeName - The name of the store\r\n   * @param {Object} data - The data to add\r\n   * @returns {Promise} - Resolves with the key of the added entry\r\n   */\r\n  addEntry(storeName, data) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.add(data);\r\n        \r\n        request.onsuccess = (event) => {\r\n          console.log(`Added entry to ${storeName} with key ${event.target.result}`);\r\n          resolve(event.target.result);\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error adding entry to ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in addEntry:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update an entry in a store\r\n   * @param {string} storeName - The name of the store\r\n   * @param {Object} data - The data to update\r\n   * @returns {Promise} - Resolves with the key of the updated entry\r\n   */\r\n  updateEntry(storeName, data) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.put(data);\r\n        \r\n        request.onsuccess = (event) => {\r\n          console.log(`Updated entry in ${storeName} with key ${event.target.result}`);\r\n          resolve(event.target.result);\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error updating entry in ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in updateEntry:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get an entry from a store by its key\r\n   * @param {string} storeName - The name of the store\r\n   * @param {string|number|Array} key - The key of the entry to get\r\n   * @returns {Promise} - Resolves with the entry\r\n   */\r\n  getEntry(storeName, key) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readonly\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.get(key);\r\n        \r\n        request.onsuccess = (event) => {\r\n          resolve(event.target.result);\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error getting entry from ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in getEntry:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get all entries from a store\r\n   * @param {string} storeName - The name of the store\r\n   * @returns {Promise} - Resolves with an array of entries\r\n   */\r\n  getAllEntries(storeName) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readonly\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.getAll();\r\n        \r\n        request.onsuccess = (event) => {\r\n          resolve(event.target.result);\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error getting all entries from ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in getAllEntries:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Clear all entries from a store\r\n   * @param {string} storeName - The name of the store\r\n   * @returns {Promise} - Resolves when the store is cleared\r\n   */\r\n  clearStore(storeName) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        const transaction = this.db.transaction([storeName], \"readwrite\");\r\n        const store = transaction.objectStore(storeName);\r\n        const request = store.clear();\r\n        \r\n        request.onsuccess = () => {\r\n          console.log(`Cleared all entries from ${storeName}`);\r\n          resolve();\r\n        };\r\n        \r\n        request.onerror = (event) => {\r\n          console.error(`Error clearing entries from ${storeName}:`, event.target.error);\r\n          reject(event.target.error);\r\n        };\r\n      } catch (error) {\r\n        console.error(\"Error in clearStore:\", error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Create an object store with its indices\r\n * @param {IDBDatabase} db - The database connection\r\n * @param {Object} tableConfig - The table configuration\r\n */\r\nfunction createObjectStore(db, tableConfig) {\r\n  if (!db.objectStoreNames.contains(tableConfig.name)) {\r\n    const storeOptions = {};\r\n    \r\n    if (tableConfig.keyPath) {\r\n      storeOptions.keyPath = tableConfig.keyPath;\r\n    }\r\n    \r\n    if (tableConfig.autoIncrement) {\r\n      storeOptions.autoIncrement = true;\r\n    }\r\n    \r\n    const store = db.createObjectStore(tableConfig.name, storeOptions);\r\n    \r\n    // Create indices\r\n    if (tableConfig.indices && Array.isArray(tableConfig.indices)) {\r\n      tableConfig.indices.forEach(indexConfig => {\r\n        const indexOptions = {};\r\n        \r\n        if (indexConfig.unique) {\r\n          indexOptions.unique = true;\r\n        }\r\n        \r\n        store.createIndex(indexConfig.name, indexConfig.keyPath, indexOptions);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Get the current version of the database\r\n * @returns {Promise} - Resolves with the current version or 0 if database doesn't exist\r\n */\r\nfunction getDatabaseVersion() {\r\n  return new Promise((resolve) => {\r\n    // Try to open the database without specifying a version\r\n    const request = indexedDB.open(DB_NAME);\r\n    \r\n    // Will be called if the database doesn't exist\r\n    request.onupgradeneeded = function() {\r\n      // If it doesn't exist, abort the request and return 0\r\n      request.transaction.abort();\r\n      resolve(0);\r\n    };\r\n    \r\n    // If we successfully opened the database\r\n    request.onsuccess = function(event) {\r\n      const db = event.target.result;\r\n      const version = db.version;\r\n      \r\n      // Close the database\r\n      db.close();\r\n      \r\n      // Return the version\r\n      console.log(`Detected existing database version: ${version}`);\r\n      resolve(version);\r\n    };\r\n    \r\n    // If there was an error opening the database\r\n    request.onerror = function() {\r\n      // If there was an error, assume database doesn't exist\r\n      resolve(0);\r\n    };\r\n    \r\n    // Handle blocked state (if database is open elsewhere)\r\n    request.onblocked = function() {\r\n      console.warn(\"Database access is blocked. Close other tabs/windows using the database.\");\r\n      // Try to resolve with a default version anyway\r\n      resolve(0);\r\n    };\r\n  });\r\n}\r\n\r\n/**\r\n * Initialize the database connection\r\n * @param {number} version - The version to use\r\n * @returns {Promise} - Resolves with the database manager instance\r\n */\r\nfunction initializeDatabase(version) {\r\n  // Define your schema tables\r\n  const TABLES = [\r\n    {\r\n      name: \"user\",\r\n      keyPath: \"user_guid\",\r\n      indices: [\r\n        { name: \"username\", keyPath: \"username\", unique: false }\r\n        // Add other indices as needed\r\n      ]\r\n    },\r\n    {\r\n      name: \"formID\",\r\n      keyPath: \"id\",\r\n      indices: [\r\n        { name: \"form_type\", keyPath: \"form_type\", unique: false },\r\n        { name: \"form_type_leased\", keyPath: [\"form_type\", \"leased\"], unique: false }\r\n      ]\r\n    }\r\n    // Add other tables as needed\r\n  ];\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const request = indexedDB.open(DB_NAME, version);\r\n    \r\n    request.onupgradeneeded = (event) => {\r\n      const db = event.target.result;\r\n      \r\n      // If this is a new database or we're upgrading\r\n      if (event.oldVersion < version) {\r\n        console.log(`Upgrading database from version ${event.oldVersion} to ${version}`);\r\n        \r\n        // Create all object stores as defined in schema\r\n        TABLES.forEach(tableConfig => {\r\n          createObjectStore(db, tableConfig);\r\n        });\r\n      }\r\n    };\r\n    \r\n    request.onsuccess = (event) => {\r\n      const db = event.target.result;\r\n      \r\n      // Create a manager instance\r\n      const dbManager = new IndexedDBManager(db);\r\n      \r\n      // Store the database manager in instance.idb\r\n      if (typeof instance === 'undefined') {\r\n        window.instance = { idb: dbManager };\r\n      } else {\r\n        instance.idb = dbManager;\r\n      }\r\n      \r\n      console.log(`Connected to digitalForms database version ${db.version}`);\r\n      resolve(dbManager);\r\n    };\r\n    \r\n    request.onerror = (event) => {\r\n      console.error(\"Database error:\", event.target.error);\r\n      reject(event.target.error);\r\n    };\r\n  });\r\n}\r\n\r\n// Main initialization function\r\nfunction initialize() {\r\n  // First, get the current version\r\n  return getDatabaseVersion()\r\n    .then(version => {\r\n      // If the database doesn't exist, use version 1\r\n      // Otherwise, use the existing version\r\n      const versionToUse = version === 0 ? 1 : version;\r\n      \r\n      // Initialize the database with the correct version\r\n      return initializeDatabase(versionToUse);\r\n    })\r\n    .then(() => {\r\n      console.log(\"digitalForms database initialized and ready to use\");\r\n      console.log(\"You can now use instance.idb.deleteEntry(), instance.idb.addEntry(), etc.\");\r\n      return instance.idb;\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Failed to initialize database:\", error);\r\n      throw error;\r\n    });\r\n}\r\n\r\n// Start the initialization process\r\ninitialize()\r\n  .then(() => {\r\n    // You can add any initialization code here\r\n    console.log(\"Ready to use instance.idb methods\");\r\n  })\r\n  .catch(error => {\r\n    console.error(\"Initialization failed:\", error);\r\n  });\r\n\r\n// Example usage:\r\n// instance.idb.deleteEntry(\"formID\", \"form123\")\r\n//   .then(() => {\r\n//     console.log(\"Form deleted successfully\");\r\n//   })\r\n//   .catch(error => {\r\n//     console.error(\"Error deleting form:\", error);\r\n//   });",
                "calculateValue": "",
                "calculateServer": false,
                "key": "indexedDbManger",
                "tags": [],
                "properties": {},
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "hidden",
                "dataGridLabel": false,
                "input": true,
                "tableView": false,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "widget": {
                  "type": "input"
                },
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "allowCalculateOverride": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden",
                "id": "euckk3s"
              },
              {
                "label": "Event Listeners",
                "customClass": "",
                "modalEdit": false,
                "defaultValue": null,
                "persistent": false,
                "protected": false,
                "dbIndex": false,
                "encrypted": false,
                "redrawOn": "",
                "customDefaultValue": "/**\r\n * Unleases form IDs by setting their 'leased' property to false\r\n * @param {Object} data - The data object containing form information\r\n * @param {string} type - The type of unlease operation ('UNLEASE_ALL' or 'UNLEASE_UNUSED')\r\n * @returns {Promise} - Resolves when all unlease operations are complete\r\n */\r\nfunction unleaseIds(data, type) {\r\n  // Get the IndexedDB manager from the instance\r\n  const indexedDbManger = instance.root.getComponent(\"indexedDbManger\");\r\n  \r\n  // Collect form numbers based on what's available in data\r\n  const forms = {};\r\n  \r\n  // Get VI form number\r\n  const viNumber = instance.root.getComponent('VI_number')?.getValue();\r\n  if (viNumber) {\r\n    forms.VI_number = viNumber.toString().slice(0, -1);\r\n  }\r\n  \r\n  // Get 24-hour form number\r\n  const twentyFourHourNumber = instance.root.getComponent('twenty_four_hour_number')?.getValue();\r\n  if (twentyFourHourNumber) {\r\n    forms.twenty_four_hour_number = twentyFourHourNumber;\r\n  }\r\n  \r\n  // Get 12-hour form number\r\n  const twelveHourNumber = instance.root.getComponent('twelve_hour_number')?.getValue();\r\n  if (twelveHourNumber) {\r\n    forms.twelve_hour_number = twelveHourNumber;\r\n  }\r\n  \r\n  console.log('Potential forms to unlease:', forms);\r\n  \r\n  // Determine which forms to unlease based on the type parameter\r\n  const formsToUnlease = {};\r\n  \r\n  if (type === 'UNLEASE_ALL') {\r\n    // Unlease all forms\r\n    Object.assign(formsToUnlease, forms);\r\n  } else if (type === 'UNLEASE_UNUSED') {\r\n    // Unlease only unused forms\r\n    if (forms.VI_number && !data.VI) {\r\n      formsToUnlease.VI_number = forms.VI_number;\r\n    }\r\n    \r\n    if (forms.twenty_four_hour_number && !data.TwentyFourHour) {\r\n      formsToUnlease.twenty_four_hour_number = forms.twenty_four_hour_number;\r\n    }\r\n    \r\n    if (forms.twelve_hour_number && !data.TwelveHour) {\r\n      formsToUnlease.twelve_hour_number = forms.twelve_hour_number;\r\n    }\r\n  }\r\n  \r\n  console.log('Forms to unlease:', formsToUnlease);\r\n  \r\n  // Create an array of promises for each unlease operation\r\n  const unleasePromises = [];\r\n  \r\n  // Update data to set for all unleased forms\r\n  const updateData = {\r\n    leased: false,\r\n    last_updated: new Date().toISOString()\r\n  };\r\n  \r\n  // Process each form that needs to be unleased\r\n  Object.entries(formsToUnlease).forEach(([formType, formId]) => {\r\n    if (formId) {\r\n      // Use updateEntryWhere to directly update the record by ID\r\n      const unleasePromise = indexedDbManger.idb.updateEntryWhere('formID', \r\n        { id: formId }, \r\n        updateData\r\n      )\r\n        .then(count => {\r\n          if (count > 0) {\r\n            console.log(`Successfully unleased ${formType} with ID: ${formId}`);\r\n          } else {\r\n            console.warn(`Form with ID ${formId} not found, nothing to unlease`);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(`Error unleasing ${formType} with ID ${formId}:`, error);\r\n        });\r\n      \r\n      unleasePromises.push(unleasePromise);\r\n    }\r\n  });\r\n  \r\n  // Wait for all unlease operations to complete\r\n  return Promise.all(unleasePromises)\r\n    .then(() => {\r\n      console.log('All form unlease operations completed');\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during form unleasing:', error);\r\n    });\r\n}\r\n\r\n/**\r\n * Get form numbers from data and delete corresponding forms from IndexedDB\r\n * @param {Object} data - The data containing form flags\r\n * @returns {Promise} - Resolves when all deletion operations are complete\r\n */\r\nfunction getFormNumbersAndDelete(data) {\r\n  // Get the IndexedDB manager from the instance\r\n  const indexedDbManger = instance.root.getComponent(\"indexedDbManger\");\r\n  \r\n  // Collect form numbers based on what's available in data\r\n  const forms = {};\r\n  \r\n  if (data.VI) {\r\n    forms.VI_number = instance.root.getComponent('VI_number')?.getValue().toString().slice(0, -1);\r\n  }\r\n  \r\n  if (data.TwentyFourHour) {\r\n    forms.twenty_four_hour_number = instance.root.getComponent('twenty_four_hour_number')?.getValue();\r\n  }\r\n  \r\n  if (data.TwelveHour) {\r\n    forms.twelve_hour_number = instance.root.getComponent('twelve_hour_number')?.getValue();\r\n  }\r\n  \r\n  console.log('Forms to delete:', forms);\r\n  \r\n  // Create an array of promises for each deletion operation\r\n  const deletionPromises = [];\r\n  \r\n  // Delete VI form if it exists\r\n  if (forms.VI_number) {\r\n    const viPromise = indexedDbManger.idb.deleteEntry('formID', forms.VI_number)\r\n      .then(() => {\r\n        console.log(`Successfully deleted VI form with ID: ${forms.VI_number}`);\r\n      })\r\n      .catch(error => {\r\n        console.error(`Error deleting VI form with ID ${forms.VI_number}:`, error);\r\n      });\r\n    \r\n    deletionPromises.push(viPromise);\r\n  }\r\n  \r\n  // Delete 24-hour form if it exists\r\n  if (forms.twenty_four_hour_number) {\r\n    const twentyFourHourPromise = indexedDbManger.idb.deleteEntry('formID', forms.twenty_four_hour_number)\r\n      .then(() => {\r\n        console.log(`Successfully deleted 24-hour form with ID: ${forms.twenty_four_hour_number}`);\r\n      })\r\n      .catch(error => {\r\n        console.error(`Error deleting 24-hour form with ID ${forms.twenty_four_hour_number}:`, error);\r\n      });\r\n    \r\n    deletionPromises.push(twentyFourHourPromise);\r\n  }\r\n  \r\n  // Delete 12-hour form if it exists\r\n  if (forms.twelve_hour_number) {\r\n    const twelveHourPromise = indexedDbManger.idb.deleteEntry('formID', forms.twelve_hour_number)\r\n      .then(() => {\r\n        console.log(`Successfully deleted 12-hour form with ID: ${forms.twelve_hour_number}`);\r\n      })\r\n      .catch(error => {\r\n        console.error(`Error deleting 12-hour form with ID ${forms.twelve_hour_number}:`, error);\r\n      });\r\n    \r\n    deletionPromises.push(twelveHourPromise);\r\n  }\r\n  \r\n  // Wait for all deletion operations to complete\r\n  return Promise.all(deletionPromises)\r\n    .then(() => {\r\n      console.log('All form deletion operations completed');\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during form deletion:', error);\r\n    });\r\n}\r\n\r\n\r\n// Function to update records in IndexedDB\r\nasync function updateFormStatus(action) {\r\n  try {\r\n    // Create the current timestamp in ISO format\r\n    const currentTimestamp = new Date().toISOString();\r\n    \r\n    // Get all possible form numbers from the data object\r\n    const VI_number = data.VI_number;\r\n    const twenty_four_hour_number = data.twenty_four_hour_number;\r\n    const twelve_hour_number = data.twelve_hour_number;\r\n    \r\n    // Check if we have any form numbers to update\r\n    if (!VI_number && !twenty_four_hour_number && !twelve_hour_number) {\r\n      console.error('No form numbers found to update in IndexedDB');\r\n      return false;\r\n    }\r\n    \r\n    // Determine which timestamp field to update based on action\r\n    const timestampField = action === 'markSpoiled' ? 'spoiled_timestamp' : 'printed_timestamp';\r\n    \r\n    // Prepare updates for each form number if it exists\r\n    const updatePromises = [];\r\n    const tableName = 'formID';\r\n    \r\n    // Update VI number if it exists\r\n    if (VI_number) {\r\n      const viFilter = {\r\n        conditions: { id: VI_number },\r\n        updates: { [timestampField]: currentTimestamp }\r\n      };\r\n      updatePromises.push(window.updateStaticDataTable(tableName, viFilter));\r\n    }\r\n    \r\n    // Update 24-hour number if it exists\r\n    if (twenty_four_hour_number) {\r\n      const twentyFourFilter = {\r\n        conditions: { id: twenty_four_hour_number },\r\n        updates: { [timestampField]: currentTimestamp }\r\n      };\r\n      updatePromises.push(window.updateStaticDataTable(tableName, twentyFourFilter));\r\n    }\r\n    \r\n    // Update 12-hour number if it exists\r\n    if (twelve_hour_number) {\r\n      const twelveFilter = {\r\n        conditions: { id: twelve_hour_number },\r\n        updates: { [timestampField]: currentTimestamp }\r\n      };\r\n      updatePromises.push(window.updateStaticDataTable(tableName, twelveFilter));\r\n    }\r\n    \r\n    // Wait for all updates to complete\r\n    const results = await Promise.all(updatePromises);\r\n    \r\n    // Sum up the total number of updated records\r\n    const totalUpdated = results.reduce((total, current) => total + current, 0);\r\n    \r\n    console.log(`Updated ${totalUpdated} records in IndexedDB for ${action === 'markSpoiled' ? 'spoiled' : 'printed'} forms`);\r\n    return totalUpdated > 0;\r\n  } catch (error) {\r\n    console.error(`Failed to update local IndexedDB for ${action}:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Function to update form status via API\r\nasync function updateFormAPI(action) {\r\n  // Get authentication token from localStorage\r\n  const authToken = localStorage.getItem('AUTH_TOKEN');\r\n  if (!authToken) {\r\n    window.toast.error('Authentication token not found');\r\n    return false;\r\n  }\r\n  \r\n  try {\r\n    // Create the current timestamp in ISO format\r\n    const currentTimestamp = new Date().toISOString();\r\n    // Get form number based on what's available in data\r\n    const forms = {};\r\n    \r\n    if (data.VI) {\r\n      forms.VI_number = instance.root.getComponent('VI_number')?.getValue();\r\n    }\r\n    \r\n    if (data.TwentyFourHour) {\r\n      forms.twenty_four_hour_number = instance.root.getComponent('twenty_four_hour_number')?.getValue();\r\n    }\r\n    \r\n    if (data.TwelveHour) {\r\n      forms.twelve_hour_number = instance.root.getComponent('twelve_hour_number')?.getValue();\r\n    }\r\n    \r\n    // Determine which timestamp field to update based on action\r\n    const timestampField = action === 'markSpoiled' ? 'spoiled_timestamp' : 'printed_timestamp';\r\n    \r\n    // Prepare payload for the PATCH request\r\n    const payload = {\r\n      \"forms\": forms,\r\n      [timestampField]: currentTimestamp\r\n    };\r\n    \r\n    // Make the API call\r\n    const apiUrl = `${window._env_.REACT_APP_RSBC_API_URL}/api/v1/forms`;\r\n    \r\n    const response = await fetch(apiUrl, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': `Bearer ${authToken}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(payload)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`API request failed with status ${response.status}`);\r\n    }\r\n    \r\n    const responseData = await response.json();\r\n    console.log(`Form ${action === 'markSpoiled' ? 'spoiled' : 'printed'} successfully:`, responseData);\r\n    return responseData;\r\n  } catch (error) {\r\n    console.error(`Failed to ${action === 'markSpoiled' ? 'spoil' : 'print'} form:`, error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Main event listener for form actions\r\ninstance.root.on('PatchForm', async (event) => {\r\n  const action = event.action;\r\n  \r\n  // Validate that action is one of the expected values\r\n  if (action !== 'markSpoiled' && action !== 'markPrinted') {\r\n    console.error(`Invalid action: ${action}. Expected 'markSpoiled' or 'markPrinted'`);\r\n    window.toast.error(`Invalid action: ${action}`);\r\n    return;\r\n  }\r\n  \r\n  try {\r\n\r\n    if (action === 'markPrinted') {\r\n      // update the printed tiemstamp value\r\n      printed_time_stamp = instance.root.getComponent(\"printed_time_stamp\")\r\n      printed_time_stamp.setValue(new Date().toISOString())\r\n    } else if (action === 'markSpoiled') {\r\n      // update the spoiled_time_stamp value\r\n      spoiled_time_stamp = instance.root.getComponent(\"spoiled_time_stamp\")\r\n      spoiled_time_stamp.setValue(new Date().toISOString())\r\n    }\r\n    \r\n    // Call both functions without waiting for API to complete first\r\n    const apiPromise = updateFormAPI(action);\r\n    // Seems like we are deleting the forms after print sucess then no neeed to udpate anything\r\n    // const localPromise = updateFormStatus(action);\r\n    \r\n    // Wait for both operations to complete, currently only checking apiPromise\r\n     // const [apiResponse, localUpdateSuccess] = await Promise.all([apiPromise, localPromise]);\r\n     const [apiResponse] = await Promise.all([apiPromise]);\r\n    \r\n    if (apiResponse) {\r\n      console.log('API update successful');\r\n    } else {\r\n      console.warn('API update failed');\r\n    }\r\n    \r\n    // Only emit cancelSubmission event for spoil form action\r\n    if (action === 'markSpoiled') {\r\n      // Show success message only for spoil\r\n      window.toast.success(`Successfully spoiled the form!`);\r\n      instance.emit('customEvent', {\r\n        type: 'deleteDraft'\r\n      });\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error(`Error in ${action} process:`, error);\r\n    window.toast.error(`Error in ${action} process`);\r\n    \r\n    // Only emit cancelSubmission event for spoil form action, even on error\r\n    if (action === 'markSpoiled') {\r\n      instance.emit('customEvent', {\r\n        type: 'deleteDraft'\r\n      });\r\n    }\r\n    \r\n     \r\n  }\r\n});\r\n\r\n// Event to delete printed ids form indexedDB\r\ninstance.root.on('DeletePrintedIds', async (event) => {\r\n  getFormNumbersAndDelete(data);\r\n});\r\n\r\ninstance.root.on('UnLeaseIds', async (event) => {\r\nunleaseIds(data, event.type)\r\n});\r\n",
                "calculateValue": "",
                "calculateServer": false,
                "key": "eventListners",
                "tags": [],
                "properties": {},
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "hidden",
                "dataGridLabel": false,
                "input": true,
                "tableView": false,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "widget": {
                  "type": "input"
                },
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "allowCalculateOverride": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden",
                "id": "ehd2et"
              },
              {
                "label": "Is form in edit / submission mode ?",
                "persistent": false,
                "calculateValue": "function ifUrlContains(searchText) {\r\n  // Get the current URL of the page\r\n  const currentUrl = window.location.href;\r\n  \r\n  // Check if the URL contains the specified text\r\n  return currentUrl.includes(searchText);\r\n}\r\n\r\nasync function markFormAsLeased(formId, formType) {\r\n  try {\r\n    // Call the function to update the formID table\r\n    await window.markFormAsLeased(formId, formType);\r\n  } catch (error) {\r\n    console.error(\"Error marking form as leased:\", error);\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function getAndSaveFormId(formType = \"24Hour\", maxRetries = 5, retryDelay = 1000) {\r\n  let retries = 0;\r\n  let value = null;\r\n  while (retries < maxRetries) {\r\n    try {\r\n      value = await window.getNextAvailableFormId(formType);\r\n      console.log(`Retrieved form ID ${formType}:`, value);\r\n      if (value !== null) {\r\n        return value; // Success! Return the value\r\n      } else {\r\n        console.log(`No available form ID found on attempt ${retries + 1}. Retrying...`);\r\n        retries++;\r\n        // Wait before retrying\r\n        await new Promise(resolve => setTimeout(resolve, retryDelay));\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error getting form ID (attempt ${retries + 1}):`, error);\r\n      retries++;\r\n      // Wait before retrying\r\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\r\n    }\r\n  }\r\n  console.error(`Failed to get form ID after ${maxRetries} attempts`);\r\n  return null;\r\n}\r\n\r\nconst formNumberChecksum = (formNumber) => {\r\n  const timesTwo = (num) => {\r\n    let newNum = num * 2;\r\n    if (newNum > 9) {\r\n      newNum = 1;\r\n    }\r\n    return newNum;\r\n  };\r\n  let [calc1, calc2, calc3, calc4, calc5, calc6, calc7, calc8] = formNumber\r\n    .toString()\r\n    .split(\"\")\r\n    .map(Number);\r\n\r\n  calc4 = timesTwo(calc4);\r\n  calc6 = timesTwo(calc6);\r\n  calc8 = timesTwo(calc8);\r\n\r\n  const digit = (calc3 + calc4 + calc5 + calc6 + calc7 + calc8) % 10;\r\n\r\n  return +(\"\" + formNumber + digit);\r\n};\r\n\r\nasync function leaseFormId(formType, apiKey) {\r\n  const numberinstance = instance.root.getComponent(apiKey);\r\n  if(numberinstance.getValue() || data[apiKey]){\r\n    console.log(\"Returning as already have value\")\r\n    return;\r\n  }\r\n  value = await getAndSaveFormId(formType); // Wait for the function to complete\r\n  if (value) {\r\n    console.log(\"Successfully retrieved form ID:\", value);\r\n    // if VI form do the checksum\r\n    const form_id = formType === \"VI\" ? formNumberChecksum(value) : value\r\n    instance.root.getComponent(apiKey).setValue(form_id);\r\n    // mark the form as leased in indexedDB\r\n    // TODO : Enable leasing logic\r\n    await markFormAsLeased(value, formType);\r\n    // Do something with the value\r\n  } else {\r\n    console.log(\"Could not retrieve a valid form ID\");\r\n  }\r\n}\r\n\r\nconsole.log(\"Calculating formids\");\r\nconsole.log(\"Calculating Current formRenderedSuccess value:\", window.formRenderedSuccess);\r\n\r\n\r\nfunction hideDiscardButton() {\r\n  const discardButton = document.querySelector('button[data-testid=\"draft-discard\"]');\r\n  if (discardButton) {\r\n    discardButton.remove();\r\n    console.log(\"Discard button removed\")\r\n  }\r\n}\r\n// Use a more specific variable name or namespace\r\nif (typeof window.myFormModule === 'undefined' || !window.myFormModule.formRenderedSuccess) {\r\n  window.myFormModule = {\r\n    formRenderedSuccess: false\r\n  };\r\n  \r\n  // Check if instance exists before accessing its properties\r\n  if (instance && instance.root) {\r\n    \r\n    // Hide Discard button if editDraft mode and is already printed\r\n    if(data?.lockFormInput === \"YES\" && ifUrlContains('draft')){\r\n      hideDiscardButton();\r\n    }\r\n    // Delete the flag if user navigates away\r\n    window.addEventListener('popstate', (event) => {\r\n      console.log('URL changed');\r\n      if (window.myFormModule) {\r\n        window.myFormModule.formRenderedSuccess = false;\r\n        console.log(\"Reset formRenderedSuccess flag\");\r\n      }\r\n    });\r\n    \r\n    // Promise.all([\r\n    //   instance.root.formReady,\r\n    //   instance.root.ready\r\n    // ]).then(() => {\r\n    //   // console.log(\"Form ready and in submission\", (instance.options && instance.options.readOnly ? true : false));\r\n    //   // const isSubmission = (instance.options && instance.options.readOnly ? true : false);\r\n      \r\n    //   debugger\r\n      \r\n      \r\n    // }).catch(error => {\r\n    //   console.error(\"Error during form initialization:\", error);\r\n    //   if (window.myFormModule) {\r\n    //     window.myFormModule.formRenderedSuccess = false;\r\n    //   }\r\n    // });\r\n    \r\n    if (!window.myFormModule.formRenderedSuccess && !ifUrlContains('draft') && !ifUrlContains('submission') && !ifUrlContains('application')) {\r\n        console.log(\"Form in intial edit mode, not in draft or submission mode\")\r\n        \r\n        leaseFormId(\"24Hour\", \"twenty_four_hour_number\");\r\n        leaseFormId(\"12Hour\", \"twelve_hour_number\");\r\n        leaseFormId(\"VI\", \"VI_number\");\r\n        \r\n        window.myFormModule.formRenderedSuccess = true;\r\n        console.log(\"Set formRenderedSuccess to true after processing\");\r\n      }\r\n      \r\n  } else {\r\n    console.warn(\"Instance or instance.root is not defined\");\r\n  }\r\n} else {\r\n  console.log(\"myFormModule already exists, skipping initialization\");\r\n}",
                "key": "isFromInEditSubmission",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "efb79k8",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Data to view in submission list",
                "customClass": "",
                "modalEdit": false,
                "defaultValue": null,
                "persistent": true,
                "protected": false,
                "dbIndex": false,
                "encrypted": false,
                "redrawOn": "",
                "customDefaultValue": "",
                "calculateValue": "const formNumbers = [\r\n ...(data?.VI ? [data?.VI_number] : []),\r\n ...(data?.TwelveHour ? [data?.twelve_hour_number] : []),\r\n ...(data?.TwentyFourHour ? [data?.twenty_four_hour_number] : []),\r\n ...(data?.irp_impound ? [data?.IRP_number] : [])\r\n].filter(Boolean).join(',');\r\n\r\nconst formTypes = [\r\n ...(data?.VI ? ['VI'] : []),\r\n ...(data?.TwelveHour ? ['12H'] : []),\r\n ...(data?.TwentyFourHour ? ['24H'] : [])\r\n].join(',');\r\n\r\nvalue = [\r\n ...(formTypes ? [{ \"label\": \"Form Type\", \"value\": formTypes, \"default\": true }] : []),\r\n ...(formNumbers ? [{ \"label\": \"Form #\", \"value\": formNumbers, \"default\": true }] : []),\r\n { \"label\": \"Surname\", \"value\": data?.driver_last_name },\r\n { \"label\": \"Plate #\", \"value\": data?.vehicle_plate_no },\r\n { \"label\": \"Location\", \"value\": data?.intersection_or_address_of_offence }\r\n];",
                "calculateServer": false,
                "key": "dashboardColumns",
                "tags": [],
                "properties": {},
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "hidden",
                "dataGridLabel": false,
                "input": true,
                "tableView": false,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "widget": {
                  "type": "input"
                },
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "allowCalculateOverride": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden",
                "id": "elt258"
              },
              {
                "label": "Submission Preview Well",
                "key": "submissionPreview",
                "customConditional": "function ifUrlContains(searchText) {\n  // Get the current URL of the page\n  const currentUrl = window.location.href;\n  \n  // Check if the URL contains the specified text\n  return currentUrl.includes(searchText);\n}\n\nshow = ifUrlContains('submission') || ifUrlContains('application')",
                "type": "well",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "HTML   ",
                            "tag": "div",
                            "attrs": [
                              {
                                "attr": "",
                                "value": ""
                              }
                            ],
                            "content": "<div ref=\"component\" class=\"form-group has-feedback formio-component formio-component-select formio-component-select\" id=\"stageSelectContainer\">\r\n  <label class=\"col-form-label\" ref=\"label\">\r\n    Select Type of Copy:\r\n  </label>\r\n  <select \r\n    aria-required=\"false\" \r\n    id=\"stageSelect\" \r\n    lang=\"en\" \r\n    class=\"form-control\" \r\n    type=\"text\" \r\n    name=\"data[stageSelect]\" \r\n    ref=\"selectContainer\"\r\n    style=\"\r\n      appearance: none;\r\n      -webkit-appearance: none;\r\n      -moz-appearance: none;\r\n      background-image: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%226%22 viewBox=%220 0 12 6%22><path fill=%22%23333333%22 d=%22M0 0l6 6 6-6z%22/></svg>');\r\n      background-repeat: no-repeat;\r\n      background-position: right 10px center;\r\n      background-size: 10px;\r\n      padding-right: 30px;\r\n    \"\r\n  >\r\n    <option value=\"stageTwo\" selected=\"selected\">Police/ICBC</option>\r\n    <option value=\"stageOne\">Driver/ILO</option>\r\n    \r\n  </select>\r\n</div>",
                            "refreshOnChange": false,
                            "key": "html4",
                            "customConditional": "function dropDownSelection() {\n  if(instance.render){\n  // Get the dropdown element by its ID\n  const stageSelect = document.getElementById('stageSelect');\n  \n  if(!stageSelect){\n    return\n  }\n  \n  // First, check if we've already stored a handler\n  if (!instance.stageSelectHandler) {\n    \n      // On initial load show Police copy\n      const rsbcInstance = instance.root.getComponent(\"rsbcImageSubmissionCopy\");\n      rsbcInstance.component.stage = 'stageTwo';\n      rsbcInstance.redraw();\n      \n    // Create the handler once and store it on the instance\n    instance.stageSelectHandler = function() {\n      // Code to execute when the dropdown is changed\n      console.log('Stage changed!');\n      const selectedValue = this.value;\n      \n      const rsbcInstance = instance.root.getComponent(\"rsbcImageSubmissionCopy\");\n      rsbcInstance.component.stage = selectedValue;\n      rsbcInstance.redraw();\n    };\n  }\n  \n  // Remove any previous instances using our stored reference\n  stageSelect.removeEventListener('change', instance.stageSelectHandler);\n  \n  // Add the event listener (now there will be only one)\n  stageSelect.addEventListener('change', instance.stageSelectHandler);\n}\n}\n\ndropDownSelection();\n\n\n\n",
                            "type": "htmlelement",
                            "input": false,
                            "tableView": false,
                            "id": "ei1vie",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": []
                          }
                        ],
                        "width": 10,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 10
                      },
                      {
                        "components": [
                          {
                            "label": "PrintButtonSubmissionView",
                            "tag": "div",
                            "attrs": [
                              {
                                "attr": "",
                                "value": ""
                              }
                            ],
                            "content": "<button class=\"btn btn-primary btn-md mt-md-5\" id=\"submission_print_button\">Print</button>",
                            "refreshOnChange": false,
                            "key": "printButtonSubmisionView",
                            "customConditional": "function printEventHandler() {\n    if (instance.render) {\n      // Get the button element by its ID\n      const printButton = document.getElementById('submission_print_button');\n      \n      if (!printButton) {\n        return;\n      }\n      \n      // Clear any existing handlers by cloning the button\n      const newButton = printButton.cloneNode(true);\n      printButton.parentNode.replaceChild(newButton, printButton);\n      \n      // Create a new handler and attach it\n      newButton.addEventListener('click', function() {\n        console.log('Print button was clicked!');\n        const rsbcInstance = instance.root.getComponent(\"rsbcImageSubmissionCopy\");\n        rsbcInstance.handleSubmissionPrint();\n      });\n    }\n  }\n  \nfunction ifUrlContains(searchText) {\n  // Get the current URL of the page\n  const currentUrl = window.location.href;\n  \n  // Check if the URL contains the specified text\n  return currentUrl.includes(searchText);\n}\n\n// Add a flag to ensure we only set up the handler once per instance lifecycle\n  if (ifUrlContains(\"submission\")) {\n    printEventHandler();\n  }\n\n",
                            "type": "htmlelement",
                            "input": false,
                            "tableView": false,
                            "id": "emb919g",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": []
                          }
                        ],
                        "width": 2,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 2
                      }
                    ],
                    "key": "columns24",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "clearOnHide": true,
                    "id": "e4dgm05",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "autoAdjust": false
                  },
                  {
                    "label": "RSBC Image Submission Preview ",
                    "stage": "stageOne",
                    "hideLabel": true,
                    "tableView": false,
                    "validateWhenHidden": false,
                    "key": "rsbcImageSubmissionCopy",
                    "type": "rsbcimage",
                    "input": true,
                    "id": "esm18ed",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": []
                  }
                ],
                "id": "ercjmy",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false
              },
              {
                "label": "Main Well",
                "key": "mainWell",
                "customConditional": "function ifUrlContains(searchText) {\n  // Get the current URL of the page\n  const currentUrl = window.location.href;\n  \n  // Check if the URL contains the specified text\n  return currentUrl.includes(searchText);\n}\n\nshow = (!ifUrlContains('submission') && !ifUrlContains('application'))",
                "type": "well",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Fill VI&24 ",
                            "action": "custom",
                            "showValidations": false,
                            "theme": "secondary",
                            "size": "sm",
                            "tableView": false,
                            "key": "fillAllForm",
                            "type": "button",
                            "custom": "date_string = moment().startOf('day').format('YYYY-MM-DDTHH:mm:ssZ');\r\n\r\nsample = {\r\n    \"VI\": true,\r\n    \"TwentyFourHour\": true,\r\n    \"TwelveHour\": false,\r\n    \"IRP\": false,\r\n    \"drivers_licence_jurisdiction\": {\r\n        \"value\": \"CA_BC\",\r\n        \"label\": \"BRITISH COLUMBIA\"\r\n    },\r\n    \"driver_last_name\": \"DEMO\",\r\n    \"driver_address\": \"121 WESTPARLK LN\",\r\n    \"driver_phone\": \"213-123-1231\",\r\n    \"driver_prov_state\": {\r\n        \"value\": \"CA_BC\",\r\n        \"label\": \"BRITISH COLUMBIA\"\r\n    },\r\n    \"driver_postal\": \"V9B3R7\",\r\n    \"gender\": {\r\n        \"label\": \"Male\",\r\n        \"value\": \"M\"\r\n    },\r\n    \"driver_licence_expiry\": \"2029-03-17T00:00:00-07:00\",\r\n    \"vehicle_plate_no\": \"AA649A\",\r\n    \"vehicle_jurisdiction\": {\r\n        \"value\": \"CA_BC\",\r\n        \"label\": \"BRITISH COLUMBIA\"\r\n    },\r\n    \"vehicle_registration_no\": \"10006389\",\r\n    \"vehicle_type\": {\r\n        \"value\": 1,\r\n        \"label\": \"PASSENGER\"\r\n    },\r\n    \"vehicle_year\": {\r\n        \"value\": \"1986\",\r\n        \"label\": \"1986\"\r\n    },\r\n    \"vehicle_mk_md\": {\r\n        \"value\": \"ACAD-CANS\",\r\n        \"label\": \"ACAD-CANS\"\r\n    },\r\n    \"vehicle_style\": {\r\n        \"value\": \"2DR\",\r\n        \"label\": \"2-DOOR SEDAN\"\r\n    },\r\n    \"vehicle_colour\": [\r\n        \"BLK\"\r\n    ],\r\n    \"vehicle_vin_no\": \"2B4GB11H7GK040231\",\r\n    \"nsc_prov_state\": {\r\n        \"value\": \"CA_BC\",\r\n        \"label\": \"BRITISH COLUMBIA\"\r\n    },\r\n    \"regist_owner_last_name\": \"LOCT-TEST\",\r\n    \"regist_owner_first_name\": \"REDIRECT-THREE\",\r\n    \"regist_owner_dob\": \"1980-01-01T08:00:00.000Z\",\r\n    \"regist_owner_address\": \"910 GOVERNMENT ST\",\r\n    \"regist_owner_city\": \"VICTORIA\",\r\n    \"regist_owner_prov_state\": {\r\n        \"value\": \"CA_BC\",\r\n        \"label\": \"BRITISH COLUMBIA\"\r\n    },\r\n    \"regist_owner_postal\": \"V8W1X3\",\r\n    \"vehicle_impounded\": \"YES\",\r\n    \"date_of_impound\": \"\",\r\n    \"locationOfKeys1\": \"WITH DRIVER\",\r\n    \"ILOOptions1\": {\r\n        \"value\": 214,\r\n        \"name\": \"5 STAR TOWING\",\r\n        \"lot_address\": \"733 2ND AVE\",\r\n        \"city\": \"PRINCE GEORGE\",\r\n        \"phone\": \"250-614-9393\",\r\n        \"label\": \"5 STAR TOWING, 733 2ND AVE, PRINCE GEORGE, 250-614-9393\"\r\n    },\r\n    \"ILOName1\": \"5 STAR TOWING\",\r\n    \"ILO-address\": \"733 2ND AVE\",\r\n    \"ILO-city\": \"PRINCE GEORGE\",\r\n    \"ILO-phone\": \"250-614-9393\",\r\n    \"location_of_keys\": \"WITH DRIVER\",\r\n    \"ILO-options\": {\r\n        \"label\": \"5 STAR TOWING, 733 2ND AVE, PRINCE GEORGE, 250-614-9393\",\r\n        \"value\": 214\r\n    },\r\n    \"ILO-name\": \"5 STAR TOWING\",\r\n    \"type_of_prohibition\": \"alcohol\",\r\n    \"intersection_or_address_of_offence\": \"DEMO ADDRESS\",\r\n    \"offence_city\": {\r\n        \"value\": \"OHMH\",\r\n        \"label\": \"100 MILE HOUSE\"\r\n    },\r\n    \"agency_file_no\": \"DEMO\",\r\n    \"irp_vi_number\": 229312081,\r\n    \"excessive_speed\": false,\r\n    \"prohibited\": true,\r\n    \"suspended\": false,\r\n    \"street_racing\": false,\r\n    \"stunt_driving\": false,\r\n    \"motorcycle_seating\": false,\r\n    \"unlicensed\": false,\r\n    \"linkage_location_of_keys\": false,\r\n    \"linkage_location_of_keys_explanation\": \"\",\r\n    \"linkage_driver_principal\": true,\r\n    \"linkage_owner_in_vehicle\": false,\r\n    \"linkage_owner_aware_possesion\": false,\r\n    \"linkage_vehicle_transfer_notice\": false,\r\n    \"linkage_other\": false,\r\n    \"witnessed_by_officer\": false,\r\n    \"admission_by_driver\": false,\r\n    \"independent_witness\": false,\r\n    \"reasonable_ground_other\": false,\r\n    \"prescribed_test_used\": \"NO\",\r\n    \"reason_for_not_using_prescribed_test\": \"refused\",\r\n    \"resonable_approved_instrument_used\": \"\",\r\n    \"reasonable_can_drive_drug\": false,\r\n    \"reasonable_can_drive_alcohol\": false,\r\n    \"incident_details\": \"ACCIDENT\",\r\n    \"officer-lastname\": \"RATHEESH\",\r\n    \"officer-prime-id\": \"RK2345\",\r\n    \"officer-agency\": \"BCHP Campbell River\",\r\n    \"nsc_no\": \"123\",\r\n    \"document_served\": \"\",\r\n    \"peace_officer_name\": \"RATHEESH, KUMAR\",\r\n    \"badge_number\": \"RK2345\",\r\n    \"enforcement_agency\": \"BCHP Campbell River\",\r\n    \"requested_can_drive_drug\": false,\r\n    \"requested_can_drive_alcohol\": false,\r\n}\r\n\r\n// Create a merged data object\r\n// This will only override the keys that exist in sample\r\nconst mergedData = {\r\n  ...data,\r\n  ...sample\r\n};\r\n\r\nform.setValue({\r\n    data: mergedData\r\n}, {\r\n    // Optional flags\r\n    noValidate: true,  // Skip validation\r\n    modified: true,    // Mark as modified\r\n    fromSubmission: false, // Indicate this is from a submission\r\n    resetValue: false   // Reset the value completely\r\n});\r\nform.redraw()",
                            "input": true,
                            "id": "eceq2rg",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": true,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "leftIcon": "",
                            "rightIcon": "",
                            "block": false,
                            "disableOnInvalid": false
                          }
                        ],
                        "width": 6,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 6
                      },
                      {
                        "components": [
                          {
                            "label": "Generate IDs",
                            "action": "custom",
                            "showValidations": false,
                            "theme": "secondary",
                            "size": "sm",
                            "tableView": false,
                            "key": "generateIDs",
                            "type": "button",
                            "custom": "console.log(\"generate formids\")\r\nif (window.myFormModule) {\r\n        window.myFormModule.formRenderedSuccess = false;\r\n}\r\n\r\n// Function to insert user details into the user table\r\n// Function to insert user details into the user table with hardcoded values\r\nasync function insertUserDetails() {\r\n  try {\r\n    console.log(\"Inserting hardcoded user details...\");\r\n    \r\n    // Hardcoded user_guid from the example\r\n    const userGuid = \"CC1EF534334340E28D0E210D487EADC6\";\r\n    \r\n    // Open the database\r\n    const dbOpenRequest = indexedDB.open(\"digitalFormsFF\");\r\n    \r\n    dbOpenRequest.onerror = (event) => {\r\n      console.error(\"Error opening database:\", event.target.error);\r\n    };\r\n    \r\n    dbOpenRequest.onsuccess = async (event) => {\r\n      const db = event.target.result;\r\n      console.log(\"Database opened successfully for user insertion\");\r\n      \r\n      // Check if the user already exists\r\n      const transaction = db.transaction(\"user\", \"readonly\");\r\n      const userStore = transaction.objectStore(\"user\");\r\n      const request = userStore.get(userGuid);\r\n      \r\n      request.onsuccess = (event) => {\r\n        const existingUser = event.target.result;\r\n        \r\n        if (existingUser) {\r\n          console.log(\"User already exists in the database\");\r\n          db.close();\r\n          return;\r\n        }\r\n        \r\n        // User doesn't exist, let's insert\r\n        const insertTransaction = db.transaction(\"user\", \"readwrite\");\r\n        const userStore = insertTransaction.objectStore(\"user\");\r\n        \r\n        // Create user object with hardcoded values based on the images shown\r\n        const userRecord = {\r\n          user_guid: \"CC1EF534334340E28D0E210D487EADC6\",\r\n          username: \"cc1ef534334340e28d0e210d487eadc6@idir\",\r\n          display_name: \"Kumar, Ratheesh PSSG:EX\",\r\n          first_name: \"KUMAR\",\r\n          last_name: \"RATHEESH\",\r\n          login: \"RATHKUM@idir\",\r\n          agency: \"BCHP Campbell River\",\r\n          badge_number: \"RK2345\",\r\n          last_active: \"Tue, 11 Mar 2025 18:59:01 GMT\"\r\n        };\r\n        \r\n        const insertRequest = userStore.add(userRecord);\r\n        \r\n        insertRequest.onsuccess = () => {\r\n          console.log(\"Successfully inserted hardcoded user record\");\r\n        };\r\n        \r\n        insertRequest.onerror = (event) => {\r\n          console.error(\"Error inserting user record:\", event.target.error);\r\n        };\r\n        \r\n        insertTransaction.oncomplete = () => {\r\n          console.log(\"User insertion transaction completed successfully\");\r\n          db.close();\r\n        };\r\n        \r\n        insertTransaction.onerror = (event) => {\r\n          console.error(\"User insertion transaction error:\", event.target.error);\r\n          db.close();\r\n        };\r\n      };\r\n      \r\n      request.onerror = (event) => {\r\n        console.error(\"Error checking for existing user:\", event.target.error);\r\n        db.close();\r\n      };\r\n    };\r\n    \r\n    dbOpenRequest.onupgradeneeded = (event) => {\r\n      const db = event.target.result;\r\n      \r\n      // Check if user store exists\r\n      if (!db.objectStoreNames.contains(\"user\")) {\r\n        console.log(\"Creating user object store\");\r\n        const userStore = db.createObjectStore(\"user\", { keyPath: \"user_guid\" });\r\n        userStore.createIndex(\"username\", \"username\", { unique: false });\r\n        userStore.createIndex(\"agency\", \"agency\", { unique: false });\r\n        userStore.createIndex(\"badge_number\", \"badge_number\", { unique: false });\r\n        userStore.createIndex(\"last_active\", \"last_active\", { unique: false });\r\n      }\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error in insertUserDetails:\", error);\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * This is a script for temporary use by admin/designer when form IDs are not available in dev backend\r\n * It will only execute for users with the designer role and will only insert new form IDs if none are available\r\n */\r\n\r\n// Main function to check and insert records if needed\r\nasync function checkAndInsertFormIds() {\r\n  try {\r\n    // // First check if user has designer role\r\n    // const userDetails = JSON.parse(localStorage.getItem('USER_DETAILS') || '{}');\r\n    // const userGroups = userDetails.groups || [];\r\n    \r\n    // // Check if user has designer role\r\n    // const hasDesignerRole = userGroups.some(group => \r\n    //   group === \"/digitalforms/digitalform-designer\" || \r\n    //   group.includes(\"digitalform-designer\")\r\n    // );\r\n    \r\n    // if (!hasDesignerRole) {\r\n    //   console.warn(\"Script execution halted: User does not have designer role\");\r\n    //   return;\r\n    // }\r\n    \r\n    console.log(\"User has designer role. Proceeding with form ID check...\");\r\n    \r\n    // Define the form types\r\n    const formTypes = ['VI', '12Hour', '24Hour'];\r\n    \r\n    // Open the database\r\n    const dbOpenRequest = indexedDB.open(\"digitalFormsFF\");\r\n    \r\n    dbOpenRequest.onerror = (event) => {\r\n      console.error(\"Error opening database:\", event.target.error);\r\n    };\r\n    \r\n    dbOpenRequest.onsuccess = async (event) => {\r\n      const db = event.target.result;\r\n      console.log(\"Database opened successfully\");\r\n      \r\n      let needToInsert = false;\r\n      const formTypesNeedingIds = [];\r\n      \r\n      // Check if each form type has available IDs\r\n      for (const formType of formTypes) {\r\n        const transaction = db.transaction(\"formID\", \"readonly\");\r\n        const formIDStore = transaction.objectStore(\"formID\");\r\n        \r\n        // Get all records for this form type\r\n        const index = formIDStore.index(\"form_type\");\r\n        const request = index.getAll(formType);\r\n        \r\n        await new Promise((resolve) => {\r\n          request.onsuccess = (event) => {\r\n            const forms = event.target.result;\r\n            const availableForms = forms.filter(form => form.leased === false);\r\n            \r\n            if (availableForms.length === 0) {\r\n              console.log(`No available forms for type ${formType}. Will need to insert new ones.`);\r\n              formTypesNeedingIds.push(formType);\r\n              needToInsert = true;\r\n            } else {\r\n              console.log(`Found ${availableForms.length} available forms for type ${formType}.`);\r\n            }\r\n            resolve();\r\n          };\r\n          \r\n          request.onerror = (event) => {\r\n            console.error(`Error checking forms for type ${formType}:`, event.target.error);\r\n            resolve();\r\n          };\r\n        });\r\n      }\r\n      \r\n      if (!needToInsert) {\r\n        console.log(\"All form types have available IDs. No insertion needed.\");\r\n        db.close();\r\n        return;\r\n      }\r\n      \r\n      console.log(`Need to insert IDs for form types: ${formTypesNeedingIds.join(', ')}`);\r\n      \r\n      // Start insertion for types that need it\r\n      const insertTransaction = db.transaction(\"formID\", \"readwrite\");\r\n      const formIDStore = insertTransaction.objectStore(\"formID\");\r\n      \r\n      let insertCounter = 0;\r\n      let errorCounter = 0;\r\n      const totalToInsert = formTypesNeedingIds.length * 5;\r\n      \r\n      formTypesNeedingIds.forEach(formType => {\r\n  for (let i = 0; i < 5; i++) {\r\n    const record = createFormIdRecord(formType);\r\n    const request = formIDStore.add(record);\r\n    \r\n    request.onsuccess = () => {\r\n      insertCounter++;\r\n      console.log(`Successfully inserted ${formType} record: ${record.id}`);\r\n      \r\n      // Check if all operations completed\r\n      if (insertCounter + errorCounter === totalToInsert) {\r\n        console.log(`Insertion complete. ${insertCounter} records inserted, ${errorCounter} errors.`);\r\n      }\r\n    };\r\n    \r\n    request.onerror = (event) => {\r\n      errorCounter++;\r\n      console.error(`Error inserting ${formType} record:`, event.target.error);\r\n      \r\n      // Check if all operations completed\r\n      if (insertCounter + errorCounter === totalToInsert) {\r\n        console.log(`Insertion complete. ${insertCounter} records inserted, ${errorCounter} errors.`);\r\n      }\r\n    };\r\n  }\r\n});\r\n      \r\n      insertTransaction.oncomplete = () => {\r\n        console.log(\"Transaction completed successfully\");\r\n        db.close();\r\n      };\r\n      \r\n      insertTransaction.onerror = (event) => {\r\n        console.error(\"Transaction error:\", event.target.error);\r\n        db.close();\r\n      };\r\n    };\r\n    \r\n    dbOpenRequest.onupgradeneeded = (event) => {\r\n      // This should only run if the database doesn't exist or is being upgraded\r\n      const db = event.target.result;\r\n      \r\n      // Check if formID store exists\r\n      if (!db.objectStoreNames.contains(\"formID\")) {\r\n        console.log(\"Creating formID object store\");\r\n        const formIDStore = db.createObjectStore(\"formID\", { keyPath: \"id\" });\r\n        formIDStore.createIndex(\"form_type\", \"form_type\", { unique: false });\r\n        formIDStore.createIndex(\"leased\", \"leased\", { unique: false });\r\n        formIDStore.createIndex(\"last_updated\", \"last_updated\", { unique: false });\r\n      }\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(\"Error in checkAndInsertFormIds:\", error);\r\n  }\r\n}\r\n\r\n// Function to generate a random ID for a specific form type\r\nfunction generateFormId(formType) {\r\n  const randomNum = Math.floor(10000000 + Math.random() * 90000000); // 8-digit random number\r\n  return randomNum.toString()\r\n}\r\n\r\n// Function to create a form ID record\r\nfunction createFormIdRecord(formType) {\r\n  // Set expiry to a future date (30 days from now)\r\n  const expiryDate = new Date();\r\n  expiryDate.setDate(expiryDate.getDate() + 30);\r\n  \r\n  return {\r\n    id: generateFormId(formType),\r\n    form_type: formType,\r\n    leased: false,\r\n    lease_expiry: expiryDate.toUTCString(),\r\n    printed_timestamp: null,\r\n    spoiled_timestamp: null,\r\n    user_guid: null,\r\n    last_updated: new Date().toISOString()\r\n  };\r\n}\r\n\r\n// Execute the function\r\ncheckAndInsertFormIds().then(() => {\r\n    console.log(\"Form ID check and insertion script completed\");\r\n    return insertUserDetails();\r\n  })\r\n  .then(() => {\r\n  console.log(\"Form ID check and insertion script completed\");\r\n  instance.root.redraw()\r\n}).catch(error => {\r\n  console.error(\"Unhandled error in script:\", error);\r\n});",
                            "input": true,
                            "id": "eekvvnm",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": true,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "leftIcon": "",
                            "rightIcon": "",
                            "block": false,
                            "disableOnInvalid": false
                          }
                        ],
                        "width": 6,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 6
                      }
                    ],
                    "autoAdjust": false,
                    "customClass": "",
                    "hidden": false,
                    "modalEdit": false,
                    "key": "columns23",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "// Only enable this button for dev purpose\nfunction isDomainMatch(domainArray) {\n   const currentDomain = window.location.hostname;\n   return domainArray.includes(currentDomain);\n}\n\n// Usage\nconst allowedDomains = ['localhost', 'forms-flow-web-be78d6-dev.apps.silver.devops.gov.bc.ca', 'dev.jag.gov.bc.ca'];\nconst result = isDomainMatch(allowedDomains);\nshow = result;",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "columns",
                    "dataGridLabel": false,
                    "input": false,
                    "tableView": false,
                    "clearOnHide": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "id": "e0ucud9"
                  },
                  {
                    "label": "Error Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Error List HTML",
                            "tag": "div",
                            "className": "",
                            "attrs": [
                              {
                                "attr": "",
                                "value": ""
                              }
                            ],
                            "content": "<div id=\"errorsContainer\" style=\"display: none;\">Errors</div>",
                            "refreshOnChange": true,
                            "customClass": "",
                            "hidden": false,
                            "modalEdit": false,
                            "key": "errorList",
                            "tags": [],
                            "properties": {},
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": "",
                              "json": ""
                            },
                            "customConditional": "function displayErrors(errorsArray, instanceObj) {\r\n  // Get the errors container div\r\n  const errorsContainer = document.getElementById('errorsContainer');\r\n  \r\n  if (!errorsArray || errorsArray.length === 0) {\r\n    // No errors, empty and hide the container\r\n    errorsContainer.innerHTML = '';\r\n    errorsContainer.style.display = 'none';\r\n    return;\r\n  }\r\n  \r\n  // Make the container visible\r\n  errorsContainer.style.display = 'block';\r\n  \r\n  // Create an unordered list element with a unique ID\r\n  let errorsList = '<ul id=\"errorsList\" style=\"color: #dc3545; padding-left: 20px; margin-bottom: 10px;\">';\r\n  \r\n  // Loop through the errors array and add each error message to the list\r\n  errorsArray.forEach((error, index) => {\r\n    // Extract the error message and component label\r\n    const errorMessage = error.message || 'Unknown error';\r\n    const componentLabel = error.component && error.component.label \r\n      ? error.component.label.trim() \r\n      : 'Unknown field';\r\n    \r\n    // Get component ID\r\n    const componentId = error.component ? 'e-' + error.component.id + '-' + error.component.key : '';\r\n    \r\n    // Add both the component label and error message with a data attribute\r\n    if (componentId) {\r\n      errorsList += `<li style=\"cursor: pointer;\" data-component-id=\"${componentId}\" data-error-index=\"${index}\"><strong>${componentLabel}:</strong> ${errorMessage}</li>`;\r\n    } else {\r\n      errorsList += `<li><strong>${componentLabel}:</strong> ${errorMessage}</li>`;\r\n    }\r\n  });\r\n  \r\n  // Close the unordered list\r\n  errorsList += '</ul>';\r\n  \r\n  // Set the HTML content of the errors container\r\n  errorsContainer.innerHTML = errorsList;\r\n  \r\n  // Get the errors list element\r\n  const errorsListElement = document.getElementById('errorsList');\r\n  if (errorsListElement) {\r\n    // Instead of trying to remove previous listeners (which won't work with a new function),\r\n    // use the simpler approach of just setting a new handler\r\n    errorsListElement.onclick = function(event) {\r\n      // Check if a list item was clicked\r\n      let target = event.target;\r\n      \r\n      // If the click was on a child element of the li (like the strong tag),\r\n      // traverse up to find the li element\r\n      while (target !== this && !target.hasAttribute('data-component-id')) {\r\n        target = target.parentNode;\r\n        if (!target) return; // Handle case where no matching parent is found\r\n      }\r\n      \r\n      // If we found an li with a data-component-id attribute\r\n      if (target !== this && target.hasAttribute('data-component-id')) {\r\n        const componentId = target.getAttribute('data-component-id');\r\n        focusComponent(componentId, instanceObj);\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\n// Define the focusComponent function in the same scope\r\nfunction focusComponent(componentId, instanceObj) {\r\n  const element = document.getElementById(componentId);\r\n  if (element) {\r\n    // Scroll to the element\r\n    element.scrollIntoView({\r\n      behavior: 'smooth',\r\n      block: 'center'\r\n    });\r\n    \r\n    // Try to focus on the element or its input\r\n    const input = element.querySelector('input, select, textarea');\r\n    if (input) {\r\n      input.focus();\r\n    } else {\r\n      element.focus();\r\n    }\r\n    \r\n    // Add a temporary highlight effect\r\n    element.style.transition = 'background-color 0.5s';\r\n    const originalBackgroundColor = element.style.backgroundColor;\r\n    element.style.backgroundColor = '#fff3cd';\r\n    \r\n    setTimeout(() => {\r\n      element.style.backgroundColor = originalBackgroundColor;\r\n    }, 2000);\r\n  }\r\n}\r\n\r\n// Function to reset everything\r\nfunction resetErrorDisplay() {\r\n  const errorsContainer = document.getElementById('errorsContainer');\r\n  if (errorsContainer) {\r\n    errorsContainer.innerHTML = '';\r\n    errorsContainer.style.display = 'none';\r\n  }\r\n}\r\n\r\n// Check if we already have a change event listener set up\r\nif (!instance._changeEventListenerSet) {\r\n  // Set the flag to indicate we've added the listener\r\n  instance._changeEventListenerSet = true;\r\n  \r\n  // Add the event listener only once\r\n  instance.root.on('change', (changed) => {\r\n    // Your code to execute when any form field changes\r\n    console.log('Form value changed:', changed);\r\n     if (instance.root?.errors?.length) {\r\n    console.log(\"Displaying errors\");\r\n    displayErrors(instance.root.errors, instance);\r\n  } else {\r\n    console.log(\"No errors, resetting display\");\r\n    resetErrorDisplay();\r\n  }\r\n    \r\n  });\r\n}",
                            "logic": [],
                            "attributes": {},
                            "overlay": {
                              "style": "",
                              "page": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "type": "htmlelement",
                            "dataGridLabel": false,
                            "input": false,
                            "tableView": false,
                            "placeholder": "",
                            "prefix": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "allowMultipleMasks": false,
                            "addons": [],
                            "id": "erlh6v"
                          }
                        ],
                        "width": 10,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 10
                      },
                      {
                        "components": [],
                        "width": 2,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 2
                      }
                    ],
                    "autoAdjust": true,
                    "key": "errorColumns",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "clearOnHide": true,
                    "id": "eo8jsxc",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false
                  },
                  {
                    "label": "twenty_four_hour_number",
                    "key": "twenty_four_hour_number",
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "e912px8",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "twelve_hour_number",
                    "key": "twelve_hour_number",
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "ef99h6",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "VI_number",
                    "key": "VI_number",
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "eo8wiqn",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "title": "Please select one or more forms:  ",
                    "collapsible": false,
                    "key": "pleaseSelectOneOrMoreForms",
                    "customConditional": "console.log(\"data from first panel\", data)",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Vehicle Impound   ",
                                "description": "",
                                "tooltip": "",
                                "shortcut": "",
                                "inputType": "checkbox",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "defaultValue": false,
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validate": {
                                  "required": false,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "VI",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "checkbox",
                                "name": "",
                                "value": "",
                                "dataGridLabel": true,
                                "input": true,
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "unique": false,
                                "refreshOn": "",
                                "labelPosition": "right",
                                "widget": null,
                                "validateOn": "change",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "id": "ealam7e"
                              },
                              {
                                "label": "24-hour Driving Prohibition",
                                "tableView": false,
                                "defaultValue": false,
                                "validateWhenHidden": false,
                                "key": "TwentyFourHour",
                                "customConditional": "// Disable if TwelveHour enabled\ninstance?.refs?.input?.forEach((input) => {\n        input.disabled = data?.TwelveHour;\n});",
                                "type": "checkbox",
                                "input": true,
                                "id": "e23l32p",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "right",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "checkbox",
                                "value": "",
                                "name": ""
                              },
                              {
                                "label": "12-hour Driving Suspension ",
                                "tableView": false,
                                "defaultValue": false,
                                "validateWhenHidden": false,
                                "key": "TwelveHour",
                                "customConditional": "// Disable if TwentyFourHour enabled\ninstance?.refs?.input?.forEach((input) => {\n        input.disabled = data?.TwentyFourHour;\n});",
                                "type": "checkbox",
                                "input": true,
                                "id": "eq5ox5f",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "right",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "checkbox",
                                "value": "",
                                "name": ""
                              },
                              {
                                "label": "IRP",
                                "hidden": true,
                                "tableView": false,
                                "defaultValue": false,
                                "validateWhenHidden": false,
                                "key": "IRP",
                                "type": "checkbox",
                                "input": true,
                                "id": "etipgl",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "right",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "checkbox",
                                "value": "",
                                "name": ""
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "html": "<p><strong>VI Number</strong>: {{data?.VI_number}}</p>",
                                "label": "VI number",
                                "refreshOnChange": true,
                                "key": "viNumber",
                                "conditional": {
                                  "show": true,
                                  "when": "VI",
                                  "eq": "true"
                                },
                                "type": "content",
                                "input": false,
                                "tableView": false,
                                "id": "e0rhc3n",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": []
                              },
                              {
                                "html": "<p><strong>24 Hour Number</strong> : {{data?.twenty_four_hour_number}}</p>",
                                "label": "VI number",
                                "refreshOnChange": true,
                                "key": "twenyFourNumber",
                                "conditional": {
                                  "show": true,
                                  "when": "TwentyFourHour",
                                  "eq": "true"
                                },
                                "type": "content",
                                "input": false,
                                "tableView": false,
                                "id": "epf7xk",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": []
                              },
                              {
                                "html": "<p><strong>12 Hour Number</strong>: {{data?.twelve_hour_number}}</p>",
                                "label": "VI number",
                                "refreshOnChange": true,
                                "key": "twelveHourNumber",
                                "conditional": {
                                  "show": true,
                                  "when": "TwelveHour",
                                  "eq": "true"
                                },
                                "type": "content",
                                "input": false,
                                "tableView": false,
                                "id": "exljh4l",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": []
                              },
                              {
                                "label": "Form Selected",
                                "persistent": false,
                                "calculateValue": "value = (data?.VI || data?.TwentyFourHour || data?.TwelveHour)",
                                "key": "formsSelected",
                                "type": "hidden",
                                "input": true,
                                "tableView": false,
                                "id": "erp0ga7",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "hidden"
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "key": "columns22",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "euzj4y",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "formIdPresent message",
                        "tag": "div",
                        "className": "alert alert-danger",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "No form IDs available. Please ensure that you are connected to the Internet or contact RSIOpsSupport@gov.bc.ca",
                        "refreshOnChange": false,
                        "customClass": "",
                        "hidden": true,
                        "modalEdit": false,
                        "key": "formIdPresent",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "show = false\nif(data.formsSelected && (data.twenty_four_hour_number === '' || data.twenty_four_hour_number === \"\" || data.VI_number === \"\")){\n  show = true\n}",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "htmlelement",
                        "dataGridLabel": false,
                        "input": false,
                        "tableView": false,
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "id": "e8ddyr8"
                      }
                    ],
                    "keyModified": true,
                    "clearOnHide": true,
                    "id": "epxddmk",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Driver's Information",
                    "collapsible": false,
                    "key": "driver1",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI || data?.TwentyFourHour || data?.TwelveHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Driver's Licence Number",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": false,
                                "case": "uppercase",
                                "calculateValue": "value = value.trim()",
                                "validateOn": "blur",
                                "validate": {
                                  "custom": "let dlNumber = data?.driver_licence_no;\n\nif (dlNumber) {\n  const isBCOrTwelveHour = data?.TwelveHour || \n    (data?.drivers_licence_jurisdiction?.label === \"BRITISH COLUMBIA\");\n\n  dlNumber = dlNumber.toUpperCase().replace(/\\s+/g, \"\");\n  \n  if (isBCOrTwelveHour && dlNumber.length === 7) {\n    dlNumber = \"0\" + dlNumber;\n  }\n\n  data.driver_licence_no = dlNumber;\n  instance.redraw();\n}",
                                  "required": false,
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "errorLabel": "maximum 8 digit",
                                "key": "driver_licence_no",
                                "type": "textfield",
                                "input": true,
                                "id": "eg2gv3",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "label": "Province / State / International ",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "json",
                                "defaultValue": {
                                  "value": "CA_BC",
                                  "label": "BRITISH COLUMBIA"
                                },
                                "data": {
                                  "json": [
                                    {
                                      "value": "CA_BC",
                                      "label": "BRITISH COLUMBIA"
                                    },
                                    {
                                      "value": "CA_AB",
                                      "label": "ALBERTA"
                                    },
                                    {
                                      "value": "US_WA",
                                      "label": "WASHINGTON"
                                    },
                                    {
                                      "value": "CA_MB",
                                      "label": "MANITOBA"
                                    },
                                    {
                                      "value": "CA_NB",
                                      "label": "NEW BRUNSWICK"
                                    },
                                    {
                                      "value": "CA_NF",
                                      "label": "NEWFOUNDLAND & LABRADOR"
                                    },
                                    {
                                      "value": "CA_NS",
                                      "label": "NOVA SCOTIA"
                                    },
                                    {
                                      "value": "CA_NT",
                                      "label": "NORTHWEST TERRITORIES"
                                    },
                                    {
                                      "value": "CA_NU",
                                      "label": "NUNAVUT"
                                    },
                                    {
                                      "value": "CA_ON",
                                      "label": "ONTARIO"
                                    },
                                    {
                                      "value": "CA_PE",
                                      "label": "PRINCE EDWARD ISLAND"
                                    },
                                    {
                                      "value": "CA_QC",
                                      "label": "QUEBEC"
                                    },
                                    {
                                      "value": "CA_SK",
                                      "label": "SASKATCHEWAN"
                                    },
                                    {
                                      "value": "CA_YT",
                                      "label": "YUKON"
                                    },
                                    {
                                      "value": "US_AK",
                                      "label": "ALASKA"
                                    },
                                    {
                                      "value": "US_AL",
                                      "label": "ALABAMA"
                                    },
                                    {
                                      "value": "US_AR",
                                      "label": "ARKANSAS"
                                    },
                                    {
                                      "value": "US_AS",
                                      "label": "AMERICAN SAMOA"
                                    },
                                    {
                                      "value": "US_AZ",
                                      "label": "ARIZONA"
                                    },
                                    {
                                      "value": "US_CA",
                                      "label": "CALIFORNIA"
                                    },
                                    {
                                      "value": "US_CO",
                                      "label": "COLORADO"
                                    },
                                    {
                                      "value": "US_CT",
                                      "label": "CONNECTICUT"
                                    },
                                    {
                                      "value": "US_DC",
                                      "label": "DISTRICT OF COLUMBIA"
                                    },
                                    {
                                      "value": "US_DE",
                                      "label": "DELAWARE"
                                    },
                                    {
                                      "value": "US_FL",
                                      "label": "FLORIDA"
                                    },
                                    {
                                      "value": "US_GA",
                                      "label": "GEORGIA"
                                    },
                                    {
                                      "value": "US_GU",
                                      "label": "GUAM"
                                    },
                                    {
                                      "value": "US_HI",
                                      "label": "HAWAII"
                                    },
                                    {
                                      "value": "US_IA",
                                      "label": "IOWA"
                                    },
                                    {
                                      "value": "US_ID",
                                      "label": "IDAHO"
                                    },
                                    {
                                      "value": "US_IL",
                                      "label": "ILLINOIS"
                                    },
                                    {
                                      "value": "US_IN",
                                      "label": "INDIANA"
                                    },
                                    {
                                      "value": "US_KS",
                                      "label": "KANSAS"
                                    },
                                    {
                                      "value": "US_KY",
                                      "label": "KENTUCKY"
                                    },
                                    {
                                      "value": "US_LA",
                                      "label": "LOUISIANA"
                                    },
                                    {
                                      "value": "US_MA",
                                      "label": "MASSACHUSETTS"
                                    },
                                    {
                                      "value": "US_MD",
                                      "label": "MARYLAND"
                                    },
                                    {
                                      "value": "US_ME",
                                      "label": "MAINE"
                                    },
                                    {
                                      "value": "US_MI",
                                      "label": "MICHIGAN"
                                    },
                                    {
                                      "value": "US_MN",
                                      "label": "MINNESOTA"
                                    },
                                    {
                                      "value": "US_MO",
                                      "label": "MISSOURI"
                                    },
                                    {
                                      "value": "US_MP",
                                      "label": "NORTHERN MARIANA ISLANDS"
                                    },
                                    {
                                      "value": "US_MS",
                                      "label": "MISSISSIPPI"
                                    },
                                    {
                                      "value": "US_MT",
                                      "label": "MONTANA"
                                    },
                                    {
                                      "value": "US_NC",
                                      "label": "NORTH CAROLINA"
                                    },
                                    {
                                      "value": "US_ND",
                                      "label": "NORTH DAKOTA"
                                    },
                                    {
                                      "value": "US_NE",
                                      "label": "NEBRASKA"
                                    },
                                    {
                                      "value": "US_NH",
                                      "label": "NEW HAMPSHIRE"
                                    },
                                    {
                                      "value": "US_NJ",
                                      "label": "NEW JERSEY"
                                    },
                                    {
                                      "value": "US_NM",
                                      "label": "NEW MEXICO"
                                    },
                                    {
                                      "value": "US_NV",
                                      "label": "NEVADA"
                                    },
                                    {
                                      "value": "US_NY",
                                      "label": "NEW YORK"
                                    },
                                    {
                                      "value": "US_OH",
                                      "label": "OHIO"
                                    },
                                    {
                                      "value": "US_OK",
                                      "label": "OKLAHOMA"
                                    },
                                    {
                                      "value": "US_OR",
                                      "label": "OREGON"
                                    },
                                    {
                                      "value": "US_PA",
                                      "label": "PENNSYLVANIA"
                                    },
                                    {
                                      "value": "US_PR",
                                      "label": "PUERTO RICO"
                                    },
                                    {
                                      "value": "US_RI",
                                      "label": "RHODE ISLAND"
                                    },
                                    {
                                      "value": "US_SC",
                                      "label": "SOUTH CAROLINA"
                                    },
                                    {
                                      "value": "US_SD",
                                      "label": "SOUTH DAKOTA"
                                    },
                                    {
                                      "value": "US_TN",
                                      "label": "TENNESSEE"
                                    },
                                    {
                                      "value": "US_TX",
                                      "label": "TEXAS"
                                    },
                                    {
                                      "value": "US_UM",
                                      "label": "U.S. MINOR OUTLYING ISLANDS"
                                    },
                                    {
                                      "value": "US_UT",
                                      "label": "UTAH"
                                    },
                                    {
                                      "value": "US_VA",
                                      "label": "VIRGINIA"
                                    },
                                    {
                                      "value": "US_VI",
                                      "label": "U.S. VIRGIN ISLANDS"
                                    },
                                    {
                                      "value": "US_VT",
                                      "label": "VERMONT"
                                    },
                                    {
                                      "value": "US_WI",
                                      "label": "WISCONSIN"
                                    },
                                    {
                                      "value": "US_WV",
                                      "label": "WEST VIRGINIA"
                                    },
                                    {
                                      "value": "US_WY",
                                      "label": "WYOMING"
                                    },
                                    {
                                      "value": "XX",
                                      "label": "--- more ---"
                                    }
                                  ],
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "url": "",
                                  "resource": "",
                                  "custom": ""
                                },
                                "dataType": "object",
                                "idPath": "",
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "clearOnHide": false,
                                "validateWhenHidden": false,
                                "key": "drivers_licence_jurisdiction",
                                "customConditional": "show = false\nif(!data?.TwelveHour){\n  show = true\n}\n\nif(show) {\n  \n  // Function to handle jurisdiction change\nconst handleJurisdictionChange = (selectedValue) => {\n  if (selectedValue === \"XX\") {\n    // Fetch data from another table for \"XX\"\n    return window.fetchStaticDataFromTable(\"jurisdictionCountry\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictionCountry data:\", error);\n      return [];\n    });\n  } else if (selectedValue === \"XZ\") {\n    // Fetch data for \"XZ\"\n    return window.fetchStaticDataFromTable(\"jurisdictions\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictions data:\", error);\n      return [];\n    });\n  } else {\n    // Default data (if needed)\n    return Promise.resolve([]);\n  }\n};\n\nconst initialValues = instance?.component?.data?.json\nif (!initialValues.length) {\n  handleJurisdictionChange('XZ').then((newOptions) => {\n        if(newOptions.length){\n          instance.component.data.json = newOptions;\n          instance.redraw(); // Redraw the component to reflect the new options\n          instance.setValue({\"value\": 'CA_BC', \"label\": 'BRITISH COLUMBIA'})\n          // instance.setItems([], false);\n          // instance.setItems(newOptions,false);\n        }\n       \n      });\n}\n\n\nif (instance) {\n  if (!instance.hasEventHandler('change')) {\n    instance.on('change', (event) => {\n    if (event.changed && event.changed.component.key === instance.component.key) {\n      const selectedValue = event.changed.value.value;\n      console.log(\"Selected value changed to:\", selectedValue);\n      if(!['XZ','XX'].includes(selectedValue)) {\n        return\n      }\n\n      // Update options based on the selected value\n      handleJurisdictionChange(selectedValue).then((newOptions) => {\n        // instance.component.data.values = newOptions;\n        instance.setValue(''); \n        instance.setItems([], false);\n        instance.setItems(newOptions,false);\n        // 2. Make sure dropdown is open\n        instance.choices.showDropdown();\n      });\n    }\n  });\n    \n  }\n \n}\n  \n}",
                                "type": "select",
                                "input": true,
                                "id": "e7t2gy",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns2",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "ek7lgn6",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Columns",
                                "columns": [
                                  {
                                    "components": [
                                      {
                                        "label": "ICBC Prefill",
                                        "action": "custom",
                                        "showValidations": false,
                                        "size": "sm",
                                        "tableView": false,
                                        "key": "icbcPrefill",
                                        "customConditional": "if(data?.drivers_licence_jurisdiction?.value == 'CA_BC'){\n  component.disabled = false\n} else {\n  component.disabled = true\n}",
                                        "type": "button",
                                        "custom": "(async function() {\r\n  const dlNumber = data.driver_licence_no;\r\n  if (!dlNumber) {\r\n    window.toast.error(\"Enter drivers license number\");\r\n    return;\r\n  }\r\n  \r\n  const authToken = localStorage.getItem('AUTH_TOKEN');\r\n  if (!authToken) {\r\n    window.toast.error('Authentication token not found');\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    // Get the API URL from environment variables and format it with the driver license number\r\n    const apiUrl = `${window._env_.REACT_APP_RSBC_API_URL}/api/v1/icbc/drivers/${dlNumber}`;\r\n    \r\n    const response = await fetch(apiUrl, {\r\n      headers: {\r\n        'Authorization': `Bearer ${authToken}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error('API request failed');\r\n    }\r\n    \r\n    const resp = await response.json();\r\n    \r\n    if (!_.isEmpty(resp)) {\r\n      const party = resp.party;\r\n      const address = party.addresses[0];\r\n      \r\n      // Using setFieldValue pattern as shown in the React code\r\n      instance.root.getComponent('driver_last_name')?.setValue(party.lastName);\r\n      instance.root.getComponent('driver_given_name')?.setValue(party.firstName);\r\n      \r\n      // Handle date format correctly using moment\r\n      if (party.birthDate) {\r\n        const birthDate = moment(party.birthDate).tz(\"America/Vancouver\").toDate();\r\n        instance.root.getComponent('driver_dob')?.setValue(birthDate);\r\n      }\r\n      \r\n      instance.root.getComponent('driver_address')?.setValue(address.addressLine1);\r\n      instance.root.getComponent('driver_city')?.setValue(address.city);\r\n      instance.root.getComponent('driver_postal')?.setValue(address.postalCode);\r\n      \r\n      window.toast.success('Driver details loaded successfully');\r\n    } else {\r\n      window.toast.error(\"No driver was found for DL \" + dlNumber);\r\n    }\r\n  } catch (error) {\r\n    window.toast.error('Failed to fetch driver details. Please try again.');\r\n    console.error(error);\r\n  }\r\n})();",
                                        "input": true,
                                        "id": "e2x3tl",
                                        "placeholder": "",
                                        "prefix": "",
                                        "customClass": "",
                                        "suffix": "",
                                        "multiple": false,
                                        "defaultValue": null,
                                        "protected": false,
                                        "unique": false,
                                        "persistent": false,
                                        "hidden": false,
                                        "clearOnHide": true,
                                        "refreshOn": "",
                                        "redrawOn": "",
                                        "modalEdit": false,
                                        "dataGridLabel": true,
                                        "labelPosition": "top",
                                        "description": "",
                                        "errorLabel": "",
                                        "tooltip": "",
                                        "hideLabel": false,
                                        "tabindex": "",
                                        "disabled": false,
                                        "autofocus": false,
                                        "dbIndex": false,
                                        "customDefaultValue": "",
                                        "calculateValue": "",
                                        "calculateServer": false,
                                        "widget": {
                                          "type": "input"
                                        },
                                        "attributes": {},
                                        "validateOn": "change",
                                        "validate": {
                                          "required": false,
                                          "custom": "",
                                          "customPrivate": false,
                                          "strictDateValidation": false,
                                          "multiple": false,
                                          "unique": false
                                        },
                                        "conditional": {
                                          "show": null,
                                          "when": null,
                                          "eq": ""
                                        },
                                        "overlay": {
                                          "style": "",
                                          "left": "",
                                          "top": "",
                                          "width": "",
                                          "height": ""
                                        },
                                        "allowCalculateOverride": false,
                                        "encrypted": false,
                                        "showCharCount": false,
                                        "showWordCount": false,
                                        "properties": {},
                                        "allowMultipleMasks": false,
                                        "addons": [],
                                        "leftIcon": "",
                                        "rightIcon": "",
                                        "block": false,
                                        "disableOnInvalid": false,
                                        "theme": "primary"
                                      }
                                    ],
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "size": "md",
                                    "currentWidth": 6,
                                    "width": 6
                                  },
                                  {
                                    "components": [
                                      {
                                        "label": "Scan DL",
                                        "action": "custom",
                                        "showValidations": false,
                                        "size": "sm",
                                        "tableView": false,
                                        "key": "scanDl",
                                        "customConditional": "if(data?.drivers_licence_jurisdiction?.value == 'CA_BC'){\n  component.disabled = false\n} else {\n  component.disabled = true\n}",
                                        "type": "button",
                                        "custom": "// Define supported scanners\nconst supportedScanners = [\n  { vendorId: 0x0801, productId: 0x0002 }, // MagTek - USB Swipe Reader\n  { vendorId: 0x0980, productId: 0x91f0 }, // Posh Manufacturing - MX5-K9\n];\n\n// Scanner utility functions\nconst dlScanner = {\n  async getScanner() {\n    const device_list = await navigator.hid.getDevices();\n    return device_list[0];\n  },\n\n  async requestAccessToScanner() {\n    let devices = await navigator.hid.requestDevice({\n      filters: supportedScanners,\n    });\n    return devices[0];\n  },\n\n  async openScanner() {\n    try {\n      let scanner = await this.getScanner();\n      if (!scanner) {\n        scanner = await this.requestAccessToScanner();\n      }\n\n      if (scanner && scanner.opened) {\n        return scanner;\n      } else {\n        await scanner.open();\n        return scanner;\n      }\n    } catch (e) {\n      console.error('Scanner error:', e);\n      return null;\n    }\n  },\n\n  async readFromScanner(device, reportId, data) {\n    return await new Promise((resolve) => {\n      const magStripe = String.fromCharCode.apply(\n        null,\n        new Uint8Array(data.buffer)\n      );\n      resolve(this.parseAAMVA2009(magStripe));\n    });\n  },\n\n  parseAAMVA2009(magStripe) {\n    let tracks = magStripe.split(\"?\");\n\n    const track1 = tracks[0].match(\n      /%([A-Z]{2})([^^]{0,13})\\^?([^^]{0,35})\\^?([^^]{0,74})?/\n    );\n\n    var track2 = tracks[1].match(\n      /;(\\d{6})(\\d{0,13})(=)(\\d{4})(\\d{8})(\\d{0,5})?/\n    );\n\n    var track3 = tracks[2].match(/%0A.{11}.{2}.{10}.{4}(.{1})/);\n\n    var province = track1[1];\n    var city = track1[2];\n    var name = track1[3].match(/([^$]{0,35}),\\$?([^$]{0,35})?/);\n    var address = track1[4].match(\n      new RegExp(\"^(.+)\\\\$(.+)\\\\s(\" + province + \")\\\\s*(.{6,7})$\")\n    );\n\n    return {\n      province: province,\n      city: city,\n      name: (function () {\n        if (!name) return;\n        return {\n          surname: name[1],\n          given: name[2],\n        };\n      })(),\n      address: (function () {\n        if (!address) return;\n        return {\n          street: address[1],\n          city: address[2],\n          province: address[3],\n          postalCode: address[4],\n        };\n      })(),\n      iso_iin: track2[1],\n      number: track2[2],\n      expiration: this.parseDate(track2[4]),\n      dob: (function () {\n        var dob = track2[5].match(/(\\d{4})(\\d{2})(\\d{2})/);\n        if (!dob) return;\n        return dob[1] + dob[2] + dob[3];\n      })(),\n      gender: track3[1],\n    };\n  },\n\n  parseDate(date) {\n    var start = parseInt(date[0] + date[1]);\n    if (start < 13) {\n      return (\n        date[4] +\n        date[5] +\n        date[6] +\n        date[7] +\n        date[0] +\n        date[1] +\n        date[2] +\n        date[3]\n      );\n    }\n    return date;\n  },\n};\n\n// Form.io custom action function\nconst scannerAction = async function (data) {\n  // Create modal elements\n  const modal = document.createElement('div');\n  modal.style.cssText = `\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n  `;\n\n  const modalContent = document.createElement('div');\n  modalContent.style.cssText = `\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    width: 400px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n    font-family: Arial, sans-serif;\n  `;\n\n  const modalHeader = document.createElement('div');\n  modalHeader.style.cssText = `\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 16px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  `;\n  modalHeader.innerHTML = `\n    <span>Scan Driver's License</span>\n    <button style=\"background: none; border: none; font-size: 20px; cursor: pointer;\">&times;</button>\n  `;\n\n  const modalBody = document.createElement('div');\n  modalBody.style.cssText = `\n    margin-bottom: 16px;\n    color: #555;\n  `;\n  modalBody.textContent = 'Requesting access to the DL scanner...';\n\n  const modalFooter = document.createElement('div');\n  modalFooter.style.cssText = `\n    display: flex;\n    justify-content: flex-end;\n  `;\n\n  const cancelButton = document.createElement('button');\n  cancelButton.style.cssText = `\n    background: #f0f0f0;\n    border: 1px solid #ccc;\n    padding: 8px 16px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 14px;\n  `;\n  cancelButton.textContent = 'Cancel';\n  cancelButton.onclick = () => document.body.removeChild(modal);\n\n  modalFooter.appendChild(cancelButton);\n\n  modalContent.appendChild(modalHeader);\n  modalContent.appendChild(modalBody);\n  modalContent.appendChild(modalFooter);\n  modal.appendChild(modalContent);\n  document.body.appendChild(modal);\n\n  // Close modal when clicking the \"X\" button\n  modalHeader.querySelector('button').onclick = () => document.body.removeChild(modal);\n\n  // Scanner handler function\n  const handleScannedBarcode = async (event) => {\n    const { data, device, reportId } = event;\n    try {\n     const dl_data = await dlScanner.readFromScanner(device, reportId, data);\n\n// Parse date components\nconst dob_year = dl_data.dob.slice(0, 4);\nconst dob_month = dl_data.dob.slice(4, 6);\nconst dob_day = dl_data.dob.slice(6, 8);\n\n// Calculate expiry date components\nconst dl_expiry_year = \"20\" + dl_data.expiration.slice(0, 2);\nconst dl_expiry_month = dl_data.dob.slice(4, 6);\nconst dl_expiry_day = dl_data.dob.slice(6, 8);\n\n// Format dates\nconst dobDate = new Date(dob_year, dob_month - 1, dob_day);\nconst expiryDate = new Date(`${dl_expiry_year}/${dl_expiry_month}/${dl_expiry_day}`);\n\n// Update form components using setValue method\ninstance.root.getComponent('driver_licence_no').setValue(dl_data.number);\ninstance.root.getComponent('driver_last_name').setValue(dl_data.name.surname);\ninstance.root.getComponent('driver_given_name').setValue(dl_data.name.given);\ninstance.root.getComponent('driver_dob').setValue(dobDate);\ninstance.root.getComponent('driver_address').setValue(dl_data.address.street);\ninstance.root.getComponent('driver_city').setValue(dl_data.address.city);\ninstance.root.getComponent('driver_prov_state').setValue({\n  \"value\": \"CA_BC\",\n  \"label\": \"BRITISH COLUMBIA\"\n});\ninstance.root.getComponent('driver_postal').setValue(dl_data.address.postalCode);\ninstance.root.getComponent('driver_licence_expiry').setValue(expiryDate);\nif (dl_data.gender === 'M') {\n  instance.root.getComponent('gender').setValue({\n    \"label\": \"Male\",\n    \"value\": \"M\"\n  });\n} else if (dl_data.gender === 'F') {\n  instance.root.getComponent('gender').setValue({\n    \"label\": \"Female\",\n    \"value\": \"F\"\n  });\n}\n\n\n// Close modal\ndocument.body.removeChild(modal);\n    } catch (err) {\n      console.error('Error reading DL:', err);\n      modalBody.textContent = 'Error reading driver\\'s license. Please try again.';\n    }\n  };\n\n  // Initialize scanner\n  try {\n    const scanner = await dlScanner.openScanner();\n    if (scanner) {\n      modalBody.textContent = 'Please scan BC Driver\\'s License now.';\n      scanner.addEventListener('inputreport', handleScannedBarcode);\n    } else {\n      modalBody.textContent = 'Unable to access scanner. Please try again.';\n    }\n  } catch (err) {\n    console.error('Scanner initialization error:', err);\n    modalBody.textContent = 'Error initializing scanner. Please try again.';\n  }\n};\n\nscannerAction(data);",
                                        "input": true,
                                        "keyModified": true,
                                        "id": "ey2vsnf",
                                        "placeholder": "",
                                        "prefix": "",
                                        "customClass": "",
                                        "suffix": "",
                                        "multiple": false,
                                        "defaultValue": null,
                                        "protected": false,
                                        "unique": false,
                                        "persistent": false,
                                        "hidden": false,
                                        "clearOnHide": true,
                                        "refreshOn": "",
                                        "redrawOn": "",
                                        "modalEdit": false,
                                        "dataGridLabel": true,
                                        "labelPosition": "top",
                                        "description": "",
                                        "errorLabel": "",
                                        "tooltip": "",
                                        "hideLabel": false,
                                        "tabindex": "",
                                        "disabled": false,
                                        "autofocus": false,
                                        "dbIndex": false,
                                        "customDefaultValue": "",
                                        "calculateValue": "",
                                        "calculateServer": false,
                                        "widget": {
                                          "type": "input"
                                        },
                                        "attributes": {},
                                        "validateOn": "change",
                                        "validate": {
                                          "required": false,
                                          "custom": "",
                                          "customPrivate": false,
                                          "strictDateValidation": false,
                                          "multiple": false,
                                          "unique": false
                                        },
                                        "conditional": {
                                          "show": null,
                                          "when": null,
                                          "eq": ""
                                        },
                                        "overlay": {
                                          "style": "",
                                          "left": "",
                                          "top": "",
                                          "width": "",
                                          "height": ""
                                        },
                                        "allowCalculateOverride": false,
                                        "encrypted": false,
                                        "showCharCount": false,
                                        "showWordCount": false,
                                        "properties": {},
                                        "allowMultipleMasks": false,
                                        "addons": [],
                                        "leftIcon": "",
                                        "rightIcon": "",
                                        "block": false,
                                        "disableOnInvalid": false,
                                        "theme": "primary"
                                      }
                                    ],
                                    "width": 6,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "size": "md",
                                    "currentWidth": 6
                                  }
                                ],
                                "key": "columns1",
                                "type": "columns",
                                "input": false,
                                "tableView": false,
                                "clearOnHide": true,
                                "id": "ebcey55",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": false,
                                "hidden": false,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "tree": false,
                                "lazyLoad": false,
                                "autoAdjust": false
                              }
                            ],
                            "width": 3,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 3
                          },
                          {
                            "components": [],
                            "width": 9,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 9
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e7ef75g",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Last Name   ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "autofocus": true,
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "customDefaultValue": "if (data.parenthiddenobject) {\n  console.log(\"parent object found\", data.parenthiddenobject)\n}",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "driver_last_name",
                                "type": "textfield",
                                "input": true,
                                "id": "em5ubao",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "dbIndex": false,
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Given Name  ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "autofocus": true,
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validateWhenHidden": false,
                                "key": "driver_given_name",
                                "type": "textfield",
                                "input": true,
                                "id": "ets109",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Date of Birth",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": null,
                                  "maxDate": null,
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "customMessage": "",
                                  "custom": "try {\r\n  const value = instance.getValue();\r\n  \r\n  // Early return if value is empty, blank, undefined, or null\r\n  if (!value || value.trim() === '') {\r\n    return true;\r\n  }\r\n  \r\n  // Parse the date in yyyyMMdd format\r\n  let inputDate;\r\n  if (value.length === 8 && !value.includes('-')) {\r\n    const year = value.substring(0, 4);\r\n    const month = value.substring(4, 6);\r\n    const day = value.substring(6, 8);\r\n    inputDate = new Date(`${year}-${month}-${day}`);\r\n  } else {\r\n    inputDate = new Date(value);\r\n  }\r\n  \r\n  // Check if date is valid\r\n  if (isNaN(inputDate.getTime())) {\r\n    return \"Invalid Date of Birth\";\r\n  }\r\n  \r\n  // Use logic similar to the Yup validation\r\n  const currentDate = new Date();\r\n  \r\n  // Calculate age in years\r\n  let ageInYears = currentDate.getFullYear() - inputDate.getFullYear();\r\n  \r\n  // Get month and day for current date and input date\r\n  const currentMonth = currentDate.getMonth();\r\n  const currentDay = currentDate.getDate();\r\n  const inputMonth = inputDate.getMonth();\r\n  const inputDay = inputDate.getDate();\r\n  \r\n  // Check if birthday hasn't occurred yet this year\r\n  if (\r\n    inputMonth > currentMonth || \r\n    (inputMonth === currentMonth && inputDay > currentDay)\r\n  ) {\r\n    ageInYears--;\r\n  }\r\n  \r\n  // Handle negative age (future dates) - display as 0\r\n  if (ageInYears < 0) {\r\n    ageInYears = 0;\r\n  }\r\n  \r\n  // Format the label with age\r\n  const newLabel = `Date of Birth (${ageInYears} yrs)`;\r\n  instance.component.label = newLabel;\r\n  instance.redraw();\r\n  \r\n  // Validate age range\r\n  if (ageInYears < 10) {\r\n    return \"Driver must be at least 10 years old\";\r\n  }\r\n  \r\n  if (ageInYears > 120) {\r\n    return \"Driver cannot be older than 120 years\";\r\n  }\r\n  \r\n  return true;\r\n} catch (error) {\r\n  console.error(\"Error in date of birth logic:\", error);\r\n  return true;\r\n}",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": false,
                                "enableMaxDateInput": false,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "driver_dob",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": null,
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": null
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "e4c35zh"
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns3",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e3625br",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Address",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "theDriverIsTheRegisteredOwner",
                                "validateWhenHidden": false,
                                "key": "driver_address",
                                "type": "textfield",
                                "input": true,
                                "id": "eadmdp",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 8,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 8
                          },
                          {
                            "components": [
                              {
                                "label": "Phone Number",
                                "inputMask": "999-999-9999",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": false,
                                "validateWhenHidden": false,
                                "key": "driver_phone",
                                "type": "phoneNumber",
                                "inputMaskPlaceholderChar": "#",
                                "input": true,
                                "id": "ezfl9wo",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "tel",
                                "inputFormat": "plain",
                                "displayMask": "",
                                "truncateMultipleSpaces": false,
                                "inputMode": "decimal"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns6",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e0l3dhj",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "City",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "theDriverIsTheRegisteredOwner",
                                "validateWhenHidden": false,
                                "key": "driver_city",
                                "type": "textfield",
                                "input": true,
                                "id": "eho3ght",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Province / State / International ",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "json",
                                "defaultValue": {
                                  "value": "CA_BC",
                                  "label": "BRITISH COLUMBIA"
                                },
                                "data": {
                                  "json": [
                                    {
                                      "value": "CA_BC",
                                      "label": "BRITISH COLUMBIA"
                                    },
                                    {
                                      "value": "CA_AB",
                                      "label": "ALBERTA"
                                    },
                                    {
                                      "value": "US_WA",
                                      "label": "WASHINGTON"
                                    },
                                    {
                                      "value": "CA_MB",
                                      "label": "MANITOBA"
                                    },
                                    {
                                      "value": "CA_NB",
                                      "label": "NEW BRUNSWICK"
                                    },
                                    {
                                      "value": "CA_NF",
                                      "label": "NEWFOUNDLAND & LABRADOR"
                                    },
                                    {
                                      "value": "CA_NS",
                                      "label": "NOVA SCOTIA"
                                    },
                                    {
                                      "value": "CA_NT",
                                      "label": "NORTHWEST TERRITORIES"
                                    },
                                    {
                                      "value": "CA_NU",
                                      "label": "NUNAVUT"
                                    },
                                    {
                                      "value": "CA_ON",
                                      "label": "ONTARIO"
                                    },
                                    {
                                      "value": "CA_PE",
                                      "label": "PRINCE EDWARD ISLAND"
                                    },
                                    {
                                      "value": "CA_QC",
                                      "label": "QUEBEC"
                                    },
                                    {
                                      "value": "CA_SK",
                                      "label": "SASKATCHEWAN"
                                    },
                                    {
                                      "value": "CA_YT",
                                      "label": "YUKON"
                                    },
                                    {
                                      "value": "US_AK",
                                      "label": "ALASKA"
                                    },
                                    {
                                      "value": "US_AL",
                                      "label": "ALABAMA"
                                    },
                                    {
                                      "value": "US_AR",
                                      "label": "ARKANSAS"
                                    },
                                    {
                                      "value": "US_AS",
                                      "label": "AMERICAN SAMOA"
                                    },
                                    {
                                      "value": "US_AZ",
                                      "label": "ARIZONA"
                                    },
                                    {
                                      "value": "US_CA",
                                      "label": "CALIFORNIA"
                                    },
                                    {
                                      "value": "US_CO",
                                      "label": "COLORADO"
                                    },
                                    {
                                      "value": "US_CT",
                                      "label": "CONNECTICUT"
                                    },
                                    {
                                      "value": "US_DC",
                                      "label": "DISTRICT OF COLUMBIA"
                                    },
                                    {
                                      "value": "US_DE",
                                      "label": "DELAWARE"
                                    },
                                    {
                                      "value": "US_FL",
                                      "label": "FLORIDA"
                                    },
                                    {
                                      "value": "US_GA",
                                      "label": "GEORGIA"
                                    },
                                    {
                                      "value": "US_GU",
                                      "label": "GUAM"
                                    },
                                    {
                                      "value": "US_HI",
                                      "label": "HAWAII"
                                    },
                                    {
                                      "value": "US_IA",
                                      "label": "IOWA"
                                    },
                                    {
                                      "value": "US_ID",
                                      "label": "IDAHO"
                                    },
                                    {
                                      "value": "US_IL",
                                      "label": "ILLINOIS"
                                    },
                                    {
                                      "value": "US_IN",
                                      "label": "INDIANA"
                                    },
                                    {
                                      "value": "US_KS",
                                      "label": "KANSAS"
                                    },
                                    {
                                      "value": "US_KY",
                                      "label": "KENTUCKY"
                                    },
                                    {
                                      "value": "US_LA",
                                      "label": "LOUISIANA"
                                    },
                                    {
                                      "value": "US_MA",
                                      "label": "MASSACHUSETTS"
                                    },
                                    {
                                      "value": "US_MD",
                                      "label": "MARYLAND"
                                    },
                                    {
                                      "value": "US_ME",
                                      "label": "MAINE"
                                    },
                                    {
                                      "value": "US_MI",
                                      "label": "MICHIGAN"
                                    },
                                    {
                                      "value": "US_MN",
                                      "label": "MINNESOTA"
                                    },
                                    {
                                      "value": "US_MO",
                                      "label": "MISSOURI"
                                    },
                                    {
                                      "value": "US_MP",
                                      "label": "NORTHERN MARIANA ISLANDS"
                                    },
                                    {
                                      "value": "US_MS",
                                      "label": "MISSISSIPPI"
                                    },
                                    {
                                      "value": "US_MT",
                                      "label": "MONTANA"
                                    },
                                    {
                                      "value": "US_NC",
                                      "label": "NORTH CAROLINA"
                                    },
                                    {
                                      "value": "US_ND",
                                      "label": "NORTH DAKOTA"
                                    },
                                    {
                                      "value": "US_NE",
                                      "label": "NEBRASKA"
                                    },
                                    {
                                      "value": "US_NH",
                                      "label": "NEW HAMPSHIRE"
                                    },
                                    {
                                      "value": "US_NJ",
                                      "label": "NEW JERSEY"
                                    },
                                    {
                                      "value": "US_NM",
                                      "label": "NEW MEXICO"
                                    },
                                    {
                                      "value": "US_NV",
                                      "label": "NEVADA"
                                    },
                                    {
                                      "value": "US_NY",
                                      "label": "NEW YORK"
                                    },
                                    {
                                      "value": "US_OH",
                                      "label": "OHIO"
                                    },
                                    {
                                      "value": "US_OK",
                                      "label": "OKLAHOMA"
                                    },
                                    {
                                      "value": "US_OR",
                                      "label": "OREGON"
                                    },
                                    {
                                      "value": "US_PA",
                                      "label": "PENNSYLVANIA"
                                    },
                                    {
                                      "value": "US_PR",
                                      "label": "PUERTO RICO"
                                    },
                                    {
                                      "value": "US_RI",
                                      "label": "RHODE ISLAND"
                                    },
                                    {
                                      "value": "US_SC",
                                      "label": "SOUTH CAROLINA"
                                    },
                                    {
                                      "value": "US_SD",
                                      "label": "SOUTH DAKOTA"
                                    },
                                    {
                                      "value": "US_TN",
                                      "label": "TENNESSEE"
                                    },
                                    {
                                      "value": "US_TX",
                                      "label": "TEXAS"
                                    },
                                    {
                                      "value": "US_UM",
                                      "label": "U.S. MINOR OUTLYING ISLANDS"
                                    },
                                    {
                                      "value": "US_UT",
                                      "label": "UTAH"
                                    },
                                    {
                                      "value": "US_VA",
                                      "label": "VIRGINIA"
                                    },
                                    {
                                      "value": "US_VI",
                                      "label": "U.S. VIRGIN ISLANDS"
                                    },
                                    {
                                      "value": "US_VT",
                                      "label": "VERMONT"
                                    },
                                    {
                                      "value": "US_WI",
                                      "label": "WISCONSIN"
                                    },
                                    {
                                      "value": "US_WV",
                                      "label": "WEST VIRGINIA"
                                    },
                                    {
                                      "value": "US_WY",
                                      "label": "WYOMING"
                                    },
                                    {
                                      "value": "XX",
                                      "label": "--- more ---"
                                    }
                                  ],
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "url": "",
                                  "resource": "",
                                  "custom": ""
                                },
                                "dataType": "object",
                                "idPath": "",
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "selectThreshold": 1,
                                "useExactSearch": true,
                                "clearOnHide": false,
                                "validateWhenHidden": false,
                                "key": "driver_prov_state",
                                "customConditional": "show = false\nif(!data?.TwelveHour){\n  show = true\n}\n\nif(show) {\n  \n  // Function to handle jurisdiction change\nconst handleJurisdictionChange = (selectedValue) => {\n  if (selectedValue === \"XX\") {\n    // Fetch data from another table for \"XX\"\n    return window.fetchStaticDataFromTable(\"jurisdictionCountry\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictionCountry data:\", error);\n      return [];\n    });\n  } else if (selectedValue === \"XZ\") {\n    // Fetch data for \"XZ\"\n    return window.fetchStaticDataFromTable(\"jurisdictions\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictions data:\", error);\n      return [];\n    });\n  } else {\n    // Default data (if needed)\n    return Promise.resolve([]);\n  }\n};\n\nconst initialValues = instance?.component?.data?.json\nif (!initialValues.length) {\n  handleJurisdictionChange('XZ').then((newOptions) => {\n        if(newOptions.length){\n          instance.component.data.json = newOptions;\n          instance.redraw(); // Redraw the component to reflect the new options\n          instance.setValue({\"value\": 'CA_BC', \"label\": 'BRITISH COLUMBIA'})\n          // instance.setItems([], false);\n          // instance.setItems(newOptions,false);\n        }\n       \n      });\n}\n\n\nif (instance) {\n  if (!instance.hasEventHandler('change')) {\n    instance.on('change', (event) => {\n    if (event.changed && event.changed.component.key === instance.component.key) {\n      const selectedValue = event.changed.value.value;\n      console.log(\"Selected value changed to:\", selectedValue);\n      if(!['XZ','XX'].includes(selectedValue)) {\n        return\n      }\n\n      // Update options based on the selected value\n      handleJurisdictionChange(selectedValue).then((newOptions) => {\n        // instance.component.data.values = newOptions;\n        instance.setValue(''); \n        instance.setItems([], false);\n        instance.setItems(newOptions,false);\n        // 2. Make sure dropdown is open\n        instance.choices.showDropdown();\n      });\n    }\n  });\n    \n  }\n \n}\n  \n}",
                                "type": "select",
                                "input": true,
                                "id": "evq62rk",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {}
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Postal / Zip",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "theDriverIsTheRegisteredOwner",
                                "validateWhenHidden": false,
                                "key": "driver_postal",
                                "type": "textfield",
                                "input": true,
                                "id": "euukfbr",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns5",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "etlugzx",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Gender",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "json",
                                "data": {
                                  "json": [
                                    {
                                      "label": "Male",
                                      "value": "M"
                                    },
                                    {
                                      "label": "Female",
                                      "value": "F"
                                    },
                                    {
                                      "label": "Gender Diverse",
                                      "value": "X"
                                    },
                                    {
                                      "label": "Unknown",
                                      "value": "U"
                                    }
                                  ],
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "url": "",
                                  "resource": "",
                                  "custom": ""
                                },
                                "dataType": "object",
                                "validateWhenHidden": false,
                                "key": "gender",
                                "customConditional": "show = data?.VI",
                                "type": "select",
                                "input": true,
                                "id": "eh3u8bd",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "template": "<span>{{ item.label }}</span>",
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Licence Expiry Date  ",
                                "displayInTimezone": "utc",
                                "format": "yyyyMMdd",
                                "tableView": false,
                                "datePicker": {
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": "1980-01-01T00:00:00-08:00",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5,
                                  "maxDate": null
                                },
                                "enableTime": false,
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "enableMinDateInput": false,
                                "enableMaxDateInput": false,
                                "validateWhenHidden": false,
                                "key": "driver_licence_expiry",
                                "customConditional": "show = data?.VI",
                                "type": "datetime",
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": "1980-01-01T00:00:00-08:00",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "maxDate": null
                                },
                                "id": "ehtz8n",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": "",
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "enableDate": true,
                                "defaultDate": "",
                                "timezone": "",
                                "datepickerMode": "day",
                                "timePicker": {
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "showMeridian": true,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "customOptions": {}
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "BCDL Class ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "pattern": "^\\d(,\\d)*$",
                                  "maxLength": 5,
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": ""
                                },
                                "validateWhenHidden": false,
                                "key": "driver_licence_class",
                                "customConditional": "show = data?.VI",
                                "type": "textfield",
                                "input": true,
                                "id": "e5vuu3",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns4",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e7knp9i",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      }
                    ],
                    "keyModified": true,
                    "clearOnHide": true,
                    "id": "egh40d5",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Vehicle Information",
                    "collapsible": false,
                    "key": "owner2",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI || data?.TwentyFourHour || data?.TwelveHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Plate Number ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validateWhenHidden": false,
                                "key": "vehicle_plate_no",
                                "type": "textfield",
                                "input": true,
                                "id": "ebimir6",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              },
                              {
                                "label": "ICBC Prefill",
                                "action": "custom",
                                "showValidations": false,
                                "theme": "primary",
                                "size": "sm",
                                "block": false,
                                "leftIcon": "",
                                "rightIcon": "",
                                "shortcut": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "disableOnInvalid": false,
                                "hidden": false,
                                "autofocus": false,
                                "disabled": true,
                                "tableView": false,
                                "modalEdit": false,
                                "key": "icbcPrefill1",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "if(data?.vehicle_jurisdiction?.value == 'CA_BC'){\n  component.disabled = false\n} else {\n  component.disabled = true\n}",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "button",
                                "custom": "// Levenshtein distance implementation\nfunction levenshteinDistance(a, b) {\n  const matrix = Array(b.length + 1).fill(null)\n    .map(() => Array(a.length + 1).fill(null));\n  \n  for (let i = 0; i <= a.length; i++) matrix[0][i] = i;\n  for (let j = 0; j <= b.length; j++) matrix[j][0] = j;\n  \n  for (let j = 1; j <= b.length; j++) {\n    for (let i = 1; i <= a.length; i++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      matrix[j][i] = Math.min(\n        matrix[j][i - 1] + 1,      // deletion\n        matrix[j - 1][i] + 1,      // insertion\n        matrix[j - 1][i - 1] + cost // substitution\n      );\n    }\n  }\n  \n  return matrix[b.length][a.length];\n}\n\n// Find best match with threshold\nfunction findBestMatch(target, items, threshold = 2) {\n  let bestMatch = null;\n  let bestDistance = Infinity;\n  \n  for (const item of items) {\n    const itemValue = item.label || item.value;\n    const distance = levenshteinDistance(target.toLowerCase(), itemValue.toLowerCase());\n    \n    if (distance < bestDistance && distance <= threshold) {\n      bestDistance = distance;\n      bestMatch = item;\n    }\n  }\n  \n  return bestMatch;\n}\n\n(async function() {\n  // Define isPromise function\n  const isPromise = (obj) => {\n    return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n  };\n\n  const vehicle_plate_no = data.vehicle_plate_no;\n  if (!vehicle_plate_no) {\n    window.toast.error(\"Enter Vehicle plate number\");\n    return;\n  }\n  \n  const authToken = localStorage.getItem('AUTH_TOKEN');\n  if (!authToken) {\n    window.toast.error('Authentication token not found');\n    return;\n  }\n  \n  try {\n    // Get the API URL from environment variables and format it with the vehicle plate number\n    const apiUrl = `${window._env_.REACT_APP_RSBC_API_URL}/api/v1/icbc/vehicles/${vehicle_plate_no}`;\n    \n    const response = await fetch(apiUrl, {\n      headers: {\n        'Authorization': `Bearer ${authToken}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error('API request failed');\n    }\n    \n    const resp = await response.json();\n    \n    // Following the exact pattern from the previous code\n    if (Array.isArray(resp) && resp.length > 0) {\n      console.log(\"Found Vehicle!\", resp);\n      const vehicle = resp[0];\n      const party = vehicle.vehicleParties[0].party;\n      const address = party.addresses[0];\n      \n      // Set vehicle information exactly as in the original code\n      instance.root.getComponent('nsc_no')?.setValue(vehicle.nscNumber);\n      instance.root.getComponent('vehicle_registration_no')?.setValue(vehicle.registrationNumber);\n      \n      // For color handling - get custom items and find matching item\n      const colourComponent = instance.root.getComponent('vehicle_colour');\n      if (colourComponent) {\n        const colourItems = colourComponent.getCustomItems();\n        if (isPromise(colourItems)) {\n          colourItems.then(items => {\n            const matchingColour = items.find(item => \n              item.label === vehicle.vehicleColour.toUpperCase() || \n              item.value === vehicle.vehicleColour\n            );\n            if (matchingColour) {\n              colourComponent.setValue(matchingColour);\n            }\n          });\n        } else {\n          const matchingColour = colourItems?.find(item => \n            item.label === vehicle.vehicleColour.toUpperCase() || \n            item.value === vehicle.vehicleColour\n          );\n          if (matchingColour) {\n            colourComponent.setValue(matchingColour);\n          }\n        }\n      }\n      \n      // For vehicle make/model\n      // Updated component code\nconst mkMdComponent = instance.root.getComponent('vehicle_mk_md');\nif (mkMdComponent) {\n  const mkMdValue = vehicle.vehicleMake + \" - \" + vehicle.vehicleModel;\n  const mkMdItems = mkMdComponent.getCustomItems();\n  \n  const processItems = (items) => {\n    // First try exact match\n    let match = items.find(item => \n      item.label === mkMdValue || \n      item.value === mkMdValue\n    );\n    \n    // If no exact match, try fuzzy matching\n    if (!match) {\n      match = findBestMatch(mkMdValue, items);\n    }\n    // if matched set the value otherwise let the user manually select\n    if(match) {\n      // Set the value\n      mkMdComponent.setValue(match);\n    }\n  };\n  \n  if (isPromise(mkMdItems)) {\n    mkMdItems.then(processItems);\n  } else if (mkMdItems) {\n    processItems(mkMdItems);\n  }\n}\n      \n      instance.root.getComponent('vehicle_vin_no')?.setValue(vehicle.vehicleIdNumber);\n      \n      // For year handling\n      const yearComponent = instance.root.getComponent('vehicle_year');\n      if (yearComponent) {\n        const yearItems = yearComponent.getCustomItems();\n        if (isPromise(yearItems)) {\n          yearItems.then(items => {\n            const matchingYear = items.find(item => \n              item.label === vehicle.vehicleModelYear || \n              item.value === vehicle.vehicleModelYear\n            );\n            yearComponent.setValue(matchingYear || {\n              value: vehicle.vehicleModelYear,\n              label: vehicle.vehicleModelYear\n            });\n          });\n        } else {\n          const matchingYear = yearItems?.find(item => \n            item.label === vehicle.vehicleModelYear || \n            item.value === vehicle.vehicleModelYear\n          );\n          yearComponent.setValue(matchingYear || {\n            value: vehicle.vehicleModelYear,\n            label: vehicle.vehicleModelYear\n          });\n        }\n      }\n      \n      // For vehicle type handling\n      const typeComponent = instance.root.getComponent('vehicle_type');\n      if (typeComponent) {\n        const typeItems = typeComponent.getCustomItems();\n        if (isPromise(typeItems)) {\n          typeItems.then(items => {\n            const matchingType = items.find(item => \n              item.label === vehicle.vehicleType.toUpperCase() || \n              item.value === vehicle.vehicleType\n            );\n            if (matchingType) {\n              typeComponent.setValue(matchingType);\n            }\n          });\n        } else {\n          const matchingType = typeItems?.find(item => \n            item.label === vehicle.vehicleType.toUpperCase() || \n            item.value === vehicle.vehicleType\n          );\n          if (matchingType) {\n            typeComponent.setValue(matchingType);\n          }\n        }\n      }\n      \n      // Set jurisdiction exactly as in the original code\n      instance.root.getComponent('vehicle_jurisdiction')?.setValue({\n        value: \"CA_BC\",\n        label: \"BRITISH COLUMBIA\",\n      });\n      \n      // Set owner information exactly as in the original code\n      instance.root.getComponent('regist_owner_last_name')?.setValue(party.lastName);\n      instance.root.getComponent('regist_owner_first_name')?.setValue(party.firstName);\n      \n      // Handle birthdate exactly as in the original code\n      if (party.birthDate) {\n        const birthDate = moment(party.birthDate).tz(\"America/Vancouver\").toDate();\n        instance.root.getComponent('regist_owner_dob')?.setValue(birthDate);\n      }\n      \n      // Set address information exactly as in the original code\n      instance.root.getComponent('regist_owner_address')?.setValue(address.addressLine1);\n      instance.root.getComponent('regist_owner_city')?.setValue(address.city);\n      instance.root.getComponent('regist_owner_postal')?.setValue(address.postalCode);\n      instance.root.getComponent('regist_owner_prov_state')?.setValue({\n        value: \"CA_BC\",\n        label: \"BRITISH COLUMBIA\",\n      });\n      \n      window.toast.success('Vehicle details loaded successfully');\n    } else {\n      console.error(\"No vehicle was found using this plate number\", resp);\n      window.toast.error(\"No vehicle was found using this plate number.\")\n    }\n  } catch (error) {\n    console.error('Failed to fetch vehicle details:', error);\n    window.toast.error(\"No vehicle was found using this plate number.\")\n  }\n})();",
                                "hideLabel": false,
                                "input": true,
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "dataGridLabel": true,
                                "labelPosition": "top",
                                "errorLabel": "",
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "id": "etdskpq"
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "label": "Province / State / International",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "json",
                                "defaultValue": {
                                  "value": "CA_BC",
                                  "label": "BRITISH COLUMBIA"
                                },
                                "data": {
                                  "json": [
                                    {
                                      "value": "CA_BC",
                                      "label": "BRITISH COLUMBIA"
                                    },
                                    {
                                      "value": "CA_AB",
                                      "label": "ALBERTA"
                                    },
                                    {
                                      "value": "US_WA",
                                      "label": "WASHINGTON"
                                    },
                                    {
                                      "value": "CA_MB",
                                      "label": "MANITOBA"
                                    },
                                    {
                                      "value": "CA_NB",
                                      "label": "NEW BRUNSWICK"
                                    },
                                    {
                                      "value": "CA_NF",
                                      "label": "NEWFOUNDLAND & LABRADOR"
                                    },
                                    {
                                      "value": "CA_NS",
                                      "label": "NOVA SCOTIA"
                                    },
                                    {
                                      "value": "CA_NT",
                                      "label": "NORTHWEST TERRITORIES"
                                    },
                                    {
                                      "value": "CA_NU",
                                      "label": "NUNAVUT"
                                    },
                                    {
                                      "value": "CA_ON",
                                      "label": "ONTARIO"
                                    },
                                    {
                                      "value": "CA_PE",
                                      "label": "PRINCE EDWARD ISLAND"
                                    },
                                    {
                                      "value": "CA_QC",
                                      "label": "QUEBEC"
                                    },
                                    {
                                      "value": "CA_SK",
                                      "label": "SASKATCHEWAN"
                                    },
                                    {
                                      "value": "CA_YT",
                                      "label": "YUKON"
                                    },
                                    {
                                      "value": "US_AK",
                                      "label": "ALASKA"
                                    },
                                    {
                                      "value": "US_AL",
                                      "label": "ALABAMA"
                                    },
                                    {
                                      "value": "US_AR",
                                      "label": "ARKANSAS"
                                    },
                                    {
                                      "value": "US_AS",
                                      "label": "AMERICAN SAMOA"
                                    },
                                    {
                                      "value": "US_AZ",
                                      "label": "ARIZONA"
                                    },
                                    {
                                      "value": "US_CA",
                                      "label": "CALIFORNIA"
                                    },
                                    {
                                      "value": "US_CO",
                                      "label": "COLORADO"
                                    },
                                    {
                                      "value": "US_CT",
                                      "label": "CONNECTICUT"
                                    },
                                    {
                                      "value": "US_DC",
                                      "label": "DISTRICT OF COLUMBIA"
                                    },
                                    {
                                      "value": "US_DE",
                                      "label": "DELAWARE"
                                    },
                                    {
                                      "value": "US_FL",
                                      "label": "FLORIDA"
                                    },
                                    {
                                      "value": "US_GA",
                                      "label": "GEORGIA"
                                    },
                                    {
                                      "value": "US_GU",
                                      "label": "GUAM"
                                    },
                                    {
                                      "value": "US_HI",
                                      "label": "HAWAII"
                                    },
                                    {
                                      "value": "US_IA",
                                      "label": "IOWA"
                                    },
                                    {
                                      "value": "US_ID",
                                      "label": "IDAHO"
                                    },
                                    {
                                      "value": "US_IL",
                                      "label": "ILLINOIS"
                                    },
                                    {
                                      "value": "US_IN",
                                      "label": "INDIANA"
                                    },
                                    {
                                      "value": "US_KS",
                                      "label": "KANSAS"
                                    },
                                    {
                                      "value": "US_KY",
                                      "label": "KENTUCKY"
                                    },
                                    {
                                      "value": "US_LA",
                                      "label": "LOUISIANA"
                                    },
                                    {
                                      "value": "US_MA",
                                      "label": "MASSACHUSETTS"
                                    },
                                    {
                                      "value": "US_MD",
                                      "label": "MARYLAND"
                                    },
                                    {
                                      "value": "US_ME",
                                      "label": "MAINE"
                                    },
                                    {
                                      "value": "US_MI",
                                      "label": "MICHIGAN"
                                    },
                                    {
                                      "value": "US_MN",
                                      "label": "MINNESOTA"
                                    },
                                    {
                                      "value": "US_MO",
                                      "label": "MISSOURI"
                                    },
                                    {
                                      "value": "US_MP",
                                      "label": "NORTHERN MARIANA ISLANDS"
                                    },
                                    {
                                      "value": "US_MS",
                                      "label": "MISSISSIPPI"
                                    },
                                    {
                                      "value": "US_MT",
                                      "label": "MONTANA"
                                    },
                                    {
                                      "value": "US_NC",
                                      "label": "NORTH CAROLINA"
                                    },
                                    {
                                      "value": "US_ND",
                                      "label": "NORTH DAKOTA"
                                    },
                                    {
                                      "value": "US_NE",
                                      "label": "NEBRASKA"
                                    },
                                    {
                                      "value": "US_NH",
                                      "label": "NEW HAMPSHIRE"
                                    },
                                    {
                                      "value": "US_NJ",
                                      "label": "NEW JERSEY"
                                    },
                                    {
                                      "value": "US_NM",
                                      "label": "NEW MEXICO"
                                    },
                                    {
                                      "value": "US_NV",
                                      "label": "NEVADA"
                                    },
                                    {
                                      "value": "US_NY",
                                      "label": "NEW YORK"
                                    },
                                    {
                                      "value": "US_OH",
                                      "label": "OHIO"
                                    },
                                    {
                                      "value": "US_OK",
                                      "label": "OKLAHOMA"
                                    },
                                    {
                                      "value": "US_OR",
                                      "label": "OREGON"
                                    },
                                    {
                                      "value": "US_PA",
                                      "label": "PENNSYLVANIA"
                                    },
                                    {
                                      "value": "US_PR",
                                      "label": "PUERTO RICO"
                                    },
                                    {
                                      "value": "US_RI",
                                      "label": "RHODE ISLAND"
                                    },
                                    {
                                      "value": "US_SC",
                                      "label": "SOUTH CAROLINA"
                                    },
                                    {
                                      "value": "US_SD",
                                      "label": "SOUTH DAKOTA"
                                    },
                                    {
                                      "value": "US_TN",
                                      "label": "TENNESSEE"
                                    },
                                    {
                                      "value": "US_TX",
                                      "label": "TEXAS"
                                    },
                                    {
                                      "value": "US_UM",
                                      "label": "U.S. MINOR OUTLYING ISLANDS"
                                    },
                                    {
                                      "value": "US_UT",
                                      "label": "UTAH"
                                    },
                                    {
                                      "value": "US_VA",
                                      "label": "VIRGINIA"
                                    },
                                    {
                                      "value": "US_VI",
                                      "label": "U.S. VIRGIN ISLANDS"
                                    },
                                    {
                                      "value": "US_VT",
                                      "label": "VERMONT"
                                    },
                                    {
                                      "value": "US_WI",
                                      "label": "WISCONSIN"
                                    },
                                    {
                                      "value": "US_WV",
                                      "label": "WEST VIRGINIA"
                                    },
                                    {
                                      "value": "US_WY",
                                      "label": "WYOMING"
                                    },
                                    {
                                      "value": "XX",
                                      "label": "--- more ---"
                                    }
                                  ],
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "url": "",
                                  "resource": "",
                                  "custom": ""
                                },
                                "dataType": "object",
                                "idPath": "",
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "clearOnHide": false,
                                "validateWhenHidden": false,
                                "key": "vehicle_jurisdiction",
                                "customConditional": "show = false\nif(!data?.TwelveHour){\n  show = true\n}\n\nif(show) {\n  \n  // Function to handle jurisdiction change\nconst handleJurisdictionChange = (selectedValue) => {\n  if (selectedValue === \"XX\") {\n    // Fetch data from another table for \"XX\"\n    return window.fetchStaticDataFromTable(\"jurisdictionCountry\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictionCountry data:\", error);\n      return [];\n    });\n  } else if (selectedValue === \"XZ\") {\n    // Fetch data for \"XZ\"\n    return window.fetchStaticDataFromTable(\"jurisdictions\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictions data:\", error);\n      return [];\n    });\n  } else {\n    // Default data (if needed)\n    return Promise.resolve([]);\n  }\n};\n\nconst initialValues = instance?.component?.data?.json\nif (!initialValues.length) {\n  handleJurisdictionChange('XZ').then((newOptions) => {\n        if(newOptions.length){\n          instance.component.data.json = newOptions;\n          instance.redraw(); // Redraw the component to reflect the new options\n          instance.setValue({\"value\": 'CA_BC', \"label\": 'BRITISH COLUMBIA'})\n          // instance.setItems([], false);\n          // instance.setItems(newOptions,false);\n        }\n       \n      });\n}\n\n\nif (instance) {\n  if (!instance.hasEventHandler('change')) {\n    instance.on('change', (event) => {\n    if (event.changed && event.changed.component.key === instance.component.key) {\n      const selectedValue = event.changed.value.value;\n      console.log(\"Selected value changed to:\", selectedValue);\n      if(!['XZ','XX'].includes(selectedValue)) {\n        return\n      }\n\n      // Update options based on the selected value\n      handleJurisdictionChange(selectedValue).then((newOptions) => {\n        // instance.component.data.values = newOptions;\n        instance.setValue(''); \n        instance.setItems([], false);\n        instance.setItems(newOptions,false);\n        // 2. Make sure dropdown is open\n        instance.choices.showDropdown();\n      });\n    }\n  });\n    \n  }\n \n}\n  \n}",
                                "type": "select",
                                "input": true,
                                "id": "ezgm7fv",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "key": "columns18",
                        "type": "columns",
                        "input": false,
                        "clearOnHide": true,
                        "tableView": false,
                        "id": "ev19269",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Registration Number  ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "maxLength": 20,
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_registration_no",
                                "customConditional": "show = data?.TwentyFourHour || data?.VI",
                                "type": "textfield",
                                "input": true,
                                "id": "ekecr3",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Vehicle Type",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "custom",
                                "data": {
                                  "custom": "values = window.fetchStaticDataFromTable(\"vehicleTypes\").then((items) => {\r\n\r\n  return items.map(item => ({\r\n    value: item.type_cd,\r\n    label: item.description\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "json": "",
                                  "url": "",
                                  "resource": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_type",
                                "type": "select",
                                "input": true,
                                "id": "efpbcri",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "template": "<span>{{ item.label }}</span>",
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Vehicle Year",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "custom",
                                "data": {
                                  "custom": " const generateYearOptions = () => {\r\n    const currentYear = new Date().getFullYear() + 1;\r\n    const startYear = 1900;\r\n    const years = [];\r\n\r\n    for (let year = startYear; year <= currentYear; year++) {\r\n      years.push({ value: year.toString(), label: year.toString() });\r\n    }\r\n\r\n    return years.sort((a, b) => b.value - a.value);\r\n  };\r\n  values = generateYearOptions();",
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "json": "",
                                  "url": "",
                                  "resource": ""
                                },
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_year",
                                "type": "select",
                                "input": true,
                                "id": "e4yvb1",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "template": "<span>{{ item.label }}</span>",
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns10",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "ei62ikef",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Vehicle Make and Model",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "custom",
                                "data": {
                                  "custom": "values = window.fetchStaticDataFromTable(\"vehicles\").then((items) => {\r\n \r\n  return items.map(item => ({\r\n    value: item.mk + \"-\" + item.md,\r\n    label: item.search\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "json": "",
                                  "url": "",
                                  "resource": ""
                                },
                                "selectThreshold": 0.1,
                                "customOptions": {
                                  "searchResultLimit": 100,
                                  "shouldSort": true
                                },
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_mk_md",
                                "type": "select",
                                "input": true,
                                "id": "e5ekcfm",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "template": "<span>{{ item.label }}</span>",
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Vehicle Style",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "custom",
                                "data": {
                                  "custom": "values = window.fetchStaticDataFromTable(\"vehicleStyles\").then((items) => {\r\n\r\n  return items.map(item => ({\r\n    value: item.code,\r\n    label: item.name\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "json": "",
                                  "url": "",
                                  "resource": ""
                                },
                                "selectThreshold": 0.1,
                                "customOptions": {
                                  "searchResultLimit": 100
                                },
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_style",
                                "type": "select",
                                "input": true,
                                "id": "ebhum24",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "template": "<span>{{ item.label }}</span>",
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Columns",
                                "columns": [
                                  {
                                    "components": [
                                      {
                                        "label": "Vehicle Colour 1",
                                        "labelPosition": "top",
                                        "widget": "choicesjs",
                                        "placeholder": "",
                                        "description": "",
                                        "tooltip": "",
                                        "customClass": "",
                                        "tabindex": "",
                                        "hidden": false,
                                        "hideLabel": false,
                                        "uniqueOptions": false,
                                        "autofocus": false,
                                        "disabled": false,
                                        "tableView": true,
                                        "modalEdit": false,
                                        "multiple": false,
                                        "dataSrc": "custom",
                                        "data": {
                                          "values": [
                                            {
                                              "label": "",
                                              "value": ""
                                            }
                                          ],
                                          "resource": "",
                                          "url": "",
                                          "json": "",
                                          "custom": "console.log(\"Fetching Vehicle Colours...\");\r\n\r\nvalues = window.fetchStaticDataFromTable(\"vehicleColours\").then((items) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(items));\r\n  \r\n  return items.map(item => ({\r\n    value: item.code,\r\n    label: item.display_name\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);"
                                        },
                                        "dataType": "",
                                        "idPath": "id",
                                        "valueProperty": "value",
                                        "template": "<span>{{ item.label }}</span>",
                                        "refreshOn": "",
                                        "refreshOnBlur": "",
                                        "clearOnRefresh": false,
                                        "searchEnabled": true,
                                        "selectThreshold": 0.3,
                                        "readOnlyValue": false,
                                        "customOptions": {},
                                        "useExactSearch": false,
                                        "persistent": true,
                                        "protected": false,
                                        "dbIndex": false,
                                        "encrypted": false,
                                        "clearOnHide": true,
                                        "customDefaultValue": "",
                                        "calculateValue": "value = Array.isArray(value) && value[0]?.label ? value.map(item => item.value) : value;",
                                        "calculateServer": false,
                                        "allowCalculateOverride": false,
                                        "validateOn": "change",
                                        "validate": {
                                          "required": true,
                                          "onlyAvailableItems": false,
                                          "customMessage": "",
                                          "custom": "",
                                          "customPrivate": false,
                                          "json": "",
                                          "strictDateValidation": false,
                                          "multiple": false,
                                          "unique": false
                                        },
                                        "unique": false,
                                        "validateWhenHidden": false,
                                        "errorLabel": "",
                                        "errors": "",
                                        "key": "vehicle_colour_1",
                                        "tags": [],
                                        "properties": {},
                                        "conditional": {
                                          "show": null,
                                          "when": null,
                                          "eq": "",
                                          "json": ""
                                        },
                                        "customConditional": "",
                                        "logic": [],
                                        "attributes": {},
                                        "overlay": {
                                          "style": "",
                                          "page": "",
                                          "left": "",
                                          "top": "",
                                          "width": "",
                                          "height": ""
                                        },
                                        "type": "select",
                                        "indexeddb": {
                                          "filter": {}
                                        },
                                        "dataGridLabel": false,
                                        "lazyLoad": true,
                                        "selectFields": "",
                                        "searchField": "",
                                        "searchDebounce": 0.3,
                                        "minSearch": 0,
                                        "filter": "",
                                        "limit": 100,
                                        "authenticate": false,
                                        "ignoreCache": false,
                                        "redrawOn": "",
                                        "input": true,
                                        "prefix": "",
                                        "suffix": "",
                                        "showCharCount": false,
                                        "showWordCount": false,
                                        "allowMultipleMasks": false,
                                        "addons": [],
                                        "fuseOptions": {
                                          "include": "score",
                                          "threshold": 0.3
                                        },
                                        "id": "euv65a",
                                        "defaultValue": ""
                                      }
                                    ],
                                    "width": 6,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "size": "md",
                                    "currentWidth": 6
                                  },
                                  {
                                    "components": [
                                      {
                                        "label": "Vehicle Colour 2",
                                        "labelPosition": "top",
                                        "widget": "choicesjs",
                                        "placeholder": "",
                                        "description": "",
                                        "tooltip": "",
                                        "customClass": "",
                                        "tabindex": "",
                                        "hidden": false,
                                        "hideLabel": false,
                                        "uniqueOptions": false,
                                        "autofocus": false,
                                        "disabled": false,
                                        "tableView": true,
                                        "modalEdit": false,
                                        "multiple": false,
                                        "dataSrc": "custom",
                                        "data": {
                                          "values": [
                                            {
                                              "label": "",
                                              "value": ""
                                            }
                                          ],
                                          "resource": "",
                                          "url": "",
                                          "json": "",
                                          "custom": "console.log(\"Fetching Vehicle Colours for Color 2...\");\r\n\r\n// Get the selected value from vehicle_colour_1\r\nconst selectedColor1 = data?.vehicle_colour_1;\r\nconsole.log(\"Selected Color 1:\", selectedColor1);\r\n\r\nvalues = window.fetchStaticDataFromTable(\"vehicleColours\").then((items) => {\r\n  console.log(\"All Vehicle Colours:\", JSON.stringify(items));\r\n  \r\n  // Filter out the selected color from vehicle_colour_1\r\n  const filteredItems = selectedColor1 \r\n    ? items.filter(item => item.code !== selectedColor1)\r\n    : items;\r\n  \r\n  console.log(\"Filtered Colors for Color 2:\", JSON.stringify(filteredItems));\r\n  \r\n  return filteredItems.map(item => ({\r\n    value: item.code,\r\n    label: item.display_name\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);"
                                        },
                                        "dataType": "",
                                        "idPath": "id",
                                        "valueProperty": "value",
                                        "template": "<span>{{ item.label }}</span>",
                                        "refreshOn": "vehicle_colour_1",
                                        "refreshOnBlur": "",
                                        "clearOnRefresh": true,
                                        "searchEnabled": true,
                                        "selectThreshold": 0.3,
                                        "readOnlyValue": false,
                                        "customOptions": {},
                                        "useExactSearch": false,
                                        "persistent": true,
                                        "protected": false,
                                        "dbIndex": false,
                                        "encrypted": false,
                                        "clearOnHide": true,
                                        "customDefaultValue": "",
                                        "calculateValue": "value = Array.isArray(value) && value[0]?.label ? value.map(item => item.value) : value;",
                                        "calculateServer": false,
                                        "allowCalculateOverride": false,
                                        "validateOn": "change",
                                        "validate": {
                                          "required": false,
                                          "onlyAvailableItems": false,
                                          "customMessage": "",
                                          "custom": "valid = (data?.vehicle_colour_1 && instance.getValue()) && (data?.vehicle_colour_1 === instance.getValue()) ? \"Two colours should not be the same\" : true;",
                                          "customPrivate": false,
                                          "json": "",
                                          "strictDateValidation": false,
                                          "multiple": false,
                                          "unique": false
                                        },
                                        "unique": false,
                                        "validateWhenHidden": false,
                                        "errorLabel": "",
                                        "errors": "",
                                        "key": "vehicle_colour_2",
                                        "tags": [],
                                        "properties": {},
                                        "conditional": {
                                          "show": null,
                                          "when": null,
                                          "eq": "",
                                          "json": ""
                                        },
                                        "customConditional": "",
                                        "logic": [],
                                        "attributes": {},
                                        "overlay": {
                                          "style": "",
                                          "page": "",
                                          "left": "",
                                          "top": "",
                                          "width": "",
                                          "height": ""
                                        },
                                        "type": "select",
                                        "indexeddb": {
                                          "filter": {}
                                        },
                                        "dataGridLabel": false,
                                        "lazyLoad": true,
                                        "selectFields": "",
                                        "searchField": "",
                                        "searchDebounce": 0.3,
                                        "minSearch": 0,
                                        "filter": "",
                                        "limit": 100,
                                        "authenticate": false,
                                        "ignoreCache": false,
                                        "redrawOn": "",
                                        "input": true,
                                        "prefix": "",
                                        "suffix": "",
                                        "showCharCount": false,
                                        "showWordCount": false,
                                        "allowMultipleMasks": false,
                                        "addons": [],
                                        "fuseOptions": {
                                          "include": "score",
                                          "threshold": 0.3
                                        },
                                        "id": "e8jlfo",
                                        "defaultValue": ""
                                      }
                                    ],
                                    "width": 6,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "size": "md",
                                    "currentWidth": 6
                                  }
                                ],
                                "autoAdjust": false,
                                "customClass": "",
                                "hidden": false,
                                "modalEdit": false,
                                "key": "columns33",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "columns",
                                "dataGridLabel": false,
                                "input": false,
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": false,
                                "clearOnHide": false,
                                "refreshOn": "",
                                "redrawOn": "",
                                "tableView": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "tree": false,
                                "lazyLoad": false,
                                "id": "exvihdc"
                              },
                              {
                                "label": "Vehicle Colours",
                                "customClass": "",
                                "modalEdit": false,
                                "defaultValue": null,
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "customDefaultValue": "",
                                "calculateValue": "const colorArray = []\nif(data?.vehicle_colour_1) {\n  colorArray.push(data?.vehicle_colour_1)\n}\n\nif(data?.vehicle_colour_2) {\n  colorArray.push(data?.vehicle_colour_2)\n}\n\nvalue = colorArray",
                                "calculateServer": false,
                                "key": "vehicle_colour",
                                "tags": [],
                                "properties": {},
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "hidden",
                                "dataGridLabel": false,
                                "input": true,
                                "tableView": false,
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "unique": false,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "widget": {
                                  "type": "input"
                                },
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "allowCalculateOverride": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "hidden",
                                "id": "ezo2z0m"
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns11",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "edwrsi",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Vehicle Identification Number (VIN)",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "required": true,
                                  "minLength": 13,
                                  "maxLength": 18,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_vin_no",
                                "customConditional": "show = (data?.TwentyFourHour || data?.VI)",
                                "type": "textfield",
                                "input": true,
                                "id": "e2p03je",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "NSC Province/State ",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "custom",
                                "data": {
                                  "custom": "console.log(\"Fetching NSCPuj...\");\r\n\r\nvalues = window.fetchStaticDataFromTable(\"nscPuj\").then((items) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(items));\r\n  \r\n  return items.map(item => ({\r\n    value: item.objectCd,\r\n    label: item.objectDsc\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "json": "",
                                  "url": "",
                                  "resource": ""
                                },
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "refreshOn": "theDriverIsTheRegisteredOwner",
                                "validate": {
                                  "custom": "valid = ((data?.nsc_no !== '') && !input?.value) ? 'NSC Province/State is required' : true",
                                  "required": false,
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "validateWhenHidden": false,
                                "key": "nsc_prov_state",
                                "type": "select",
                                "input": true,
                                "id": "ey3w7nf",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "idPath": "id",
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "NSC Number",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "custom": "valid = ((data?.nsc_prov_state?.value) && !input) ? 'NSC Number is required' : true",
                                  "maxLength": 14,
                                  "required": false,
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "nsc_no",
                                "type": "textfield",
                                "input": true,
                                "id": "ex73gtj",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "spellcheck": true,
                                "truncateMultipleSpaces": false
                              },
                              {
                                "label": "is_nsc",
                                "calculateValue": "if(data?.nsc_no) {\n  value = true\n}else {\n  value = false\n}",
                                "key": "is_nsc",
                                "type": "hidden",
                                "input": true,
                                "tableView": false,
                                "id": "e670egq",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "hidden"
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns12",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e5nrpn",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "keyModified": true,
                    "clearOnHide": true,
                    "id": "e0h9vuw",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Registered Owner Information ",
                    "collapsible": false,
                    "key": "registeredOwnerPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI || data?.TwentyFourHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Registered Owner",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Owned by Corporate Entity ",
                                "customClass": "field-height field-width",
                                "tableView": false,
                                "validateWhenHidden": false,
                                "key": "owned_by_corp",
                                "type": "checkbox",
                                "input": true,
                                "defaultValue": false,
                                "id": "eg1cnr",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "right",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "checkbox",
                                "value": "",
                                "name": ""
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "The driver is the registered owner",
                                "customClass": "field-height field-width",
                                "tableView": false,
                                "defaultValue": false,
                                "validateWhenHidden": false,
                                "key": "driver_is_regist_owner",
                                "customConditional": "show = data?.VI",
                                "type": "checkbox",
                                "input": true,
                                "id": "ezkb6s6",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "right",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": null,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "inputType": "checkbox",
                                "value": "",
                                "name": ""
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Fill from driver",
                                "action": "custom",
                                "showValidations": false,
                                "size": "sm",
                                "customClass": "slim-button",
                                "tableView": false,
                                "key": "fillFromDriver",
                                "type": "button",
                                "custom": "if (data) {\n  console.log(\"Filling data from driver insformation\")\n  data['regist_owner_last_name'] = data?.driver_last_name;\n  data['regist_owner_first_name'] = data?.driver_given_name;\n  data['regist_owner_address'] = data?.driver_address;\n  data['regist_owner_dob'] = data?.driver_dob;\n  data['regist_owner_phone'] = data?.driver_phone;\n  data['regist_owner_city'] = data?.driver_city;\n  data['regist_owner_postal'] = data?.driver_postal;\n  data['regist_owner_prov_state'] = data?.driver_prov_state;\n  registeredOwnerPanel = instance.root.getComponent(\"registeredOwnerPanel\")\n  registeredOwnerPanel.redraw()\n}",
                                "input": true,
                                "id": "etxdo6a",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": false,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": true,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "leftIcon": "",
                                "rightIcon": "",
                                "block": false,
                                "disableOnInvalid": false,
                                "theme": "primary"
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "ez2ek2",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Corporation Name",
                        "applyMaskOn": "change",
                        "customClass": "field-height field-width",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "clearOnHide": false,
                        "calculateValue": "if(data?.owned_by_corp === false) {\n  value = ''\n}",
                        "validateWhenHidden": false,
                        "key": "corporation_name",
                        "conditional": {
                          "show": true,
                          "when": "owned_by_corp",
                          "eq": "true"
                        },
                        "type": "textfield",
                        "input": true,
                        "id": "ebvki5f",
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Owner's Last Name ",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_last_name",
                                "conditional": {
                                  "show": true,
                                  "when": "owned_by_corp",
                                  "eq": "false"
                                },
                                "type": "textfield",
                                "input": true,
                                "id": "eqwt67",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Owner's First Name  ",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_first_name",
                                "conditional": {
                                  "show": true,
                                  "when": "owned_by_corp",
                                  "eq": "false"
                                },
                                "type": "textfield",
                                "input": true,
                                "id": "eb6rnbu",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Owner's Date of Birth",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "field-height field-width",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": true,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": null,
                                  "maxDate": null,
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": "",
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "fillFromDriver",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "customMessage": "",
                                  "custom": "try {\r\n  const value = instance.getValue();\r\n  \r\n  // Early return if value is empty, blank, undefined, or null\r\n  if (!value || value.trim() === '') {\r\n    return true;\r\n  }\r\n  \r\n  // Parse the date in yyyyMMdd format\r\n  let inputDate;\r\n  if (value.length === 8 && !value.includes('-')) {\r\n    const year = value.substring(0, 4);\r\n    const month = value.substring(4, 6);\r\n    const day = value.substring(6, 8);\r\n    inputDate = new Date(`${year}-${month}-${day}`);\r\n  } else {\r\n    inputDate = new Date(value);\r\n  }\r\n  \r\n  // Check if date is valid\r\n  if (isNaN(inputDate.getTime())) {\r\n    return \"Invalid Date of Birth\";\r\n  }\r\n  \r\n  // Use logic similar to the Yup validation\r\n  const currentDate = new Date();\r\n  \r\n  // Calculate age in years\r\n  let ageInYears = currentDate.getFullYear() - inputDate.getFullYear();\r\n  \r\n  // Get month and day for current date and input date\r\n  const currentMonth = currentDate.getMonth();\r\n  const currentDay = currentDate.getDate();\r\n  const inputMonth = inputDate.getMonth();\r\n  const inputDay = inputDate.getDate();\r\n  \r\n  // Check if birthday hasn't occurred yet this year\r\n  if (\r\n    inputMonth > currentMonth || \r\n    (inputMonth === currentMonth && inputDay > currentDay)\r\n  ) {\r\n    ageInYears--;\r\n  }\r\n  \r\n  // Handle negative age (future dates) - display as 0\r\n  if (ageInYears < 0) {\r\n    ageInYears = 0;\r\n  }\r\n  \r\n  // Format the label with age\r\n  const newLabel = `Date of Birth (${ageInYears} yrs)`;\r\n  instance.component.label = newLabel;\r\n  instance.redraw();\r\n  \r\n  // Validate age range\r\n  if (ageInYears < 10) {\r\n    return \"Driver must be at least 10 years old\";\r\n  }\r\n  \r\n  if (ageInYears > 120) {\r\n    return \"Driver cannot be older than 120 years\";\r\n  }\r\n  \r\n  return true;\r\n} catch (error) {\r\n  console.error(\"Error in date of birth logic:\", error);\r\n  return true;\r\n}",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": false,
                                "enableMaxDateInput": false,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "regist_owner_dob",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": true,
                                  "when": "owned_by_corp",
                                  "eq": "false",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": null,
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": null
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "eixwgo3"
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns30",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "id": "eeg8cml",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Address",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_address",
                                "type": "textfield",
                                "input": true,
                                "id": "eodomg",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Phone Number",
                                "inputMask": "999-999-9999",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_phone",
                                "type": "phoneNumber",
                                "input": true,
                                "inputMaskPlaceholderChar": "#",
                                "id": "eydrs3l",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "tel",
                                "inputFormat": "plain",
                                "displayMask": "",
                                "truncateMultipleSpaces": false,
                                "inputMode": "decimal"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Email Address",
                                "applyMaskOn": "change",
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": ""
                                },
                                "validateWhenHidden": false,
                                "errors": {
                                  "invalid_regex": "{{ field }} must be a valid email",
                                  "pattern": "{{ field }} must be a valid email"
                                },
                                "key": "regist_owner_email",
                                "type": "textfield",
                                "input": true,
                                "id": "elh33is",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "spellcheck": true,
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns31",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "id": "eg2y9r4",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "City",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_city",
                                "type": "textfield",
                                "input": true,
                                "id": "emjj7gn",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Province / State",
                                "labelPosition": "top",
                                "widget": "choicesjs",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "uniqueOptions": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": true,
                                "modalEdit": false,
                                "multiple": false,
                                "dataSrc": "json",
                                "defaultValue": {
                                  "value": "CA_BC",
                                  "label": "BRITISH COLUMBIA"
                                },
                                "data": {
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "resource": "",
                                  "url": "",
                                  "json": [
                                    {
                                      "value": "CA_BC",
                                      "label": "BRITISH COLUMBIA"
                                    },
                                    {
                                      "value": "CA_AB",
                                      "label": "ALBERTA"
                                    },
                                    {
                                      "value": "US_WA",
                                      "label": "WASHINGTON"
                                    },
                                    {
                                      "value": "CA_MB",
                                      "label": "MANITOBA"
                                    },
                                    {
                                      "value": "CA_NB",
                                      "label": "NEW BRUNSWICK"
                                    },
                                    {
                                      "value": "CA_NF",
                                      "label": "NEWFOUNDLAND & LABRADOR"
                                    },
                                    {
                                      "value": "CA_NS",
                                      "label": "NOVA SCOTIA"
                                    },
                                    {
                                      "value": "CA_NT",
                                      "label": "NORTHWEST TERRITORIES"
                                    },
                                    {
                                      "value": "CA_NU",
                                      "label": "NUNAVUT"
                                    },
                                    {
                                      "value": "CA_ON",
                                      "label": "ONTARIO"
                                    },
                                    {
                                      "value": "CA_PE",
                                      "label": "PRINCE EDWARD ISLAND"
                                    },
                                    {
                                      "value": "CA_QC",
                                      "label": "QUEBEC"
                                    },
                                    {
                                      "value": "CA_SK",
                                      "label": "SASKATCHEWAN"
                                    },
                                    {
                                      "value": "CA_YT",
                                      "label": "YUKON"
                                    },
                                    {
                                      "value": "US_AK",
                                      "label": "ALASKA"
                                    },
                                    {
                                      "value": "US_AL",
                                      "label": "ALABAMA"
                                    },
                                    {
                                      "value": "US_AR",
                                      "label": "ARKANSAS"
                                    },
                                    {
                                      "value": "US_AS",
                                      "label": "AMERICAN SAMOA"
                                    },
                                    {
                                      "value": "US_AZ",
                                      "label": "ARIZONA"
                                    },
                                    {
                                      "value": "US_CA",
                                      "label": "CALIFORNIA"
                                    },
                                    {
                                      "value": "US_CO",
                                      "label": "COLORADO"
                                    },
                                    {
                                      "value": "US_CT",
                                      "label": "CONNECTICUT"
                                    },
                                    {
                                      "value": "US_DC",
                                      "label": "DISTRICT OF COLUMBIA"
                                    },
                                    {
                                      "value": "US_DE",
                                      "label": "DELAWARE"
                                    },
                                    {
                                      "value": "US_FL",
                                      "label": "FLORIDA"
                                    },
                                    {
                                      "value": "US_GA",
                                      "label": "GEORGIA"
                                    },
                                    {
                                      "value": "US_GU",
                                      "label": "GUAM"
                                    },
                                    {
                                      "value": "US_HI",
                                      "label": "HAWAII"
                                    },
                                    {
                                      "value": "US_IA",
                                      "label": "IOWA"
                                    },
                                    {
                                      "value": "US_ID",
                                      "label": "IDAHO"
                                    },
                                    {
                                      "value": "US_IL",
                                      "label": "ILLINOIS"
                                    },
                                    {
                                      "value": "US_IN",
                                      "label": "INDIANA"
                                    },
                                    {
                                      "value": "US_KS",
                                      "label": "KANSAS"
                                    },
                                    {
                                      "value": "US_KY",
                                      "label": "KENTUCKY"
                                    },
                                    {
                                      "value": "US_LA",
                                      "label": "LOUISIANA"
                                    },
                                    {
                                      "value": "US_MA",
                                      "label": "MASSACHUSETTS"
                                    },
                                    {
                                      "value": "US_MD",
                                      "label": "MARYLAND"
                                    },
                                    {
                                      "value": "US_ME",
                                      "label": "MAINE"
                                    },
                                    {
                                      "value": "US_MI",
                                      "label": "MICHIGAN"
                                    },
                                    {
                                      "value": "US_MN",
                                      "label": "MINNESOTA"
                                    },
                                    {
                                      "value": "US_MO",
                                      "label": "MISSOURI"
                                    },
                                    {
                                      "value": "US_MP",
                                      "label": "NORTHERN MARIANA ISLANDS"
                                    },
                                    {
                                      "value": "US_MS",
                                      "label": "MISSISSIPPI"
                                    },
                                    {
                                      "value": "US_MT",
                                      "label": "MONTANA"
                                    },
                                    {
                                      "value": "US_NC",
                                      "label": "NORTH CAROLINA"
                                    },
                                    {
                                      "value": "US_ND",
                                      "label": "NORTH DAKOTA"
                                    },
                                    {
                                      "value": "US_NE",
                                      "label": "NEBRASKA"
                                    },
                                    {
                                      "value": "US_NH",
                                      "label": "NEW HAMPSHIRE"
                                    },
                                    {
                                      "value": "US_NJ",
                                      "label": "NEW JERSEY"
                                    },
                                    {
                                      "value": "US_NM",
                                      "label": "NEW MEXICO"
                                    },
                                    {
                                      "value": "US_NV",
                                      "label": "NEVADA"
                                    },
                                    {
                                      "value": "US_NY",
                                      "label": "NEW YORK"
                                    },
                                    {
                                      "value": "US_OH",
                                      "label": "OHIO"
                                    },
                                    {
                                      "value": "US_OK",
                                      "label": "OKLAHOMA"
                                    },
                                    {
                                      "value": "US_OR",
                                      "label": "OREGON"
                                    },
                                    {
                                      "value": "US_PA",
                                      "label": "PENNSYLVANIA"
                                    },
                                    {
                                      "value": "US_PR",
                                      "label": "PUERTO RICO"
                                    },
                                    {
                                      "value": "US_RI",
                                      "label": "RHODE ISLAND"
                                    },
                                    {
                                      "value": "US_SC",
                                      "label": "SOUTH CAROLINA"
                                    },
                                    {
                                      "value": "US_SD",
                                      "label": "SOUTH DAKOTA"
                                    },
                                    {
                                      "value": "US_TN",
                                      "label": "TENNESSEE"
                                    },
                                    {
                                      "value": "US_TX",
                                      "label": "TEXAS"
                                    },
                                    {
                                      "value": "US_UM",
                                      "label": "U.S. MINOR OUTLYING ISLANDS"
                                    },
                                    {
                                      "value": "US_UT",
                                      "label": "UTAH"
                                    },
                                    {
                                      "value": "US_VA",
                                      "label": "VIRGINIA"
                                    },
                                    {
                                      "value": "US_VI",
                                      "label": "U.S. VIRGIN ISLANDS"
                                    },
                                    {
                                      "value": "US_VT",
                                      "label": "VERMONT"
                                    },
                                    {
                                      "value": "US_WI",
                                      "label": "WISCONSIN"
                                    },
                                    {
                                      "value": "US_WV",
                                      "label": "WEST VIRGINIA"
                                    },
                                    {
                                      "value": "US_WY",
                                      "label": "WYOMING"
                                    },
                                    {
                                      "value": "XX",
                                      "label": "--- more ---"
                                    }
                                  ],
                                  "custom": ""
                                },
                                "dataType": "object",
                                "idPath": "",
                                "valueProperty": "",
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "refreshOn": "",
                                "refreshOnBlur": "",
                                "clearOnRefresh": false,
                                "searchEnabled": true,
                                "selectThreshold": 0.3,
                                "readOnlyValue": false,
                                "customOptions": {},
                                "useExactSearch": false,
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "clearOnHide": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "onlyAvailableItems": false,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "regist_owner_prov_state",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "show = true\n\nif(show) {\n  \n  // Function to handle jurisdiction change\nconst handleJurisdictionChange = (selectedValue) => {\n  if (selectedValue === \"XX\") {\n    // Fetch data from another table for \"XX\"\n    return window.fetchStaticDataFromTable(\"jurisdictionCountry\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictionCountry data:\", error);\n      return [];\n    });\n  } else if (selectedValue === \"XZ\") {\n    // Fetch data for \"XZ\"\n    return window.fetchStaticDataFromTable(\"jurisdictions\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictions data:\", error);\n      return [];\n    });\n  } else {\n    // Default data (if needed)\n    return Promise.resolve([]);\n  }\n};\n\nconst initialValues = instance?.component?.data?.json\nif (!initialValues.length) {\n  handleJurisdictionChange('XZ').then((newOptions) => {\n        if(newOptions.length){\n          instance.component.data.json = newOptions;\n          instance.redraw(); // Redraw the component to reflect the new options\n          instance.setValue({\"value\": 'CA_BC', \"label\": 'BRITISH COLUMBIA'})\n          // instance.setItems([], false);\n          // instance.setItems(newOptions,false);\n        }\n       \n      });\n}\n\n\nif (instance) {\n  if (!instance.hasEventHandler('change')) {\n    instance.on('change', (event) => {\n    if (event.changed && event.changed.component.key === instance.component.key) {\n      const selectedValue = event.changed.value.value;\n      console.log(\"Selected value changed to:\", selectedValue);\n      if(!['XZ','XX'].includes(selectedValue)) {\n        return\n      }\n\n      // Update options based on the selected value\n      handleJurisdictionChange(selectedValue).then((newOptions) => {\n        // instance.component.data.values = newOptions;\n        instance.setValue(''); \n        instance.setItems([], false);\n        instance.setItems(newOptions,false);\n        // 2. Make sure dropdown is open\n        instance.choices.showDropdown();\n      });\n    }\n  });\n    \n  }\n \n}\n  \n}",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "select",
                                "indexeddb": {
                                  "filter": {}
                                },
                                "dataGridLabel": false,
                                "lazyLoad": true,
                                "selectFields": "",
                                "searchField": "",
                                "searchDebounce": 0.3,
                                "minSearch": 0,
                                "filter": "",
                                "limit": 100,
                                "authenticate": false,
                                "ignoreCache": false,
                                "redrawOn": "",
                                "input": true,
                                "prefix": "",
                                "suffix": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "id": "ed5iydk"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Postal / Zip",
                                "applyMaskOn": "change",
                                "customClass": "field-height field-width",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "fillFromDriver",
                                "validateWhenHidden": false,
                                "key": "regist_owner_postal",
                                "type": "textfield",
                                "input": true,
                                "id": "epjywok",
                                "placeholder": "",
                                "prefix": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns32",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "id": "ecfuvj",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "ezk1qy4",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Vehicle Impoundment or Disposition",
                    "collapsible": false,
                    "key": "vehicleImpoundmentPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI || data?.TwentyFourHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Vehicle Impoundment or Disposition",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Vehicle Impounded?  ",
                        "labelPosition": "top",
                        "optionsLabelPosition": "right",
                        "description": "",
                        "tooltip": "",
                        "customClass": "",
                        "tabindex": "",
                        "inline": false,
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "dataSrc": "values",
                        "values": [
                          {
                            "label": "Yes",
                            "value": "YES",
                            "shortcut": ""
                          },
                          {
                            "label": "No",
                            "value": "NO",
                            "shortcut": ""
                          }
                        ],
                        "dataType": "",
                        "valueProperty": "",
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "clearOnHide": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validate": {
                          "required": true,
                          "onlyAvailableItems": false,
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "vehicle_impounded",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "show = !data?.VI;\n\n// if this is hidden and VI selected , then set it yo YES\nif(data.VI && !show){\n  instance.setValue(\"YES\")\n}",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "radio",
                        "dataGridLabel": false,
                        "data": {
                          "url": ""
                        },
                        "template": "<span>{{ item.label }}</span>",
                        "authenticate": false,
                        "ignoreCache": false,
                        "redrawOn": "",
                        "input": true,
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "refreshOn": "",
                        "widget": null,
                        "validateOn": "change",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "radio",
                        "fieldSet": false,
                        "id": "e3y45wm",
                        "defaultValue": ""
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Date of vehicle impound ",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": true,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": false,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "if (!data?.date_of_driving) {\r\n  valid = true; // Skip validation if date_of_driving is not yet filled\r\n} else {\r\n  isNotBeforeDriving = (\r\n    moment(input).tz('America/Vancouver').startOf('day') >= \r\n    moment(data?.date_of_driving).tz('America/Vancouver').startOf('day')\r\n  )\r\n  valid = (input && isNotBeforeDriving) ? true : \"Date of Impound cannot be before date of driving\"\r\n}",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": true,
                                "enableMaxDateInput": true,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "date_of_impound",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "show = data?.VI",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": true,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')"
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "etu1qm"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns8",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e7dlhj5",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Location of Keys?  ",
                        "labelPosition": "top",
                        "optionsLabelPosition": "right",
                        "description": "",
                        "tooltip": "",
                        "customClass": "",
                        "tabindex": "",
                        "inline": false,
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "dataSrc": "values",
                        "values": [
                          {
                            "label": "With vehicle",
                            "value": "WITH VEHICLE",
                            "shortcut": ""
                          },
                          {
                            "label": "With driver",
                            "value": "WITH DRIVER",
                            "shortcut": ""
                          }
                        ],
                        "dataType": "",
                        "valueProperty": "",
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validate": {
                          "required": true,
                          "onlyAvailableItems": false,
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "locationOfKeys1",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "show = (data?.TwentyFourHour || data?.TwelveHour) && data?.vehicle_impounded === \"YES\"",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "radio",
                        "dataGridLabel": false,
                        "data": {
                          "url": ""
                        },
                        "template": "<span>{{ item.label }}</span>",
                        "authenticate": false,
                        "ignoreCache": false,
                        "redrawOn": "",
                        "input": true,
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "refreshOn": "",
                        "widget": null,
                        "validateOn": "change",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "radio",
                        "fieldSet": false,
                        "id": "e23dcu8",
                        "defaultValue": ""
                      },
                      {
                        "key": "fieldSet",
                        "customConditional": "show = (((data[\"TwentyFourHour\"] || data[\"TwelveHour\"]) && data[\"vehicle_impounded\"] === \"YES\") || data[\"VI\"])",
                        "type": "fieldset",
                        "label": "Field Set",
                        "input": false,
                        "tableView": false,
                        "components": [
                          {
                            "label": "Search for Impound Lot Operator",
                            "widget": "choicesjs",
                            "tableView": true,
                            "dataSrc": "custom",
                            "data": {
                              "custom": "values = window.fetchStaticDataFromTable(\"impoundLotOperators\").then((items) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(items));\r\n  \r\n  return items.map(item => ({\r\n    value: item.id,\r\n    name: item.name,\r\n    lot_address: item.lot_address,\r\n    city: item.city,\r\n    phone: item.phone,\r\n    label: item.name +\r\n          \", \" +\r\n          item.lot_address +\r\n          \", \" +\r\n          item.city +\r\n          \", \" +\r\n          item.phone\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                              "values": [
                                {
                                  "label": "",
                                  "value": ""
                                }
                              ],
                              "json": "",
                              "url": "",
                              "resource": ""
                            },
                            "dataType": "auto",
                            "validateWhenHidden": false,
                            "key": "ILOOptions1",
                            "customConditional": "function formatPhoneNumber(phone) {\n  // Remove all non-digits\n  const cleaned = phone.replace(/\\D/g, '');\n  \n  // Check if valid length\n  if (cleaned.length !== 10) return phone;\n  \n  // Format as XXX-XXX-XXXX\n  return `${cleaned.slice(0,3)}-${cleaned.slice(3,6)}-${cleaned.slice(6)}`;\n}\ninstance.on('change',(event) => {\n  if(event && event.changed && event.changed.component.key === instance.component.key){\n    value = instance.getValue()\n    if(value){\n      instance.root.getComponent('ILOName1').setValue(value.name);\n      instance.root.getComponent('ILO-address').setValue(value.lot_address);\n      instance.root.getComponent('ILO-city').setValue(value.city);\n      instance.root.getComponent('ILO-phone').setValue(formatPhoneNumber(value.phone));\n    }\n    \n  }\n})",
                            "type": "select",
                            "input": true,
                            "id": "e1lubq",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": true,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false,
                              "onlyAvailableItems": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "authenticate": false,
                            "ignoreCache": false,
                            "template": "<span>{{ item.label }}</span>",
                            "idPath": "id",
                            "clearOnRefresh": false,
                            "limit": 100,
                            "valueProperty": "",
                            "lazyLoad": true,
                            "filter": "",
                            "searchEnabled": true,
                            "searchDebounce": 0.3,
                            "searchField": "",
                            "minSearch": 0,
                            "readOnlyValue": false,
                            "selectFields": "",
                            "selectThreshold": 0.3,
                            "uniqueOptions": false,
                            "fuseOptions": {
                              "include": "score",
                              "threshold": 0.3
                            },
                            "indexeddb": {
                              "filter": {}
                            },
                            "customOptions": {},
                            "useExactSearch": false
                          },
                          {
                            "label": "Impound Lot Operator Name ",
                            "applyMaskOn": "change",
                            "autocomplete": "off",
                            "spellcheck": false,
                            "tableView": true,
                            "case": "uppercase",
                            "redrawOn": "ILO-options",
                            "validate": {
                              "required": true,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false,
                              "minLength": "",
                              "maxLength": "",
                              "pattern": ""
                            },
                            "validateWhenHidden": false,
                            "key": "ILOName1",
                            "type": "textfield",
                            "input": true,
                            "id": "eq3w3up",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": true,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "attributes": {},
                            "validateOn": "change",
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "mask": false,
                            "inputType": "text",
                            "inputFormat": "plain",
                            "inputMask": "",
                            "displayMask": "",
                            "truncateMultipleSpaces": false
                          },
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [
                                  {
                                    "label": "Public Lot Address",
                                    "applyMaskOn": "change",
                                    "autocomplete": "off",
                                    "spellcheck": false,
                                    "tableView": true,
                                    "case": "uppercase",
                                    "redrawOn": "ILO-options",
                                    "validate": {
                                      "required": true,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false,
                                      "minLength": "",
                                      "maxLength": "",
                                      "pattern": ""
                                    },
                                    "validateWhenHidden": false,
                                    "key": "ILO-address",
                                    "type": "textfield",
                                    "input": true,
                                    "id": "eqbh62",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": true,
                                    "hidden": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": false,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "mask": false,
                                    "inputType": "text",
                                    "inputFormat": "plain",
                                    "inputMask": "",
                                    "displayMask": "",
                                    "truncateMultipleSpaces": false
                                  }
                                ],
                                "width": 4,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 4
                              },
                              {
                                "components": [
                                  {
                                    "label": "City",
                                    "applyMaskOn": "change",
                                    "autocomplete": "off",
                                    "spellcheck": false,
                                    "tableView": true,
                                    "case": "uppercase",
                                    "redrawOn": "ILO-options",
                                    "validate": {
                                      "required": true,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false,
                                      "minLength": "",
                                      "maxLength": "",
                                      "pattern": ""
                                    },
                                    "validateWhenHidden": false,
                                    "key": "ILO-city",
                                    "type": "textfield",
                                    "input": true,
                                    "id": "e9os2s",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": true,
                                    "hidden": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": false,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "mask": false,
                                    "inputType": "text",
                                    "inputFormat": "plain",
                                    "inputMask": "",
                                    "displayMask": "",
                                    "truncateMultipleSpaces": false
                                  }
                                ],
                                "width": 4,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 4
                              },
                              {
                                "components": [
                                  {
                                    "label": "Public Phone Number",
                                    "inputMask": "999-999-9999",
                                    "applyMaskOn": "change",
                                    "autocomplete": "off",
                                    "spellcheck": false,
                                    "tableView": true,
                                    "redrawOn": "ILO-options",
                                    "validate": {
                                      "required": true,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false,
                                      "minLength": "",
                                      "maxLength": "",
                                      "pattern": ""
                                    },
                                    "validateWhenHidden": false,
                                    "key": "ILO-phone",
                                    "type": "phoneNumber",
                                    "input": true,
                                    "inputMaskPlaceholderChar": "#",
                                    "id": "emzdtfp",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": true,
                                    "hidden": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": false,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "mask": false,
                                    "inputType": "tel",
                                    "inputFormat": "plain",
                                    "displayMask": "",
                                    "truncateMultipleSpaces": false,
                                    "inputMode": "decimal"
                                  }
                                ],
                                "size": "md",
                                "width": 4,
                                "currentWidth": 4
                              }
                            ],
                            "key": "columns7",
                            "type": "columns",
                            "input": false,
                            "tableView": false,
                            "clearOnHide": true,
                            "id": "em0266h",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false,
                            "autoAdjust": false
                          }
                        ],
                        "id": "e3cnt4",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "legend": ""
                      },
                      {
                        "label": "Reason for not impounding?  ",
                        "labelPosition": "top",
                        "optionsLabelPosition": "right",
                        "description": "",
                        "tooltip": "",
                        "customClass": "",
                        "tabindex": "",
                        "inline": false,
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "dataSrc": "values",
                        "values": [
                          {
                            "label": "Released to other driver",
                            "value": "released",
                            "shortcut": ""
                          },
                          {
                            "label": "Left at roadside",
                            "value": "roadside",
                            "shortcut": ""
                          },
                          {
                            "label": "Private tow",
                            "value": "private",
                            "shortcut": ""
                          },
                          {
                            "label": "Seized for investigation",
                            "value": "investigation",
                            "shortcut": ""
                          }
                        ],
                        "dataType": "",
                        "valueProperty": "",
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validate": {
                          "required": true,
                          "onlyAvailableItems": false,
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "reason_for_not_impounding",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": true,
                          "when": "vehicle_impounded",
                          "eq": "NO",
                          "json": ""
                        },
                        "customConditional": "",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "radio",
                        "dataGridLabel": false,
                        "data": {
                          "url": ""
                        },
                        "template": "<span>{{ item.label }}</span>",
                        "authenticate": false,
                        "ignoreCache": false,
                        "redrawOn": "",
                        "input": true,
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "refreshOn": "",
                        "widget": null,
                        "validateOn": "change",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "radio",
                        "fieldSet": false,
                        "id": "ekhzfia",
                        "defaultValue": ""
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Vehicle Released To",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "redrawOn": "vehicle_released_to",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicleReleasedTo1",
                                "conditional": {
                                  "show": true,
                                  "when": "reason_for_not_impounding",
                                  "eq": "released"
                                },
                                "type": "textfield",
                                "input": true,
                                "id": "eg04zgc",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Date Released ",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": true,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": false,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": true,
                                "enableMaxDateInput": true,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "dateReleased1",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": true,
                                  "when": "reason_for_not_impounding",
                                  "eq": "released",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": true,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')"
                                },
                                "keyModified": true,
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "eln0hb"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Time",
                                "description": "PACIFIC TIME in 24-hour clock",
                                "inputMask": "99:99",
                                "displayMask": "99:99",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "validate": {
                                  "required": true,
                                  "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                                  "custom": "const isAtLeastOneMinuteAfter = (input, data) => {\r\n  // Only proceed if all required data is present\r\n  if (data?.date_of_driving && data?.time_of_driving && data?.dateReleased1 && input) {\r\n    // Create moment objects for driving time and test time\r\n    const dateOfDriving = moment(data.date_of_driving);\r\n    const timeOfDriving = moment(data.time_of_driving, \"HHmm\");\r\n    const dateOfTest = moment(data.dateReleased1);\r\n    const timeOfTest = moment(input, \"HHmm\");\r\n\r\n    // Combine date and time for both events\r\n    const timeOfDrivingCareOrControl = moment(dateOfDriving)\r\n      .add(timeOfDriving.hours(), \"hours\")\r\n      .add(timeOfDriving.minutes(), \"minutes\");\r\n\r\n    const testTime = moment(dateOfTest)\r\n      .add(timeOfTest.hours(), \"hours\")\r\n      .add(timeOfTest.minutes(), \"minutes\");\r\n\r\n    // Check if test time is after driving time\r\n    return timeOfDrivingCareOrControl.isBefore(testTime) ? \r\n      true : \r\n      \"Release time must be at least 1 minute after time of driving - care or control\";\r\n  }\r\n  \r\n  // If all required fields aren't present, return true (validation passes)\r\n  return true;\r\n};\r\n\r\n// Combined validation that checks both conditions\r\nconst validateReleaseTime = (input, data) => {\r\n  // First check if it's not in the future\r\n  const isLessThanCurrent = moment(data?.dateReleased1)\r\n    .tz('America/Vancouver')\r\n    .set(\"hour\", input.slice(0, 2))\r\n    .set(\"minute\", input.slice(3)) <= moment().tz('America/Vancouver');\r\n  \r\n  const notInFutureResult = (input && data?.dateReleased1 && isLessThanCurrent) ? \r\n    true : \r\n    \"Time Released cannot be in the future\";\r\n  \r\n  // If the first validation passes, check the second condition\r\n  if (notInFutureResult === true) {\r\n    return isAtLeastOneMinuteAfter(input, data);\r\n  } else {\r\n    return notInFutureResult;\r\n  }\r\n};\r\n\r\n// Usage\r\nvalid = validateReleaseTime(input, data);\r\n\r\n\r\n",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": ""
                                },
                                "validateWhenHidden": false,
                                "errors": "{\n  \"invalid_regex\": \"{{ field }} is not a valid time format. Should be similar to 16:00\",\n  \"pattern\": \"{{ field }} is not a valid time format. Should be similar to 16:00\",\n  \"mask\": \"{{ field }} is not a valid time format. Should be similar to 16:00\",\n}",
                                "key": "timeReleased1",
                                "conditional": {
                                  "show": true,
                                  "when": "reason_for_not_impounding",
                                  "eq": "released"
                                },
                                "type": "textfield",
                                "input": true,
                                "id": "ebq1l5x",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns1",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "eyd2epf",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "keyModified": true,
                    "clearOnHide": true,
                    "id": "ei72kl8",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "label": "vehicle_released_to",
                    "key": "vehicle_released_to",
                    "logic": [
                      {
                        "name": "When Form Values changed",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "VehicleReleased 1 changed",
                              "whenAdvanced": "vehicleReleasedTo1",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "VehicleReleased 2 changed",
                              "whenAdvanced": "vehicleReleasedTo2",
                              "operatorAdvanced": "isNotEmpty"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Set the value",
                            "type": "value",
                            "value": "value = data?.vehicleReleasedTo1 ? data?.vehicleReleasedTo1 : data?.vehicleReleasedTo2"
                          }
                        ]
                      }
                    ],
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "ejlqbgm",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "date_released",
                    "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                    "key": "date_released",
                    "tags": [
                      "utc_date"
                    ],
                    "logic": [
                      {
                        "name": "When Form Values changed",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "dateReleased 1 changed",
                              "whenAdvanced": "dateReleased1",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "dateReleased 2 changed",
                              "whenAdvanced": "dateReleased2",
                              "operatorAdvanced": "isNotEmpty"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Set the value",
                            "type": "value",
                            "value": "value = data?.dateReleased1 ? data?.dateReleased1 : data?.dateReleased2"
                          }
                        ]
                      }
                    ],
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "e7imalq",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "time_released",
                    "customDefaultValue": "time_released=''",
                    "key": "time_released",
                    "logic": [
                      {
                        "name": "When Form Values changed",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "timeReleased1 changed",
                              "whenAdvanced": "timeReleased1",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "timeReleased 2 changed",
                              "whenAdvanced": "timeReleased2",
                              "operatorAdvanced": "isNotEmpty"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Set the value",
                            "type": "value",
                            "value": "value = data?.timeReleased1 ? data?.timeReleased1 : data?.timeReleased2"
                          }
                        ]
                      }
                    ],
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "e27p41f",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "location_of_keys",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "location_of_keys",
                    "tags": [],
                    "properties": {},
                    "logic": [
                      {
                        "name": "When Form Values changed",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "locationOfKeys1 changed",
                              "whenAdvanced": "locationOfKeys1",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "locationOfKeys2 changed",
                              "whenAdvanced": "locationOfKeys2",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "IF Reason For Not Impounding Changes",
                              "whenAdvanced": "reason_for_not_impounding",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "if Location of Vehicle changes",
                              "whenAdvanced": "vehicle_location",
                              "operatorAdvanced": "isNotEmpty"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Set the value",
                            "type": "customAction",
                            "customAction": "let loc_value = ''\nlet released_val= '';\nif(data?.TwelveHour){\n  released_val = \"vehicle_location\";\n} else if(data?.TwentyFourHour){\n  released_val = \"reason_for_not_impounding\";\n}\n\nfunction getLocationOfKeys(){\n   return data?.locationOfKeys1 ?? data?.locationOfKeys2 ?? '';\n}\n\nif(data?.VI || (data?.TwentyFourHour && data?.vehicle_impounded === 'YES')){\n  loc_value = getLocationOfKeys()\n} else {\n  switch (data[released_val]) {\n    case \"released\":\n      loc_value = \"WITH OTHER DRIVER\";\n      break;\n    case \"private\":\n      loc_value = getLocationOfKeys()\n      break;\n    case \"roadside\":\n      loc_value = getLocationOfKeys()\n      break;\n    default:\n      loc_value = \"\";\n  }\n}\n\ninstance.setValue(loc_value)\nconsole.log(\"Location of keys set to \", loc_value)\n"
                          }
                        ]
                      }
                    ],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "era0nyb"
                  },
                  {
                    "label": "ILO-options",
                    "calculateValue": "function getValue(option) {\n   return {\"label\" : option.label, \"value\" : option.value}\n}\nif(data?.ILOOptions1?.label || data?.ILOOptions2?.label){\n  value = data?.ILOOptions1 ? getValue(data?.ILOOptions1) : getValue(data?.ILOOptions2)\n}\n",
                    "key": "ILO-options",
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "ewwj0ee",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "ILO-name",
                    "key": "ILO-name",
                    "logic": [
                      {
                        "name": "When Form Values changed",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "ILO-name1 changed",
                              "whenAdvanced": "ILOName1",
                              "operatorAdvanced": "isNotEmpty"
                            },
                            {
                              "name": "ILO-name2 changed",
                              "whenAdvanced": "ILOName2",
                              "operatorAdvanced": "isNotEmpty"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Set the value",
                            "type": "value",
                            "value": "value = data?.ILOName1 ? data?.ILOName1 : data?.ILOName2"
                          }
                        ]
                      }
                    ],
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "e2rf78j",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "title": "Disposition of Vehicle",
                    "collapsible": false,
                    "key": "dispositionPanel",
                    "customConditional": "try {\n  show = false;\n  if(!data?.VI && data?.TwelveHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Disposition of Vehicle",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Location of the vehicle? ",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Released to other driver",
                            "value": "released",
                            "shortcut": ""
                          },
                          {
                            "label": "Left at roadside",
                            "value": "roadside",
                            "shortcut": ""
                          },
                          {
                            "label": "Private tow",
                            "value": "private",
                            "shortcut": ""
                          }
                        ],
                        "validateWhenHidden": false,
                        "key": "vehicle_location",
                        "type": "radio",
                        "input": true,
                        "id": "evvjxa8",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Location of Keys?",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "With vehicle",
                            "value": "WITH VEHICLE",
                            "shortcut": ""
                          },
                          {
                            "label": "With driver",
                            "value": "WITH DRIVER",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "locationOfKeys2",
                        "customConditional": "show = (data?.vehicle_location === \"roadside\" || data?.vehicle_location === \"private\")",
                        "type": "radio",
                        "input": true,
                        "id": "eva2ee",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Search for Impound Lot Operator",
                        "widget": "choicesjs",
                        "tableView": true,
                        "dataSrc": "custom",
                        "data": {
                          "custom": "values = window.fetchStaticDataFromTable(\"impoundLotOperators\").then((items) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(items));\r\n  \r\n  return items.map(item => ({\r\n    value: item.id,\r\n    name: item.name,\r\n    lot_address: item.lot_address,\r\n    city: item.city,\r\n    phone: item.phone,\r\n    label: item.name +\r\n          \", \" +\r\n          item.lot_address +\r\n          \", \" +\r\n          item.city +\r\n          \", \" +\r\n          item.phone\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                          "values": [
                            {
                              "label": "",
                              "value": ""
                            }
                          ],
                          "json": "",
                          "url": "",
                          "resource": ""
                        },
                        "dataType": "auto",
                        "template": "<span>{{ item.name }}, {{ item.lot_address }}, {{ item.phone }}</span>",
                        "validateWhenHidden": false,
                        "key": "ILOOptions2",
                        "customConditional": "show = (data?.vehicle_location === \"private\")\ninstance.on('change',(event) => {\n  if(event && event.changed && event.changed.component.key === instance.component.key){\n    value = instance.getValue()\n    if(value){\n      instance.root.getComponent('ILOName2').setValue(value.name);\n    }\n    \n  }\n})",
                        "type": "select",
                        "input": true,
                        "keyModified": true,
                        "id": "ebex94f",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "authenticate": false,
                        "ignoreCache": false,
                        "idPath": "id",
                        "clearOnRefresh": false,
                        "limit": 100,
                        "valueProperty": "",
                        "lazyLoad": true,
                        "filter": "",
                        "searchEnabled": true,
                        "searchDebounce": 0.3,
                        "searchField": "",
                        "minSearch": 0,
                        "readOnlyValue": false,
                        "selectFields": "",
                        "selectThreshold": 0.3,
                        "uniqueOptions": false,
                        "fuseOptions": {
                          "include": "score",
                          "threshold": 0.3
                        },
                        "indexeddb": {
                          "filter": {}
                        },
                        "customOptions": {},
                        "useExactSearch": false
                      },
                      {
                        "label": "Impound Lot Operator Name",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "validateWhenHidden": false,
                        "key": "ILOName2",
                        "conditional": {
                          "eq": "private",
                          "show": null,
                          "when": null
                        },
                        "customConditional": "show = (data?.vehicle_location === \"private\")",
                        "type": "textfield",
                        "input": true,
                        "id": "e3hdn4d",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Vehicle Released To",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "persistent": false,
                                "case": "uppercase",
                                "customDefaultValue": "value = data?.vehicle_released_to",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicleReleasedTo2",
                                "customConditional": "show = (data?.vehicle_location === \"released\")",
                                "type": "textfield",
                                "input": true,
                                "id": "eecdjoq",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Date Released",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": true,
                                "enableMaxDateInput": true,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "dateReleased2",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "show = (data?.vehicle_location === \"released\" || data?.vehicle_location === \"private\")",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')"
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "e75pjw"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Time",
                                "description": "PACIFIC TIME in 24-hour clock",
                                "inputMask": "99:99",
                                "displayMask": "99:99",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "validate": {
                                  "required": true,
                                  "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                                  "custom": "const isAtLeastOneMinuteAfter = (input, data) => {\r\n  // Only proceed if all required data is present\r\n  if (data?.date_of_driving && data?.time_of_driving && data?.dateReleased2 && input) {\r\n    // Create moment objects for driving time and test time\r\n    const dateOfDriving = moment(data.date_of_driving);\r\n    const timeOfDriving = moment(data.time_of_driving, \"HHmm\");\r\n    const dateOfTest = moment(data.dateReleased2);\r\n    const timeOfTest = moment(input, \"HHmm\");\r\n\r\n    // Combine date and time for both events\r\n    const timeOfDrivingCareOrControl = moment(dateOfDriving)\r\n      .add(timeOfDriving.hours(), \"hours\")\r\n      .add(timeOfDriving.minutes(), \"minutes\");\r\n\r\n    const testTime = moment(dateOfTest)\r\n      .add(timeOfTest.hours(), \"hours\")\r\n      .add(timeOfTest.minutes(), \"minutes\");\r\n\r\n    // Check if test time is after driving time\r\n    return timeOfDrivingCareOrControl.isBefore(testTime) ? \r\n      true : \r\n      \"Release time must be at least 1 minute after time of driving - care or control\";\r\n  }\r\n  \r\n  // If all required fields aren't present, return true (validation passes)\r\n  return true;\r\n};\r\n\r\n// Combined validation that checks both conditions\r\nconst validateReleaseTime = (input, data) => {\r\n  // First check if it's not in the future\r\n  const isLessThanCurrent = moment(data?.dateReleased2)\r\n    .tz('America/Vancouver')\r\n    .set(\"hour\", input.slice(0, 2))\r\n    .set(\"minute\", input.slice(3)) <= moment().tz('America/Vancouver');\r\n  \r\n  const notInFutureResult = (input && data?.dateReleased2 && isLessThanCurrent) ? \r\n    true : \r\n    \"Time Released cannot be in the future\";\r\n  \r\n  // If the first validation passes, check the second condition\r\n  if (notInFutureResult === true) {\r\n    return isAtLeastOneMinuteAfter(input, data);\r\n  } else {\r\n    return notInFutureResult;\r\n  }\r\n};\r\n\r\n// Usage\r\nvalid = validateReleaseTime(input, data);\r\n\r\n\r\n",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": ""
                                },
                                "validateWhenHidden": false,
                                "errors": {
                                  "invalid_regex": "{{ field }} is not a valid time format. Should be similar to 16:00",
                                  "pattern": "{{ field }} is not a valid time format. Should be similar to 16:00",
                                  "mask": "{{ field }} is not a valid time format. Should be similar to 16:00"
                                },
                                "key": "timeReleased2",
                                "customConditional": "show = (data?.vehicle_location === \"released\" || data?.vehicle_location === \"private\")",
                                "type": "textfield",
                                "input": true,
                                "id": "em5uycl",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "autoAdjust": true,
                        "key": "columns29",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "est6ob6",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "eteua1n",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Prohibition",
                    "collapsible": false,
                    "key": "prohibitionPanel",
                    "customConditional": "show = ((data?.VI || data?.TwentyFourHour) || (!data?.VI && data?.TwelveHour) )\ntry {\n  // Create or access the state object on the instance if it doesn't exist\n  if (!instance.titleState) {\n    instance.titleState = {\n      TwentyFourHour: false,\n      TwelveHour: false,\n      VI: false\n    };\n  }\n  \n  // Check if state has changed\n  const stateChanged = \n    instance.titleState.TwentyFourHour !== !!data?.TwentyFourHour ||\n    instance.titleState.TwelveHour !== !!data?.TwelveHour ||\n    instance.titleState.VI !== !!data?.VI;\n  \n  // Only proceed if state has changed\n  if (stateChanged) {\n    // Update stored state\n    instance.titleState.TwentyFourHour = !!data?.TwentyFourHour;\n    instance.titleState.TwelveHour = !!data?.TwelveHour;\n    instance.titleState.VI = !!data?.VI;\n    \n    // Build title text\n    let titleText = '';\n    \n    // Check for Prohibition conditions\n    if (data?.TwentyFourHour || data?.TwelveHour) {\n      titleText += \"Prohibition\";\n    }\n    \n    // Check for separator condition\n    if ((data?.VI && (data?.TwentyFourHour || data?.TwelveHour))) {\n      titleText += \" & \";\n    }\n    \n    // Check for Time and Place condition\n    if (data?.VI) {\n      titleText += \"Time and Place\";\n    }\n    \n    // If titleText is still empty, default to \"Time and Place\"\n    if (!titleText) {\n      titleText = \"Time and Place\";\n    }\n    \n    // Update the component title\n    instance.component.title = titleText;\n    \n    // Trigger a redraw to update the UI\n    instance.redraw();\n  }\n} catch (error) {\n  console.error(error);\n}",
                    "type": "panel",
                    "label": "Prohibition",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Type of Prohibition   ",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Alcohol 90.3(2)",
                            "value": "alcohol"
                          },
                          {
                            "label": "Drugs 90.3(2.1)",
                            "value": "drugs"
                          }
                        ],
                        "clearOnHide": false,
                        "customDefaultValue": "value=''",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "type_of_prohibition",
                        "customConditional": "try {\n  show = false;\n  if(data?.TwentyFourHour || data?.TwelveHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n};\n\n try {\n    let options = [];\n    if (data?.TwelveHour === true) {\n      options = [\n        { label: \"Alcohol 90.3(2)\", value: \"alcohol\" },\n        { label: \"Drugs 90.3(2.1)\", value: \"drugs\" }\n      ];\n    } else if (data?.TwentyFourHour === true) {\n      options = [\n        { label: \"Alcohol 215(2)\", value: \"alcohol\" },\n        { label: \"Drugs 215(3)\", value: \"drugs\" }\n      ];\n    } else {\n      options = [\n        { label: \"Alcohol 90.3(2)\", value: \"alcohol\" },\n        { label: \"Drugs 90.3(2.1)\", value: \"drugs\" }\n      ];\n    }\n    // Set the options to the component\n    instance.component.values = options;\n \n      // Trigger a redraw to update the UI\n    instance.redraw();\n\n\n  } catch (error) {\n    console.warn('Error in radio options calculation:', error);\n  };",
                        "type": "radio",
                        "refreshOn": "data.formOptions",
                        "input": true,
                        "id": "eljoiac",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Intersection or Address of Offence  ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "required": true,
                                  "maxLength": 30,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "intersection_or_address_of_offence",
                                "type": "textfield",
                                "input": true,
                                "id": "extgrro",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "label": "City",
                                "labelPosition": "top",
                                "widget": "choicesjs",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "uniqueOptions": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": true,
                                "modalEdit": false,
                                "multiple": false,
                                "dataSrc": "custom",
                                "data": {
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "resource": "",
                                  "url": "",
                                  "json": "",
                                  "custom": "values = window.fetchStaticDataFromTable(\"cities\").then((items) => {\r\n  return items.map(item => ({\r\n    value: item.objectCd,\r\n    label: item.objectDsc\r\n  }));\r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);"
                                },
                                "dataType": "",
                                "idPath": "id",
                                "valueProperty": "",
                                "template": "<span>{{ item.value }} - {{ item.label }}</span>",
                                "refreshOn": "",
                                "refreshOnBlur": "",
                                "clearOnRefresh": false,
                                "searchEnabled": true,
                                "selectThreshold": 0.3,
                                "readOnlyValue": false,
                                "customOptions": {},
                                "useExactSearch": false,
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "onlyAvailableItems": false,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "offence_city",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "select",
                                "indexeddb": {
                                  "filter": {}
                                },
                                "dataGridLabel": false,
                                "lazyLoad": true,
                                "selectFields": "",
                                "searchField": "",
                                "searchDebounce": 0.3,
                                "minSearch": 0,
                                "filter": "",
                                "limit": 100,
                                "authenticate": false,
                                "ignoreCache": false,
                                "redrawOn": "",
                                "input": true,
                                "prefix": "",
                                "suffix": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "id": "ebesyu5",
                                "defaultValue": {}
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "eoe5ieh",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Agency File #",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "agency_file_no",
                                "type": "textfield",
                                "input": true,
                                "id": "ewkq3g",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Date of Driving - care or control",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": true,
                                "enableMaxDateInput": true,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "date_of_driving",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": "moment().tz('America/Vancouver').subtract(1, 'days').format('YYYY-MM-DD')",
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": "moment().tz('America/Vancouver').format('YYYY-MM-DD')"
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "egz9jf"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Time of Driving - care or control",
                                "description": "PACIFIC TIME in 24-hour clock",
                                "inputMask": "99:99",
                                "displayMask": "99:99",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "validate": {
                                  "required": true,
                                  "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                                  "custom": "const validateDrivingTime = (input, data) => {\r\n  // Check if it's not in the future\r\n  const isLessThanCurrent = moment(data?.date_of_driving)\r\n    .tz('America/Vancouver')\r\n    .set(\"hour\", input.slice(0, 2))\r\n    .set(\"minute\", input.slice(3)) <= moment().tz('America/Vancouver');\r\n  \r\n  return (input && data?.date_of_driving && isLessThanCurrent) ? \r\n    true : \r\n    \"Time of Driving cannot be in the future\";\r\n};\r\n\r\n// Usage\r\nvalid = validateDrivingTime(input, data);",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": ""
                                },
                                "validateWhenHidden": false,
                                "errors": "\"errors\": {\r\n  \"invalid_regex\": \"{{ field }} is not a valid time format. Should be similar to 16:00\",\r\n  \"pattern\": \"{{ field }} is not a valid time format. Should be similar to 16:00\",\r\n  \"mask\": \"{{ field }} is not a valid time format. Should be similar to 16:00\"\r\n}",
                                "key": "time_of_driving",
                                "type": "textfield",
                                "input": true,
                                "id": "eituq5",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns1",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e88mjzn",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "eily0hf",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Impoundment for Immediate Roadside Prohibition",
                    "collapsible": false,
                    "key": "vehicleImpoundmentIRPPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI && !data?.TwelveHour && !data?.TwentyFourHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Impoundment for Immediate Roadside Prohibition",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Was an IRP issued as a part of this vehicular impound? ",
                        "optionsLabelPosition": "right",
                        "description": "In accordance with section 215.46 and 253 of the Motor Vehicle Act",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Yes",
                            "value": "YES",
                            "shortcut": ""
                          },
                          {
                            "label": "No",
                            "value": "NO",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "irp_impound",
                        "type": "radio",
                        "input": true,
                        "id": "etpbgfr",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "IRP Duration",
                        "key": "irp_impound_duration",
                        "type": "radio",
                        "input": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "3-Day IRP (Warn)",
                            "value": "BACWARN3"
                          },
                          {
                            "label": "7-Day IRP (Warn)",
                            "value": "BACWARN7"
                          },
                          {
                            "label": "30-day IRP (Warn)",
                            "value": "BACWARN30"
                          },
                          {
                            "label": "90-day IRP (Fail or Refusal)",
                            "value": "BACFAIL"
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "conditional": {
                          "show": true,
                          "when": "irp_impound",
                          "eq": "YES"
                        },
                        "id": "e6bycb",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "impounded for 3 days",
                        "className": "text-muted",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "Vehicle <strong>could</strong> be impounded for: 3 days",
                        "refreshOnChange": false,
                        "key": "impoundedFor3Days",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound_duration",
                          "eq": "BACWARN3"
                        },
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "e8cmx6k",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "impounded for 7 days",
                        "className": "text-muted",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "Vehicle <strong>could</strong> be impounded for: 7 days",
                        "refreshOnChange": false,
                        "key": "impoundedFor3Days3",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound_duration",
                          "eq": "BACWARN7"
                        },
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "es5lwj8",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "impounded for 30 days",
                        "className": "text-muted",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "Vehicle <strong>must</strong> be impounded for: 30 days",
                        "refreshOnChange": false,
                        "key": "impoundedFor3Days2",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound_duration",
                          "eq": "BACWARN30"
                        },
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "erqnk6o",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "impounded for 30 days",
                        "className": "text-muted",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "Vehicle <strong>must</strong> be impounded for: 30 days",
                        "refreshOnChange": false,
                        "key": "impoundedFor3Days1",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound_duration",
                          "eq": "BACFAIL"
                        },
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "emug06k",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "IRP Number",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "validateWhenHidden": false,
                        "key": "IRP_number",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound",
                          "eq": "YES"
                        },
                        "type": "textfield",
                        "input": true,
                        "id": "evqsh5d",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "This VI Number",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "disabled": true,
                        "tableView": true,
                        "calculateValue": "value = data?.VI_number",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "validateWhenHidden": false,
                        "key": "irp_vi_number",
                        "conditional": {
                          "show": true,
                          "when": "irp_impound",
                          "eq": "YES"
                        },
                        "type": "textfield",
                        "input": true,
                        "id": "e3batsp",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "e6q008i",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Impoundment for Driving Behaviour",
                    "collapsible": false,
                    "key": "vehicleImpoundment",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "7-Day Impoundment for the following reason(s):",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "7-Day Impoundment for the following reason(s):",
                        "refreshOnChange": false,
                        "key": "impoundmentSubtitle",
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "etm5zl",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "Driving Behaviour",
                        "customClass": "",
                        "modalEdit": false,
                        "defaultValue": null,
                        "persistent": false,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "customDefaultValue": "",
                        "calculateValue": "if (data && data.VI && (data.TwelveHour || data.TwentyFourHour || data.irp_impound === 'NO')) {\n  if (\n    data.excessive_speed ||\n    data.prohibited ||\n    data.suspended ||\n    data.street_racing ||\n    data.stunt_driving ||\n    data.motorcycle_seating ||\n    data.motorcycle_restrictions ||\n    data.unlicensed\n  ) {\n    return 'valid';\n  } else {\n    return '';\n  }\n} else {\n  return 'valid';\n}",
                        "calculateServer": false,
                        "key": "drivingBehaviourRequired",
                        "tags": [],
                        "properties": {},
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "hidden",
                        "dataGridLabel": false,
                        "input": true,
                        "tableView": false,
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "errorLabel": "At least one option from the list of Impoundment for Driving Behaviour",
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "labelPosition": "top",
                        "description": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "widget": {
                          "type": "input"
                        },
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "allowCalculateOverride": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "hidden",
                        "id": "eb81bpa"
                      },
                      {
                        "label": "Excessive Speed",
                        "description": "Committing an offence under section 148 of the Motor Vehicle Act.",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "excessive_speed",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "onChange": {
                          "event": "change",
                          "customAction": "(function() { if (!this.value) { data.speed_limit = null; data.vehicle_speed = null; data.speed_estimation_technique = ''; data.speed_confirmation_technique = ''; } })"
                        },
                        "id": "emmtisr",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Prohibited",
                        "description": "Driving while prohibited under the Motor Vehicle Act, Criminal Code, Youth Justice Act or Youth Criminal Justice Act (Canada).",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "prohibited",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "id": "ejo8l6f",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Suspended",
                        "description": "Driving while suspended under section 89 or section 232 of the Motor Vehicle Act.",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "suspended",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "id": "ev5rs5",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Street Racing",
                        "description": "Driving or operating a motor vehicle in a race as defined in the Motor Vehicle Act and the officer intends to charge with an offence.",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "street_racing",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "id": "em3n4ti",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Stunt Driving",
                        "description": "Driving or operating a motor vehicle in a stunt as defined in the Motor Vehicle Act and the officer intends to charge with an offence.",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "stunt_driving",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "id": "e294ij6",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Motorcycle (seating)",
                        "description": "Committing an offence under section 194 (1) or (2) of the Motor Vehicle Act.",
                        "tableView": false,
                        "validateWhenHidden": false,
                        "key": "motorcycle_seating",
                        "type": "checkbox",
                        "input": true,
                        "defaultValue": false,
                        "id": "eg2m48f",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Unlicensed (UL)",
                        "description": "Driving without a valid driver's licence and with a notice on the driving record indicating a previous conviction for driving while unlicensed",
                        "tooltip": "",
                        "shortcut": "",
                        "inputType": "checkbox",
                        "customClass": "",
                        "tabindex": "",
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "defaultValue": false,
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validate": {
                          "required": false,
                          "customMessage": "",
                          "custom": "w",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "unlicensed",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "checkbox",
                        "name": "",
                        "value": "",
                        "dataGridLabel": true,
                        "input": true,
                        "onChange": {
                          "event": "change",
                          "customAction": "(function() { if (!this.value) { data.unlicenced_prohibition_number = ''; data.belief_driver_bc_resident = ''; data.out_of_province_dl = ''; data.out_of_province_dl_number = ''; data.out_of_province_dl_jurisdiction = null; data.out_of_province_dl_expiry = null; } })"
                        },
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "refreshOn": "",
                        "labelPosition": "right",
                        "widget": null,
                        "validateOn": "change",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "id": "eddn0u"
                      },
                      {
                        "label": "motorcycle_restrictions",
                        "customDefaultValue": "value=false",
                        "key": "motorcycle_restrictions",
                        "type": "hidden",
                        "input": true,
                        "tableView": false,
                        "id": "e1q32l4s",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "hidden"
                      }
                    ],
                    "clearOnHide": true,
                    "id": "e3846cq",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Excessive Speed",
                    "collapsible": false,
                    "key": "panel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI && data?.excessive_speed){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Speed Limit(KM/H)  ",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "mask": false,
                                "tableView": false,
                                "delimiter": false,
                                "requireDecimal": false,
                                "inputFormat": "plain",
                                "truncateMultipleSpaces": false,
                                "validate": {
                                  "required": true,
                                  "min": 0,
                                  "max": 999,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "step": "any",
                                  "integer": ""
                                },
                                "validateWhenHidden": false,
                                "key": "speed_limit",
                                "type": "number",
                                "spellcheck": false,
                                "input": true,
                                "id": "ebzarna",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": []
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "label": "Vehicle Speed(KM/H)",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "mask": false,
                                "tableView": false,
                                "delimiter": false,
                                "requireDecimal": false,
                                "inputFormat": "plain",
                                "truncateMultipleSpaces": false,
                                "validate": {
                                  "required": true,
                                  "custom": "if(data?.speed_limit){\r\n  valid = input >= (data.speed_limit + 41) ? true : \"Vehicle Speed must be at least 41km/h above the speed limit\";\r\n}",
                                  "min": 0,
                                  "max": 999,
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "step": "any",
                                  "integer": ""
                                },
                                "validateWhenHidden": false,
                                "key": "vehicle_speed",
                                "type": "number",
                                "spellcheck": false,
                                "input": true,
                                "id": "esm8jhq",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": []
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "e5ux7r5",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Vehicle speed estimated by:",
                        "optionsLabelPosition": "right",
                        "inline": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Visual",
                            "value": "VISUAL",
                            "shortcut": ""
                          },
                          {
                            "label": "Pacing",
                            "value": "PACING",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "speed_estimation_technique",
                        "type": "radio",
                        "input": true,
                        "id": "eo6a4a",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Vehicle speed confirmed by:",
                        "optionsLabelPosition": "right",
                        "inline": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Laser",
                            "value": "LASER",
                            "shortcut": ""
                          },
                          {
                            "label": "Radar",
                            "value": "RADAR",
                            "shortcut": ""
                          },
                          {
                            "label": "Other(explain in incident details)",
                            "value": "OTHER",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "speed_confirmation_technique",
                        "type": "radio",
                        "input": true,
                        "id": "ed35apd",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "ecftwh7",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Unlicensed Driver",
                    "collapsible": false,
                    "key": "unlicensedPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI && data?.unlicensed){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Unlicensed Driver",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "UL Prohibition Number ",
                        "labelPosition": "top",
                        "placeholder": "",
                        "description": "",
                        "tooltip": "",
                        "prefix": "",
                        "suffix": "",
                        "widget": {
                          "type": "input"
                        },
                        "inputMask": "",
                        "displayMask": "",
                        "applyMaskOn": "change",
                        "allowMultipleMasks": false,
                        "customClass": "",
                        "tabindex": "",
                        "autocomplete": "off",
                        "hidden": false,
                        "hideLabel": false,
                        "showWordCount": false,
                        "showCharCount": false,
                        "mask": false,
                        "autofocus": false,
                        "spellcheck": false,
                        "disabled": false,
                        "tableView": true,
                        "modalEdit": false,
                        "multiple": false,
                        "persistent": true,
                        "inputFormat": "plain",
                        "protected": false,
                        "dbIndex": false,
                        "case": "uppercase",
                        "truncateMultipleSpaces": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validateOn": "change",
                        "validate": {
                          "required": true,
                          "pattern": "",
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "minLength": "",
                          "maxLength": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "unique": false,
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "unlicenced_prohibition_number",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "textfield",
                        "dataGridLabel": false,
                        "input": true,
                        "refreshOn": "",
                        "addons": [],
                        "inputType": "text",
                        "id": "euv8w1m",
                        "defaultValue": ""
                      },
                      {
                        "label": "Does the officer have grounds to believe that the driver resides in British Columbia? (explain in incident details)",
                        "key": "belief_driver_bc_resident",
                        "type": "radio",
                        "input": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Yes",
                            "value": "YES"
                          },
                          {
                            "label": "No",
                            "value": "NO"
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "id": "e6j8x8h",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Out-of-Province DL produced",
                        "key": "out_of_province_dl",
                        "type": "radio",
                        "input": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Yes",
                            "value": "YES"
                          },
                          {
                            "label": "No",
                            "value": "NO"
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "id": "eefkbf",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Driver's Licence Number",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "case": "uppercase",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "out_of_province_dl_number",
                                "type": "textfield",
                                "input": true,
                                "id": "ei79auf",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Province / State / International ",
                                "widget": "choicesjs",
                                "tableView": true,
                                "dataSrc": "json",
                                "defaultValue": {
                                  "value": "CA_BC",
                                  "label": "BRITISH COLUMBIA"
                                },
                                "data": {
                                  "json": [
                                    {
                                      "value": "CA_BC",
                                      "label": "BRITISH COLUMBIA"
                                    },
                                    {
                                      "value": "CA_AB",
                                      "label": "ALBERTA"
                                    },
                                    {
                                      "value": "US_WA",
                                      "label": "WASHINGTON"
                                    },
                                    {
                                      "value": "CA_MB",
                                      "label": "MANITOBA"
                                    },
                                    {
                                      "value": "CA_NB",
                                      "label": "NEW BRUNSWICK"
                                    },
                                    {
                                      "value": "CA_NF",
                                      "label": "NEWFOUNDLAND & LABRADOR"
                                    },
                                    {
                                      "value": "CA_NS",
                                      "label": "NOVA SCOTIA"
                                    },
                                    {
                                      "value": "CA_NT",
                                      "label": "NORTHWEST TERRITORIES"
                                    },
                                    {
                                      "value": "CA_NU",
                                      "label": "NUNAVUT"
                                    },
                                    {
                                      "value": "CA_ON",
                                      "label": "ONTARIO"
                                    },
                                    {
                                      "value": "CA_PE",
                                      "label": "PRINCE EDWARD ISLAND"
                                    },
                                    {
                                      "value": "CA_QC",
                                      "label": "QUEBEC"
                                    },
                                    {
                                      "value": "CA_SK",
                                      "label": "SASKATCHEWAN"
                                    },
                                    {
                                      "value": "CA_YT",
                                      "label": "YUKON"
                                    },
                                    {
                                      "value": "US_AK",
                                      "label": "ALASKA"
                                    },
                                    {
                                      "value": "US_AL",
                                      "label": "ALABAMA"
                                    },
                                    {
                                      "value": "US_AR",
                                      "label": "ARKANSAS"
                                    },
                                    {
                                      "value": "US_AS",
                                      "label": "AMERICAN SAMOA"
                                    },
                                    {
                                      "value": "US_AZ",
                                      "label": "ARIZONA"
                                    },
                                    {
                                      "value": "US_CA",
                                      "label": "CALIFORNIA"
                                    },
                                    {
                                      "value": "US_CO",
                                      "label": "COLORADO"
                                    },
                                    {
                                      "value": "US_CT",
                                      "label": "CONNECTICUT"
                                    },
                                    {
                                      "value": "US_DC",
                                      "label": "DISTRICT OF COLUMBIA"
                                    },
                                    {
                                      "value": "US_DE",
                                      "label": "DELAWARE"
                                    },
                                    {
                                      "value": "US_FL",
                                      "label": "FLORIDA"
                                    },
                                    {
                                      "value": "US_GA",
                                      "label": "GEORGIA"
                                    },
                                    {
                                      "value": "US_GU",
                                      "label": "GUAM"
                                    },
                                    {
                                      "value": "US_HI",
                                      "label": "HAWAII"
                                    },
                                    {
                                      "value": "US_IA",
                                      "label": "IOWA"
                                    },
                                    {
                                      "value": "US_ID",
                                      "label": "IDAHO"
                                    },
                                    {
                                      "value": "US_IL",
                                      "label": "ILLINOIS"
                                    },
                                    {
                                      "value": "US_IN",
                                      "label": "INDIANA"
                                    },
                                    {
                                      "value": "US_KS",
                                      "label": "KANSAS"
                                    },
                                    {
                                      "value": "US_KY",
                                      "label": "KENTUCKY"
                                    },
                                    {
                                      "value": "US_LA",
                                      "label": "LOUISIANA"
                                    },
                                    {
                                      "value": "US_MA",
                                      "label": "MASSACHUSETTS"
                                    },
                                    {
                                      "value": "US_MD",
                                      "label": "MARYLAND"
                                    },
                                    {
                                      "value": "US_ME",
                                      "label": "MAINE"
                                    },
                                    {
                                      "value": "US_MI",
                                      "label": "MICHIGAN"
                                    },
                                    {
                                      "value": "US_MN",
                                      "label": "MINNESOTA"
                                    },
                                    {
                                      "value": "US_MO",
                                      "label": "MISSOURI"
                                    },
                                    {
                                      "value": "US_MP",
                                      "label": "NORTHERN MARIANA ISLANDS"
                                    },
                                    {
                                      "value": "US_MS",
                                      "label": "MISSISSIPPI"
                                    },
                                    {
                                      "value": "US_MT",
                                      "label": "MONTANA"
                                    },
                                    {
                                      "value": "US_NC",
                                      "label": "NORTH CAROLINA"
                                    },
                                    {
                                      "value": "US_ND",
                                      "label": "NORTH DAKOTA"
                                    },
                                    {
                                      "value": "US_NE",
                                      "label": "NEBRASKA"
                                    },
                                    {
                                      "value": "US_NH",
                                      "label": "NEW HAMPSHIRE"
                                    },
                                    {
                                      "value": "US_NJ",
                                      "label": "NEW JERSEY"
                                    },
                                    {
                                      "value": "US_NM",
                                      "label": "NEW MEXICO"
                                    },
                                    {
                                      "value": "US_NV",
                                      "label": "NEVADA"
                                    },
                                    {
                                      "value": "US_NY",
                                      "label": "NEW YORK"
                                    },
                                    {
                                      "value": "US_OH",
                                      "label": "OHIO"
                                    },
                                    {
                                      "value": "US_OK",
                                      "label": "OKLAHOMA"
                                    },
                                    {
                                      "value": "US_OR",
                                      "label": "OREGON"
                                    },
                                    {
                                      "value": "US_PA",
                                      "label": "PENNSYLVANIA"
                                    },
                                    {
                                      "value": "US_PR",
                                      "label": "PUERTO RICO"
                                    },
                                    {
                                      "value": "US_RI",
                                      "label": "RHODE ISLAND"
                                    },
                                    {
                                      "value": "US_SC",
                                      "label": "SOUTH CAROLINA"
                                    },
                                    {
                                      "value": "US_SD",
                                      "label": "SOUTH DAKOTA"
                                    },
                                    {
                                      "value": "US_TN",
                                      "label": "TENNESSEE"
                                    },
                                    {
                                      "value": "US_TX",
                                      "label": "TEXAS"
                                    },
                                    {
                                      "value": "US_UM",
                                      "label": "U.S. MINOR OUTLYING ISLANDS"
                                    },
                                    {
                                      "value": "US_UT",
                                      "label": "UTAH"
                                    },
                                    {
                                      "value": "US_VA",
                                      "label": "VIRGINIA"
                                    },
                                    {
                                      "value": "US_VI",
                                      "label": "U.S. VIRGIN ISLANDS"
                                    },
                                    {
                                      "value": "US_VT",
                                      "label": "VERMONT"
                                    },
                                    {
                                      "value": "US_WI",
                                      "label": "WISCONSIN"
                                    },
                                    {
                                      "value": "US_WV",
                                      "label": "WEST VIRGINIA"
                                    },
                                    {
                                      "value": "US_WY",
                                      "label": "WYOMING"
                                    },
                                    {
                                      "value": "XX",
                                      "label": "--- more ---"
                                    }
                                  ],
                                  "values": [
                                    {
                                      "label": "",
                                      "value": ""
                                    }
                                  ],
                                  "url": "",
                                  "resource": "",
                                  "custom": ""
                                },
                                "dataType": "object",
                                "idPath": "",
                                "template": "<span>{{ item.label }}</span><span style=\"display: none;\">{{ item.value }}</span>",
                                "validateWhenHidden": false,
                                "key": "out_of_province_dl_jurisdiction",
                                "customConditional": "show = false\nif(!data?.TwelveHour){\n  show = true\n}\n\nif(show) {\n  \n  // Function to handle jurisdiction change\nconst handleJurisdictionChange = (selectedValue) => {\n  if (selectedValue === \"XX\") {\n    // Fetch data from another table for \"XX\"\n    return window.fetchStaticDataFromTable(\"jurisdictionCountry\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictionCountry data:\", error);\n      return [];\n    });\n  } else if (selectedValue === \"XZ\") {\n    // Fetch data for \"XZ\"\n    return window.fetchStaticDataFromTable(\"jurisdictions\").then((items) => {\n      return items.map(item => ({\n        value: item.objectCd,\n        label: item.objectDsc\n      }));\n    }).catch((error) => {\n      console.error(\"Error fetching jurisdictions data:\", error);\n      return [];\n    });\n  } else {\n    // Default data (if needed)\n    return Promise.resolve([]);\n  }\n};\n\nconst initialValues = instance?.component?.data?.json\nif (!initialValues.length) {\n  handleJurisdictionChange('XZ').then((newOptions) => {\n        if(newOptions.length){\n          instance.component.data.json = newOptions;\n          instance.redraw(); // Redraw the component to reflect the new options\n          instance.setValue({\"value\": 'CA_BC', \"label\": 'BRITISH COLUMBIA'})\n          // instance.setItems([], false);\n          // instance.setItems(newOptions,false);\n        }\n       \n      });\n}\n\n\nif (instance) {\n  if (!instance.hasEventHandler('change')) {\n    instance.on('change', (event) => {\n    if (event.changed && event.changed.component.key === instance.component.key) {\n      const selectedValue = event.changed.value.value;\n      console.log(\"Selected value changed to:\", selectedValue);\n      if(!['XZ','XX'].includes(selectedValue)) {\n        return\n      }\n\n      // Update options based on the selected value\n      handleJurisdictionChange(selectedValue).then((newOptions) => {\n        // instance.component.data.values = newOptions;\n        instance.setValue(''); \n        instance.setItems([], false);\n        instance.setItems(newOptions,false);\n        // 2. Make sure dropdown is open\n        instance.choices.showDropdown();\n      });\n    }\n  });\n    \n  }\n \n}\n  \n}",
                                "type": "select",
                                "input": true,
                                "id": "e7itvlm",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "onlyAvailableItems": false
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "authenticate": false,
                                "ignoreCache": false,
                                "clearOnRefresh": false,
                                "limit": 100,
                                "valueProperty": "",
                                "lazyLoad": true,
                                "filter": "",
                                "searchEnabled": true,
                                "searchDebounce": 0.3,
                                "searchField": "",
                                "minSearch": 0,
                                "readOnlyValue": false,
                                "selectFields": "",
                                "selectThreshold": 0.3,
                                "uniqueOptions": false,
                                "fuseOptions": {
                                  "include": "score",
                                  "threshold": 0.3
                                },
                                "indexeddb": {
                                  "filter": {}
                                },
                                "customOptions": {},
                                "useExactSearch": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Licence Expiry Date",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": null,
                                  "maxDate": null,
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": false,
                                "enableMaxDateInput": false,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "out_of_province_dl_expiry",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": null,
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": null
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "ep0hf7r"
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns",
                        "conditional": {
                          "show": true,
                          "when": "out_of_province_dl",
                          "eq": "YES"
                        },
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "edtqluc",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "eln1q",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Linkage Factors",
                    "collapsible": false,
                    "key": "linkageFactorsPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.VI){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Linkage Factors",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "HTML",
                        "attrs": [
                          {
                            "attr": "",
                            "value": ""
                          }
                        ],
                        "content": "The officer determined the following: (relationship between driver, owner, and the vehicle)",
                        "refreshOnChange": false,
                        "key": "html",
                        "type": "htmlelement",
                        "input": false,
                        "tableView": false,
                        "id": "efbhidw",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tag": "p"
                      },
                      {
                        "label": "Location of vehicle key(s) (explain below or in incident details)",
                        "key": "linkage_location_of_keys",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "e8dr8rk",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Where are the keys located?",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validateWhenHidden": false,
                        "key": "linkage_location_of_keys_explanation",
                        "conditional": {
                          "show": true,
                          "when": "linkage_location_of_keys",
                          "eq": true
                        },
                        "type": "textfield",
                        "input": true,
                        "id": "ec3lf8p",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "The driver is a principal operator",
                        "key": "linkage_driver_principal",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "es0g29p",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "The owner was in the vehicle",
                        "key": "linkage_owner_in_vehicle",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "ebe9pid",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "The owner was aware the driver was in possession of the vehicle (explain in incident details)",
                        "key": "linkage_owner_aware_possesion",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "edi4azn",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Vehicle subject to a transfer notice (explain in incident details)",
                        "key": "linkage_vehicle_transfer_notice",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "epgs9sa",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Other (explain in incident details)",
                        "key": "linkage_other",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "ea6irst",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      }
                    ],
                    "clearOnHide": true,
                    "id": "eznurjo",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Reasonable Grounds",
                    "collapsible": false,
                    "key": "reasonableGroundsPanel",
                    "customConditional": "try {\n  show = false;\n  if(data?.TwentyFourHour){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n}\n;",
                    "type": "panel",
                    "label": "Reasonable Grounds",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "html": "<p>The driver was operating a motor vehicle or had care and control of a motor vehicle for the purposes of MVA section 215(1) based on:</p>",
                        "label": "Description",
                        "refreshOnChange": false,
                        "key": "content",
                        "type": "content",
                        "input": false,
                        "tableView": false,
                        "content": "<span>The driver was operating a motor vehicle or had care and control of a motor vehicle for the purposes of MVA section 215(1) based on: <span class='required-asterisk'>*</span></span>",
                        "id": "eqpmp7e",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": []
                      },
                      {
                        "label": "Reasonable Grounds",
                        "customClass": "",
                        "modalEdit": false,
                        "defaultValue": null,
                        "persistent": false,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "customDefaultValue": "",
                        "calculateValue": "var condition = (data && data.TwentyFourHour) && (!data.witnessed_by_officer && !data.admission_by_driver && !data.independent_witness && !data.reasonable_ground_other);\nif (condition) {\n  return '';\n} else {\n  return 'valid';\n}",
                        "calculateServer": false,
                        "key": "reasonableGroundsRequired",
                        "tags": [],
                        "properties": {},
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "hidden",
                        "dataGridLabel": false,
                        "input": true,
                        "tableView": false,
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "errorLabel": "At least one option from the list of reasonable grounds",
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "labelPosition": "top",
                        "description": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "widget": {
                          "type": "input"
                        },
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "allowCalculateOverride": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "hidden",
                        "id": "eq5u10u"
                      },
                      {
                        "label": "Witnessed by Officer",
                        "tableView": false,
                        "defaultValue": false,
                        "validateWhenHidden": false,
                        "key": "witnessed_by_officer",
                        "type": "checkbox",
                        "input": true,
                        "id": "eukq467",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Admission by Driver",
                        "key": "admission_by_driver",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "e2pharx",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Independent witness",
                        "key": "independent_witness",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "id": "eo2hy8r",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Other",
                        "description": "",
                        "tooltip": "",
                        "shortcut": "",
                        "inputType": "checkbox",
                        "customClass": "",
                        "tabindex": "",
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "defaultValue": false,
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validate": {
                          "required": false,
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "reasonable_ground_other",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": "",
                          "json": ""
                        },
                        "customConditional": "",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "checkbox",
                        "name": "",
                        "value": "",
                        "dataGridLabel": true,
                        "input": true,
                        "placeholder": "",
                        "prefix": "",
                        "suffix": "",
                        "multiple": false,
                        "unique": false,
                        "refreshOn": "",
                        "labelPosition": "right",
                        "widget": null,
                        "validateOn": "change",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "id": "ewhtz3l"
                      },
                      {
                        "label": "Other Reason",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "validateWhenHidden": false,
                        "key": "reasonable_ground_other_reason",
                        "conditional": {
                          "show": true,
                          "when": "reasonable_ground_other",
                          "eq": true
                        },
                        "type": "textfield",
                        "input": true,
                        "id": "e8qhxdk",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "Was a prescribed test used to form reasonable grounds?",
                        "key": "prescribed_test_used",
                        "type": "radio",
                        "input": true,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Yes",
                            "value": "YES"
                          },
                          {
                            "label": "No",
                            "value": "NO"
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "id": "e24x6lk",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Columns",
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "conditional": {
                          "show": true,
                          "when": "prescribed_test_used",
                          "eq": "YES"
                        },
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Date of Test",
                                "labelPosition": "top",
                                "displayInTimezone": "utc",
                                "useLocaleSettings": false,
                                "allowInput": true,
                                "format": "yyyyMMdd",
                                "placeholder": "",
                                "description": "",
                                "tooltip": "",
                                "customClass": "",
                                "tabindex": "",
                                "hidden": false,
                                "hideLabel": false,
                                "autofocus": false,
                                "disabled": false,
                                "tableView": false,
                                "modalEdit": false,
                                "shortcutButtons": [
                                  {
                                    "label": "Today",
                                    "onClick": "date = new Date();"
                                  }
                                ],
                                "enableDate": true,
                                "datePicker": {
                                  "disable": "",
                                  "disableFunction": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "minDate": null,
                                  "maxDate": "moment().endOf(\"day\").format('YYYY-MM-DD')",
                                  "showWeeks": true,
                                  "startingDay": 0,
                                  "initDate": "",
                                  "minMode": "day",
                                  "maxMode": "year",
                                  "yearRows": 4,
                                  "yearColumns": 5
                                },
                                "enableTime": false,
                                "timePicker": {
                                  "showMeridian": true,
                                  "hourStep": 1,
                                  "minuteStep": 1,
                                  "readonlyInput": false,
                                  "mousewheel": true,
                                  "arrowkeys": true
                                },
                                "multiple": false,
                                "defaultValue": "",
                                "defaultDate": "",
                                "customOptions": {},
                                "persistent": true,
                                "protected": false,
                                "dbIndex": false,
                                "encrypted": false,
                                "redrawOn": "",
                                "clearOnHide": true,
                                "customDefaultValue": "",
                                "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                                "calculateServer": false,
                                "allowCalculateOverride": false,
                                "validateOn": "change",
                                "validate": {
                                  "required": true,
                                  "customMessage": "",
                                  "custom": "",
                                  "customPrivate": false,
                                  "json": "",
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false
                                },
                                "enableMinDateInput": false,
                                "enableMaxDateInput": true,
                                "unique": false,
                                "validateWhenHidden": false,
                                "errorLabel": "",
                                "errors": "",
                                "key": "reasonable_date_of_test",
                                "tags": [],
                                "properties": {},
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": "",
                                  "json": ""
                                },
                                "customConditional": "",
                                "logic": [],
                                "attributes": {},
                                "overlay": {
                                  "style": "",
                                  "page": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "type": "datetime",
                                "timezone": "",
                                "dataGridLabel": false,
                                "input": true,
                                "widget": {
                                  "type": "calendar",
                                  "displayInTimezone": "utc",
                                  "locale": "en",
                                  "useLocaleSettings": false,
                                  "allowInput": true,
                                  "mode": "single",
                                  "enableTime": false,
                                  "noCalendar": false,
                                  "format": "yyyyMMdd",
                                  "hourIncrement": 1,
                                  "minuteIncrement": 1,
                                  "time_24hr": false,
                                  "minDate": null,
                                  "disabledDates": "",
                                  "disableWeekends": false,
                                  "disableWeekdays": false,
                                  "disableFunction": "",
                                  "maxDate": "moment().endOf(\"day\").format('YYYY-MM-DD')"
                                },
                                "prefix": "",
                                "suffix": "",
                                "refreshOn": "",
                                "showCharCount": false,
                                "showWordCount": false,
                                "allowMultipleMasks": false,
                                "addons": [],
                                "datepickerMode": "day",
                                "id": "el9k53n"
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          },
                          {
                            "components": [
                              {
                                "label": "Time",
                                "description": "PACIFIC TIME in 24-hour clock",
                                "inputMask": "99:99",
                                "applyMaskOn": "change",
                                "autocomplete": "off",
                                "spellcheck": false,
                                "tableView": true,
                                "validate": {
                                  "required": true,
                                  "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                                  "custom": "const isAtLeastOneMinuteAfter = (input, data) => {\r\n  // Only proceed if all required data is present\r\n  if (data?.date_of_driving && data?.time_of_driving && data?.reasonable_date_of_test && input) {\r\n    // Create moment objects for driving time and test time\r\n    const dateOfDriving = moment(data.date_of_driving);\r\n    const timeOfDriving = moment(data.time_of_driving, \"HHmm\");\r\n    const dateOfTest = moment(data.reasonable_date_of_test);\r\n    const timeOfTest = moment(input, \"HHmm\");\r\n\r\n    // Combine date and time for both events\r\n    const timeOfDrivingCareOrControl = moment(dateOfDriving)\r\n      .add(timeOfDriving.hours(), \"hours\")\r\n      .add(timeOfDriving.minutes(), \"minutes\");\r\n\r\n    const testTime = moment(dateOfTest)\r\n      .add(timeOfTest.hours(), \"hours\")\r\n      .add(timeOfTest.minutes(), \"minutes\");\r\n\r\n    // Check if test time is after driving time\r\n    return timeOfDrivingCareOrControl.isBefore(testTime) ? \r\n      true : \r\n      \"Time of test must be at least 1 minute after time of driving - care or control\";\r\n  }\r\n  \r\n  // If all required fields aren't present, return true (validation passes)\r\n  return true;\r\n};\r\n\r\n// Combined validation that checks both conditions\r\nconst validateReleaseTime = (input, data) => {\r\n  // First check if it's not in the future\r\n  const isLessThanCurrent = moment(data?.reasonable_date_of_test)\r\n    .tz('America/Vancouver')\r\n    .set(\"hour\", input.slice(0, 2))\r\n    .set(\"minute\", input.slice(3)) <= moment().tz('America/Vancouver');\r\n  \r\n  const notInFutureResult = (input && data?.reasonable_date_of_test && isLessThanCurrent) ? \r\n    true : \r\n    \"Time of Test cannot be in the future\";\r\n  \r\n  // If the first validation passes, check the second condition\r\n  if (notInFutureResult === true) {\r\n    return isAtLeastOneMinuteAfter(input, data);\r\n  } else {\r\n    return notInFutureResult;\r\n  }\r\n};\r\n\r\n// Usage\r\nvalid = validateReleaseTime(input, data);\r\n\r\n",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": ""
                                },
                                "validateWhenHidden": false,
                                "key": "reasonable_time_of_test",
                                "type": "textfield",
                                "input": true,
                                "id": "eik7qh",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "disabled": false,
                                "autofocus": false,
                                "dbIndex": false,
                                "customDefaultValue": "",
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 6,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 6
                          }
                        ],
                        "clearOnHide": true,
                        "id": "exb071g",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      },
                      {
                        "label": "Why was a prescribed test not used? ",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Refused by driver",
                            "value": "refused",
                            "shortcut": ""
                          },
                          {
                            "label": "Opinion formed the driver was affected by alcohol and/or drugs",
                            "value": "opinion",
                            "shortcut": ""
                          }
                        ],
                        "validateWhenHidden": false,
                        "key": "reason_for_not_using_prescribed_test",
                        "conditional": {
                          "show": true,
                          "when": "prescribed_test_used",
                          "eq": "NO"
                        },
                        "type": "radio",
                        "input": true,
                        "id": "e72gicj",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "esvvc6",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Test Administered - ",
                    "collapsible": false,
                    "key": "testAdministeredPanel",
                    "customConditional": "try {\n  value = '';\n  const parentData = data\n  if(parentData?.TwentyFourHour && parentData?.type_of_prohibition === 'alcohol'){\n    value = 'Alcohol 215(2)'\n  } else if(parentData?.TwentyFourHour && parentData?.type_of_prohibition === 'drugs'){\n    value = 'Drugs 215(2.1)'\n  } else if(parentData?.TwelveHour && parentData?.type_of_prohibition === 'alcohol'){\n    value = 'Alcohol 90.3(2)'\n  } else if(parentData?.TwelveHour && parentData?.type_of_prohibition === 'drugs'){\n    value = 'Drugs 90.3(2.1)'\n  }\n  else {\n    value = ''\n  }\n  instance.component.title = 'Test Administered - ' + value\n  // Trigger a redraw to update the UI\n  instance.redraw();\n} catch (error) {\n  console.error(error);\n};\n\n// Hide and show\n\ntry {\n  show = false;\n  if(data?.TwentyFourHour && data?.prescribed_test_used == \"YES\"){\n    show = true\n  } else {\n    show = false;\n  }\n} catch (error) {\n  console.error(error);\n};",
                    "type": "panel",
                    "label": "Test Administered",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Which test was used?    ",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Alco-Sensor FST(ASD)",
                            "value": "alco-sensor",
                            "shortcut": ""
                          },
                          {
                            "label": "Approved Instrument",
                            "value": "instrument",
                            "shortcut": ""
                          },
                          {
                            "label": "Prescribed Physical Coordination Test",
                            "value": "PPCT",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "resonable_test_used_alcohol",
                        "customConditional": "try {\r\n  show = false;\r\n  if(data?.type_of_prohibition === 'alcohol'){\r\n    show = true\r\n  } else {\r\n    show = false;\r\n  }\r\n} catch (error) {\r\n  console.error(error);\r\n}",
                        "type": "radio",
                        "input": true,
                        "id": "et65jq",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "ASD Expiry Date",
                        "labelPosition": "top",
                        "displayInTimezone": "utc",
                        "useLocaleSettings": false,
                        "allowInput": true,
                        "format": "yyyyMMdd",
                        "placeholder": "",
                        "description": "",
                        "tooltip": "",
                        "customClass": "",
                        "tabindex": "",
                        "hidden": false,
                        "hideLabel": false,
                        "autofocus": false,
                        "disabled": false,
                        "tableView": false,
                        "modalEdit": false,
                        "shortcutButtons": [
                          {
                            "label": "Today",
                            "onClick": "date = new Date();"
                          }
                        ],
                        "enableDate": true,
                        "datePicker": {
                          "disable": "",
                          "disableFunction": "",
                          "disableWeekends": false,
                          "disableWeekdays": false,
                          "minDate": "moment().startOf(\"day\")",
                          "maxDate": "moment().add(28, \"days\").startOf(\"day\").toDate()",
                          "showWeeks": true,
                          "startingDay": 0,
                          "initDate": "",
                          "minMode": "day",
                          "maxMode": "year",
                          "yearRows": 4,
                          "yearColumns": 5
                        },
                        "enableTime": false,
                        "timePicker": {
                          "showMeridian": true,
                          "hourStep": 1,
                          "minuteStep": 1,
                          "readonlyInput": false,
                          "mousewheel": true,
                          "arrowkeys": true
                        },
                        "multiple": false,
                        "defaultValue": "",
                        "defaultDate": "",
                        "customOptions": {},
                        "persistent": true,
                        "protected": false,
                        "dbIndex": false,
                        "encrypted": false,
                        "redrawOn": "",
                        "clearOnHide": true,
                        "customDefaultValue": "",
                        "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                        "calculateServer": false,
                        "allowCalculateOverride": false,
                        "validateOn": "change",
                        "validate": {
                          "required": true,
                          "customMessage": "",
                          "custom": "",
                          "customPrivate": false,
                          "json": "",
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "enableMinDateInput": true,
                        "enableMaxDateInput": true,
                        "unique": false,
                        "validateWhenHidden": false,
                        "errorLabel": "",
                        "errors": "",
                        "key": "reasonable_asd_expiry_date",
                        "tags": [],
                        "properties": {},
                        "conditional": {
                          "show": true,
                          "when": "resonable_test_used_alcohol",
                          "eq": "alco-sensor",
                          "json": ""
                        },
                        "customConditional": "",
                        "logic": [],
                        "attributes": {},
                        "overlay": {
                          "style": "",
                          "page": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "type": "datetime",
                        "timezone": "",
                        "dataGridLabel": false,
                        "input": true,
                        "widget": {
                          "type": "calendar",
                          "displayInTimezone": "utc",
                          "locale": "en",
                          "useLocaleSettings": false,
                          "allowInput": true,
                          "mode": "single",
                          "enableTime": false,
                          "noCalendar": false,
                          "format": "yyyyMMdd",
                          "hourIncrement": 1,
                          "minuteIncrement": 1,
                          "time_24hr": false,
                          "minDate": "moment().startOf(\"day\")",
                          "disabledDates": "",
                          "disableWeekends": false,
                          "disableWeekdays": false,
                          "disableFunction": "",
                          "maxDate": "moment().add(28, \"days\").startOf(\"day\").toDate()"
                        },
                        "prefix": "",
                        "suffix": "",
                        "refreshOn": "",
                        "showCharCount": false,
                        "showWordCount": false,
                        "allowMultipleMasks": false,
                        "addons": [],
                        "datepickerMode": "day",
                        "id": "edv2dio"
                      },
                      {
                        "label": "Result",
                        "key": "reasonable_result_alcohol",
                        "type": "radio",
                        "input": true,
                        "tableView": false,
                        "conditional": {
                          "show": true,
                          "when": "resonable_test_used_alcohol",
                          "eq": "alco-sensor"
                        },
                        "values": [
                          {
                            "label": "51-59 mg%",
                            "value": "51-59"
                          },
                          {
                            "label": "Warn",
                            "value": "WARN"
                          },
                          {
                            "label": "Fail",
                            "value": "FAIL"
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "id": "es5pk",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "BAC Result(mg%)",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "mask": false,
                        "tableView": true,
                        "delimiter": false,
                        "requireDecimal": false,
                        "inputFormat": "plain",
                        "truncateMultipleSpaces": false,
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "min": "",
                          "max": "",
                          "step": "any",
                          "integer": ""
                        },
                        "validateWhenHidden": false,
                        "key": "reasonable_bac_result_mg",
                        "conditional": {
                          "show": true,
                          "when": "resonable_test_used_alcohol",
                          "eq": "instrument"
                        },
                        "type": "number",
                        "input": true,
                        "id": "eo4n26",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": []
                      },
                      {
                        "label": "Which test was used?",
                        "optionsLabelPosition": "right",
                        "inline": false,
                        "tableView": false,
                        "values": [
                          {
                            "label": "Approved Instrument",
                            "value": "approved-drug",
                            "shortcut": ""
                          },
                          {
                            "label": "Prescribed Physical Coordination Test",
                            "value": "PPCT",
                            "shortcut": ""
                          }
                        ],
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "onlyAvailableItems": false
                        },
                        "validateWhenHidden": false,
                        "key": "reasonable_test_used_drugs",
                        "customConditional": "try {\r\n  show = false;\r\n  if(data?.type_of_prohibition === 'drugs'){\r\n    show = true\r\n  } else {\r\n    show = false;\r\n  }\r\n} catch (error) {\r\n  console.error(error);\r\n}",
                        "type": "radio",
                        "input": true,
                        "id": "evrgcc",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "dataSrc": "values",
                        "authenticate": false,
                        "ignoreCache": false,
                        "template": "<span>{{ item.label }}</span>",
                        "inputType": "radio",
                        "data": {
                          "url": ""
                        },
                        "fieldSet": false
                      },
                      {
                        "label": "Approved Instrument Used",
                        "applyMaskOn": "change",
                        "autocomplete": "off",
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validate": {
                          "required": true,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "maxLength": "",
                          "pattern": ""
                        },
                        "validateWhenHidden": false,
                        "key": "resonable_approved_instrument_used",
                        "customConditional": "try {\r\n  show = false;\r\n  if(data?.reasonable_test_used_drugs=== 'approved-drug' ||  data?.resonable_test_used_alcohol === 'instrument'){\r\n    show = true\r\n  } else {\r\n    show = false;\r\n  }\r\n} catch (error) {\r\n  console.error(error);\r\n}",
                        "type": "textfield",
                        "input": true,
                        "id": "e9r2aw",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "plain",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false
                      },
                      {
                        "label": "Ability to drive affected by a drug?",
                        "key": "reasonable_can_drive_drug",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "conditional": {
                          "show": true,
                          "when": "reasonable_test_used_drugs",
                          "eq": "PPCT"
                        },
                        "id": "ecf527c",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      },
                      {
                        "label": "Ability to drive affected by alcohol? (only select if PPCT test used)",
                        "key": "reasonable_can_drive_alcohol",
                        "type": "checkbox",
                        "input": true,
                        "tableView": false,
                        "conditional": {
                          "show": true,
                          "when": "resonable_test_used_alcohol",
                          "eq": "PPCT"
                        },
                        "id": "ejnych",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "right",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "checkbox",
                        "value": "",
                        "name": ""
                      }
                    ],
                    "clearOnHide": true,
                    "id": "emhcxsd",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Incident Details",
                    "collapsible": false,
                    "key": "incidentDetails",
                    "customConditional": "try {\r\n  show = false;\r\n  if(data?.VI){\r\n    show = true\r\n  } else {\r\n    show = false;\r\n  }\r\n} catch (error) {\r\n  console.error(error);\r\n};",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "incident_details_extra_page",
                        "customDefaultValue": "value=false",
                        "key": "incident_details_extra_page",
                        "type": "hidden",
                        "input": true,
                        "tableView": false,
                        "id": "eoukly",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "inputType": "hidden"
                      },
                      {
                        "label": "Incident Details",
                        "applyMaskOn": "change",
                        "autoExpand": false,
                        "autocomplete": "off",
                        "hideLabel": true,
                        "showCharCount": true,
                        "spellcheck": false,
                        "tableView": true,
                        "case": "uppercase",
                        "validate": {
                          "maxLength": 3000,
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false,
                          "minLength": "",
                          "pattern": "",
                          "minWords": "",
                          "maxWords": ""
                        },
                        "validateWhenHidden": false,
                        "key": "incident_details",
                        "type": "textarea",
                        "rows": 8,
                        "input": true,
                        "id": "eu347sn",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": true,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "mask": false,
                        "inputType": "text",
                        "inputFormat": "html",
                        "inputMask": "",
                        "displayMask": "",
                        "truncateMultipleSpaces": false,
                        "wysiwyg": false,
                        "editor": "",
                        "fixedSize": true
                      }
                    ],
                    "clearOnHide": true,
                    "id": "e06u53g",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "title": "Officer",
                    "collapsible": false,
                    "key": "officer",
                    "customConditional": "try {\r\n  show = false;\r\n  if(data?.VI || data?.TwelveHour || data?.TwentyFourHour){\r\n    show = true\r\n  } else {\r\n    show = false;\r\n  }\r\n} catch (error) {\r\n  console.error(error);\r\n};",
                    "type": "panel",
                    "label": "Panel",
                    "input": false,
                    "tableView": false,
                    "components": [
                      {
                        "label": "Columns",
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Last Name of Peace Officer Serving Prohibition Notice  ",
                                "applyMaskOn": "change",
                                "disabled": true,
                                "tableView": true,
                                "customDefaultValue": "console.log(\"Fetching User...\");\r\n\r\nvalues = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(users));\r\n  if(users.length) {\r\n    instance.setValue(users[0].last_name)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                "validate": {
                                  "required": true,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "validateWhenHidden": false,
                                "key": "officer-lastname",
                                "type": "textfield",
                                "input": true,
                                "spellcheck": false,
                                "id": "e04wsh",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "autofocus": false,
                                "dbIndex": false,
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "PRIME ID",
                                "applyMaskOn": "change",
                                "disabled": true,
                                "tableView": true,
                                "customDefaultValue": "console.log(\"Fetching User...\");\r\n\r\nvalues = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(users));\r\n  if(users.length) {\r\n    instance.setValue(users[0].badge_number)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                "validateWhenHidden": false,
                                "key": "officer-prime-id",
                                "type": "textfield",
                                "input": true,
                                "spellcheck": false,
                                "id": "exfjlzr",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "autofocus": false,
                                "dbIndex": false,
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "width": 4,
                            "offset": 0,
                            "push": 0,
                            "pull": 0,
                            "size": "md",
                            "currentWidth": 4
                          },
                          {
                            "components": [
                              {
                                "label": "Agency or RCMP Detachment",
                                "applyMaskOn": "change",
                                "disabled": true,
                                "tableView": true,
                                "customDefaultValue": "console.log(\"Fetching User...\");\r\n\r\nvalues = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  console.log(\"Actual Data:\", JSON.stringify(users));\r\n  if(users.length) {\r\n    instance.setValue(users[0].agency)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                                "validateWhenHidden": false,
                                "key": "officer-agency",
                                "type": "textfield",
                                "input": true,
                                "spellcheck": false,
                                "id": "ecov7gt",
                                "placeholder": "",
                                "prefix": "",
                                "customClass": "",
                                "suffix": "",
                                "multiple": false,
                                "defaultValue": null,
                                "protected": false,
                                "unique": false,
                                "persistent": true,
                                "hidden": false,
                                "clearOnHide": true,
                                "refreshOn": "",
                                "redrawOn": "",
                                "modalEdit": false,
                                "dataGridLabel": false,
                                "labelPosition": "top",
                                "description": "",
                                "errorLabel": "",
                                "tooltip": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "autofocus": false,
                                "dbIndex": false,
                                "calculateValue": "",
                                "calculateServer": false,
                                "widget": {
                                  "type": "input"
                                },
                                "attributes": {},
                                "validateOn": "change",
                                "validate": {
                                  "required": false,
                                  "custom": "",
                                  "customPrivate": false,
                                  "strictDateValidation": false,
                                  "multiple": false,
                                  "unique": false,
                                  "minLength": "",
                                  "maxLength": "",
                                  "pattern": ""
                                },
                                "conditional": {
                                  "show": null,
                                  "when": null,
                                  "eq": ""
                                },
                                "overlay": {
                                  "style": "",
                                  "left": "",
                                  "top": "",
                                  "width": "",
                                  "height": ""
                                },
                                "allowCalculateOverride": false,
                                "encrypted": false,
                                "showCharCount": false,
                                "showWordCount": false,
                                "properties": {},
                                "allowMultipleMasks": false,
                                "addons": [],
                                "mask": false,
                                "inputType": "text",
                                "inputFormat": "plain",
                                "inputMask": "",
                                "displayMask": "",
                                "truncateMultipleSpaces": false
                              }
                            ],
                            "size": "md",
                            "width": 4,
                            "currentWidth": 4
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false,
                        "tableView": false,
                        "clearOnHide": true,
                        "id": "ejbsboh",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": false,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": null,
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "tree": false,
                        "lazyLoad": false,
                        "autoAdjust": false
                      }
                    ],
                    "clearOnHide": true,
                    "id": "efu8ipi",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "theme": "default",
                    "breadcrumb": "default"
                  },
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Next",
                            "action": "custom",
                            "showValidations": false,
                            "tableView": false,
                            "key": "next",
                            "type": "button",
                            "custom": "function showErrorPopup(errorMessage) {\n  // Create content div\n  const content = instance.ce('div');\n  content.innerHTML = `\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\n          <i class=\"fas fa-exclamation-circle text-danger\" style=\"margin-right: 8px;\"></i>\n          Error\n        </h5>\n      </div>\n      \n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\n          ${errorMessage}\n        </p>\n      </div>\n      \n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\n        <button class=\"btn btn-primary\" ref=\"closeButton\" style=\"min-width: 100px;\">\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Close\n        </button>\n      </div>\n    </div>\n  `;\n\n  // Create the modal\n  const modal = instance.createModal(content);\n  \n  // Add event listener to close button\n  const closeButton = content.querySelector('[ref=\"closeButton\"]');\n  if (closeButton) {\n    closeButton.addEventListener('click', () => {\n      modal.close();\n    });\n  }\n}\n\nconsole.log(\"Validating officer form page\")\nlet formIdsPresent = true;\nif(data?.twenty_four_hour_number === '' || data?.twenty_four_hour_number === \"\" || data?.VI_number === \"\"){\n  console.log(\"Form ids not present\")\n   showErrorPopup(\"Error: You dont have enough form ids to proceed. Please contact admin!!\");\n   formIdsPresent = false\n}\nif(formIdsPresent && data.formsSelected){\n  \n  form.currentPage.getComponents().forEach(component => {\n  component.setPristine(false);\n  component.checkValidity(form.data, true);\n});\n\n  var isValid = form.currentPage.checkValidity(form.submission.data, true);\n  if(isValid){\n    instance.root.getComponent('currentPage').setValue(form.page + 1)\n    form.nextPage()\n  } else {\n    // \n     const errorsContainer = document.getElementById('errorsContainer');\n     errorsContainer.style.display = 'block';\n     // Scroll to the errors container\n  errorsContainer.scrollIntoView({\n    behavior: 'smooth',\n    block: 'start'\n  });\n  }\n  \n}\n\n",
                            "input": true,
                            "id": "ew70ti",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": true,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "size": "md",
                            "leftIcon": "",
                            "rightIcon": "",
                            "block": false,
                            "disableOnInvalid": false,
                            "theme": "primary"
                          }
                        ],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "size": "md",
                        "width": 6,
                        "currentWidth": 6
                      }
                    ],
                    "key": "columns14",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "clearOnHide": true,
                    "id": "el47qp",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "autoAdjust": false
                  }
                ],
                "id": "enz754t",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false
              },
              {
                "label": "Submission Id",
                "customDefaultValue": "if (typeof window.formRenderedSuccess === 'undefined') {\r\n  window.formRenderedSuccess = true;\r\n  \r\n  // Check if instance exists before accessing its properties\r\n  if (instance && instance.root) {\r\n    Promise.all([\r\n      instance.root.formReady || Promise.resolve(),\r\n      instance.root.ready || Promise.resolve()\r\n    ]).then(() => {\r\n      console.log(\"Form ready and in submission\", (instance.options && instance.options.readOnly ? true : false));\r\n    }).catch(error => {\r\n      console.error(\"Error during form initialization:\", error);\r\n    });\r\n  } else {\r\n    console.warn(\"Instance or instance.root is not defined\");\r\n  }\r\n}",
                "key": "applicationId",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "eijgmwr",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Submission Status",
                "customDefaultValue": null,
                "key": "applicationStatus",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "evesulh",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Current User",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') && JSON.parse(localStorage.getItem('UserDetails'));  value = localdata?.preferred_username || '';",
                "key": "currentUser",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "eiqb2x",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Submitter Email",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') && JSON.parse(localStorage.getItem('UserDetails')); value= localdata?.email || '';",
                "key": "submitterEmail",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "e3dhdj8",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Submitter First Name",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') &&  JSON.parse(localStorage.getItem('UserDetails')); value= localdata?.given_name || '';",
                "key": "submitterFirstName",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "ea61mx",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Submitter Last Name",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') &&  JSON.parse(localStorage.getItem('UserDetails')); value= localdata?.family_name || '';",
                "key": "submitterLastName",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "e0bheqs",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Current User Roles",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') && (JSON.parse(localStorage.getItem('UserDetails'))) || []; value = localdata?.groups?.map(group => group.replace(new RegExp('^/+|/+$', 'g'), '')) || [];",
                "key": "currentUserRole",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "ej7jzfd",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              },
              {
                "label": "Submitted User Guid",
                "customClass": "",
                "modalEdit": false,
                "defaultValue": null,
                "persistent": true,
                "protected": false,
                "dbIndex": false,
                "encrypted": false,
                "redrawOn": "",
                "customDefaultValue": "const localdata = localStorage.getItem('UserDetails') && JSON.parse(localStorage.getItem('UserDetails'));\r\nvalue = localdata?.sub || '';\r\n\r\nif (localdata) {\r\n  if (localdata.identity_provider === \"idir\") {\r\n    value = localdata.idir_user_guid;\r\n  } else if (localdata.identity_provider === \"bceid\") {\r\n    value = localdata.bceid_user_guid;\r\n  }\r\n}",
                "calculateValue": "",
                "calculateServer": false,
                "key": "submitted_user_guid",
                "tags": [],
                "properties": {},
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "hidden",
                "dataGridLabel": false,
                "input": true,
                "tableView": false,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "unique": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "widget": {
                  "type": "input"
                },
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "allowCalculateOverride": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden",
                "id": "ehljf1a"
              },
              {
                "label": "currentPage",
                "defaultValue": "0",
                "key": "currentPage",
                "type": "hidden",
                "input": true,
                "tableView": false,
                "id": "e0ya8g",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "protected": false,
                "unique": false,
                "persistent": true,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": {
                  "type": "input"
                },
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "inputType": "hidden"
              }
            ],
            "input": false,
            "tableView": false,
            "clearOnHide": true,
            "placeholder": "",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": null,
            "protected": false,
            "unique": false,
            "persistent": false,
            "refreshOn": "",
            "redrawOn": "",
            "labelPosition": "top",
            "description": "",
            "errorLabel": "",
            "autofocus": false,
            "dbIndex": false,
            "customDefaultValue": "",
            "calculateValue": "",
            "calculateServer": false,
            "widget": null,
            "validateOn": "change",
            "validate": {
              "required": false,
              "custom": "",
              "customPrivate": false,
              "strictDateValidation": false,
              "multiple": false,
              "unique": false
            },
            "allowCalculateOverride": false,
            "encrypted": false,
            "showCharCount": false,
            "showWordCount": false,
            "allowMultipleMasks": false,
            "addons": [],
            "tree": false,
            "lazyLoad": false,
            "id": "ed8uhmb"
          },
          {
            "title": "Driver copy preview/print",
            "theme": "success",
            "breadcrumb": "none",
            "breadcrumbClickable": true,
            "buttonSettings": {
              "previous": false,
              "cancel": false,
              "next": false
            },
            "navigateOnEnter": false,
            "saveOnEnter": false,
            "scrollToTop": false,
            "tooltip": "",
            "customClass": "",
            "collapsible": false,
            "hidden": false,
            "hideLabel": false,
            "disabled": false,
            "modalEdit": false,
            "key": "driverCopyPage",
            "tags": [],
            "properties": {},
            "conditional": {
              "show": null,
              "when": null,
              "eq": "",
              "json": ""
            },
            "customConditional": "",
            "nextPage": "",
            "logic": [],
            "attributes": {},
            "overlay": {
              "style": "",
              "page": "",
              "left": "",
              "top": "",
              "width": "",
              "height": ""
            },
            "type": "panel",
            "label": "Page 2",
            "tabindex": "",
            "dataGridLabel": false,
            "input": false,
            "tableView": false,
            "components": [
              {
                "label": "Well",
                "key": "well",
                "type": "well",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Return to Main Menu",
                            "action": "custom",
                            "showValidations": false,
                            "leftIcon": "fa fa-arrow-left",
                            "tableView": false,
                            "key": "returnToMainMenu2",
                            "type": "button",
                            "input": true,
                            "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\nshowExitFormModal();\r\n\r\n\r\n\r\n",
                            "id": "ex5fwqf",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": true,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "size": "md",
                            "rightIcon": "",
                            "block": false,
                            "disableOnInvalid": false,
                            "theme": "primary"
                          }
                        ],
                        "width": 2,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 2
                      },
                      {
                        "components": [],
                        "width": 8,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 8
                      },
                      {
                        "components": [
                          {
                            "label": "Spoil Form",
                            "action": "custom",
                            "showValidations": false,
                            "theme": "danger",
                            "size": "md",
                            "block": false,
                            "leftIcon": "fa fa-triangle-exclamation",
                            "rightIcon": "",
                            "shortcut": "",
                            "description": "",
                            "tooltip": "",
                            "customClass": "",
                            "tabindex": "",
                            "disableOnInvalid": false,
                            "hidden": false,
                            "autofocus": false,
                            "disabled": false,
                            "tableView": false,
                            "modalEdit": false,
                            "key": "spoilFormPrintPreview",
                            "tags": [],
                            "properties": {},
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": "",
                              "json": ""
                            },
                            "customConditional": "show = (data?.lockFormInput === \"YES\")",
                            "logic": [],
                            "attributes": {},
                            "overlay": {
                              "style": "",
                              "page": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "type": "button",
                            "custom": "// Function to show a confirmation modal\r\nfunction showSpoilConfirmationModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Confirm Spoil Form\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n          Are you sure you want to mark this form as spoiled? This action cannot be undone.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Confirm\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed spoil form');\r\n    modal.close();\r\n    \r\n   // Execute the event listner added in the first page\r\n   instance.emit('PatchForm', { action: 'markSpoiled' });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled spoil form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\n\r\nshowSpoilConfirmationModal();",
                            "hideLabel": false,
                            "input": true,
                            "clearOnHide": true,
                            "placeholder": "",
                            "prefix": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "refreshOn": "",
                            "redrawOn": "",
                            "dataGridLabel": true,
                            "labelPosition": "top",
                            "errorLabel": "",
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": {
                              "type": "input"
                            },
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "allowMultipleMasks": false,
                            "addons": [],
                            "id": "egh6gb8"
                          }
                        ],
                        "size": "md",
                        "width": 2,
                        "currentWidth": 2
                      }
                    ],
                    "autoAdjust": true,
                    "key": "columns26",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "id": "ewmzsmf",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false
                  },
                  {
                    "label": "RSBC Print Preview Driver Copy   ",
                    "labelPosition": "top",
                    "stage": "stageOne",
                    "rsbcImageSettings": "",
                    "placeholder": "",
                    "description": "",
                    "tooltip": "",
                    "customClass": "",
                    "tabindex": "",
                    "hidden": false,
                    "hideLabel": true,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "multiple": false,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "unique": false,
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "rsbcPrintPreviewDriverCopy",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = (data?.formsSelected && (data?.twenty_four_hour_number || data?.twelve_hour_number || data?.vi_number))\r\n\r\nif (instance) {\r\n  // Check if handlers are already attached before adding them\r\n  if (!instance.hasEventHandler('printResponse')) {\r\n    // Flag to track if we're currently processing an event\r\n    instance.isProcessing = false;\r\n    \r\n    // Event handler for printResponse\r\n    instance.on('printResponse', (event) => {\r\n      // Skip if already processing or alrerady Printed\r\n      if (instance.isProcessing || data?.printResponse === \"YES\") return;\r\n      \r\n      try {\r\n        instance.isProcessing = true;\r\n        console.log(\"print response\", event);\r\n        \r\n        if (event?.data !== undefined) {\r\n          if(event.data === \"YES\"){\r\n             printResponse = instance.root.getComponent(\"printResponse\")\r\n             printResponse.setValue(event.data)\r\n             instance.root.getComponent('currentPage').setValue(instance.root.page + 1)\r\n             console.log(\"Navigating to Driver copy Print preview page based on event Print response\")\r\n             instance.root.setPage(instance.root.page + 1)\r\n          }\r\n          instance.isProcessing = false;\r\n        } else {\r\n          // Reset processing flag if no data\r\n          setTimeout(() => { instance.isProcessing = false; }, 100);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error in printResponse handler:\", error);\r\n        setTimeout(() => { instance.isProcessing = false; }, 100);\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Check for lockFormInput handler as well\r\n  if (!instance.hasEventHandler('lockFormInput')) {\r\n    // Event handler for lockFormInput\r\n    instance.on('lockFormInput', (event) => {\r\n      if (event?.data !== undefined && event.data === \"YES\") {\r\n        lockFormInput = instance.root.getComponent(\"lockFormInput\")\r\n        lockFormInput.setValue(event.data)\r\n        // Invoking the event listners on the firstpage\r\n        instance.emit('DeletePrintedIds', {});\r\n        instance.emit('UnLeaseIds', { type: 'UNLEASE_UNUSED' });\r\n        instance.emit('PatchForm', { action: 'markPrinted' });\r\n      }\r\n    });\r\n  }\r\n} else {\r\n  console.warn(\"Instance is undefined or null\");\r\n}",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "rsbcimage",
                    "dataGridLabel": false,
                    "input": true,
                    "prefix": "",
                    "suffix": "",
                    "refreshOn": "",
                    "widget": null,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "id": "ej5yxzr",
                    "defaultValue": null
                  },
                  {
                    "label": "Print Response",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": "NO",
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "value = data?.printResponse === \"YES\" ? \"YES\" : \"NO\"",
                    "calculateServer": false,
                    "key": "printResponse",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "e129stf"
                  },
                  {
                    "label": "Printed TimeStamp",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "printed_time_stamp",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "clearOnHide": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "ef8nzcv"
                  },
                  {
                    "label": "Spoliled TimeStamp",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                    "calculateServer": false,
                    "key": "spoiled_time_stamp",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "clearOnHide": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "ejaz6dh"
                  },
                  {
                    "label": "Lock Form Input",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": "no",
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "lockFormInput",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "eg13mauh"
                  },
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              },
                              {
                                "components": [
                                  {
                                    "label": "Previous",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": false,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "previousOnDriverPage",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": "",
                                      "when": "",
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [
                                      {
                                        "name": "Hide if printResponse or LockInput is Yes",
                                        "trigger": {
                                          "type": "advanced",
                                          "showAdvanced": true,
                                          "whenAndOr": "||",
                                          "advanced": [
                                            {
                                              "name": "Pritn Response is Yes",
                                              "whenAdvanced": "printResponse",
                                              "operatorAdvanced": "isEqual",
                                              "eqAdvanced": "YES"
                                            },
                                            {
                                              "name": "LockFormInput is yes",
                                              "whenAdvanced": "lockFormInput",
                                              "operatorAdvanced": "isEqual",
                                              "eqAdvanced": "YES"
                                            }
                                          ]
                                        },
                                        "actions": [
                                          {
                                            "name": "Hide previous button",
                                            "type": "property",
                                            "property": {
                                              "label": "Hidden",
                                              "value": "hidden",
                                              "type": "boolean"
                                            },
                                            "state": true
                                          }
                                        ]
                                      }
                                    ],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "form.setPage(form.page - 1)",
                                    "hideLabel": false,
                                    "input": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "e1ll4ff"
                                  },
                                  {
                                    "label": "Next",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": false,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "nextOnDriverCopy",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": true,
                                      "when": "printResponse",
                                      "eq": "YES",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "console.log(\"Validating driverCopyPage\")\nif(data.formsSelected){\n  driverCopyPage = instance.root.getComponent(\"driverCopyPage\")\n  if(driverCopyPage.isValid() && data?.printResponse === \"YES\"){\n    instance.root.getComponent('currentPage').setValue(form.page + 1)\n    form.setPage(form.page + 1)\n    \n  }\n}",
                                    "hideLabel": false,
                                    "input": true,
                                    "clearOnHide": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "ep4wqvb"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              }
                            ],
                            "key": "columns25",
                            "type": "columns",
                            "input": false,
                            "tableView": false,
                            "id": "eyxtipw",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false,
                            "autoAdjust": false
                          }
                        ],
                        "width": 4,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 4
                      },
                      {
                        "components": [],
                        "width": 2,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 2
                      },
                      {
                        "components": [
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [],
                                "width": 4,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 4
                              },
                              {
                                "components": [],
                                "width": 4,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 4
                              },
                              {
                                "components": [
                                  {
                                    "label": "Print",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": false,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "print",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "hideLabel": false,
                                    "input": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "e0uzide",
                                    "custom": " // Access instance from the outer scope\r\n      const rsbcInstance = instance.root.getComponent(\"rsbcPrintPreviewDriverCopy\");\r\n      if (rsbcInstance) {\r\n        rsbcInstance.handlePrint();\r\n      } else {\r\n        console.error(\"Could not find rsbcPrintPreviewDriverCopy component\");\r\n      }"
                                  }
                                ],
                                "size": "md",
                                "width": 4,
                                "currentWidth": 4
                              }
                            ],
                            "autoAdjust": false,
                            "customClass": "",
                            "hidden": false,
                            "modalEdit": false,
                            "key": "columns9",
                            "tags": [],
                            "properties": {},
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": "",
                              "json": ""
                            },
                            "customConditional": "",
                            "logic": [],
                            "attributes": {},
                            "overlay": {
                              "style": "",
                              "page": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "type": "columns",
                            "dataGridLabel": false,
                            "input": false,
                            "placeholder": "",
                            "prefix": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "tableView": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false,
                            "id": "erzfbof"
                          }
                        ],
                        "size": "md",
                        "width": 6,
                        "currentWidth": 6
                      }
                    ],
                    "key": "columns17",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "id": "elbvcm8",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "autoAdjust": false
                  }
                ],
                "id": "e8feuml",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false
              }
            ],
            "placeholder": "",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": null,
            "protected": false,
            "unique": false,
            "persistent": false,
            "clearOnHide": true,
            "refreshOn": "",
            "redrawOn": "",
            "labelPosition": "top",
            "description": "",
            "errorLabel": "",
            "autofocus": false,
            "dbIndex": false,
            "customDefaultValue": "",
            "calculateValue": "",
            "calculateServer": false,
            "widget": null,
            "validateOn": "change",
            "validate": {
              "required": false,
              "custom": "",
              "customPrivate": false,
              "strictDateValidation": false,
              "multiple": false,
              "unique": false
            },
            "allowCalculateOverride": false,
            "encrypted": false,
            "showCharCount": false,
            "showWordCount": false,
            "allowMultipleMasks": false,
            "addons": [],
            "tree": false,
            "lazyLoad": false,
            "id": "e7m6pum"
          },
          {
            "title": "ecos Confirmation",
            "theme": "info",
            "breadcrumb": "none",
            "breadcrumbClickable": true,
            "buttonSettings": {
              "previous": false,
              "cancel": false,
              "next": false
            },
            "navigateOnEnter": false,
            "saveOnEnter": false,
            "scrollToTop": false,
            "tooltip": "",
            "customClass": "",
            "collapsible": false,
            "hidden": false,
            "hideLabel": false,
            "disabled": false,
            "modalEdit": false,
            "key": "ecosPage",
            "tags": [],
            "properties": {},
            "conditional": {
              "show": null,
              "when": null,
              "eq": "",
              "json": ""
            },
            "customConditional": "show = true\nif(!(data?.TwentyFourHour || data?.TwelveHour)){\n  show = false\n};",
            "nextPage": "",
            "logic": [],
            "attributes": {},
            "overlay": {
              "style": "",
              "page": "",
              "left": "",
              "top": "",
              "width": "",
              "height": ""
            },
            "type": "panel",
            "label": "Page 3",
            "tabindex": "",
            "dataGridLabel": false,
            "input": false,
            "tableView": false,
            "components": [
              {
                "label": "Columns",
                "columns": [
                  {
                    "components": [
                      {
                        "label": "Return to Main Menu",
                        "action": "custom",
                        "showValidations": false,
                        "leftIcon": "fa fa-arrow-left",
                        "tableView": false,
                        "key": "returnToMainMenu3",
                        "type": "button",
                        "input": true,
                        "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\nshowExitFormModal();\r\n\r\n\r\n\r\n",
                        "id": "eg5zozd",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false,
                        "theme": "primary"
                      }
                    ],
                    "width": 2,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 2
                  },
                  {
                    "components": [],
                    "width": 8,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 8
                  },
                  {
                    "components": [
                      {
                        "label": "Spoil Form",
                        "action": "custom",
                        "showValidations": false,
                        "theme": "danger",
                        "leftIcon": "fa fa-triangle-exclamation",
                        "tableView": false,
                        "key": "spoilForm",
                        "type": "button",
                        "custom": "// Function to show a confirmation modal\r\nfunction showSpoilConfirmationModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Confirm Spoil Form\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n          Are you sure you want to mark this form as spoiled? This action cannot be undone.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Confirm\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed spoil form');\r\n    modal.close();\r\n    \r\n   // Execute the event listner added in the first page\r\n   instance.emit('PatchForm', { action: 'markSpoiled' });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled spoil form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\n\r\nshowSpoilConfirmationModal();",
                        "input": true,
                        "id": "ed2im3",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false
                      }
                    ],
                    "size": "md",
                    "width": 2,
                    "currentWidth": 2
                  }
                ],
                "autoAdjust": true,
                "key": "columns26",
                "type": "columns",
                "input": false,
                "tableView": false,
                "clearOnHide": true,
                "id": "e2wdwk",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false
              },
              {
                "title": "Confirmation Step",
                "collapsible": false,
                "key": "confirmationStepPanel",
                "type": "panel",
                "label": "Confirmation Step",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "Did you serve the {{formNamesString}} document{{formNames.length > 1 ? 's' : ''}} to {{driverLastName}}, {{driverGivenName}}?",
                    "optionsLabelPosition": "right",
                    "inline": false,
                    "tableView": false,
                    "values": [
                      {
                        "label": "Yes",
                        "value": "YES",
                        "shortcut": ""
                      },
                      {
                        "label": "No",
                        "value": "NO",
                        "shortcut": ""
                      }
                    ],
                    "validate": {
                      "required": true,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "onlyAvailableItems": false
                    },
                    "validateWhenHidden": false,
                    "key": "document_served",
                    "customConditional": "show = true;\nconst generateLabel = () => {\n  let formNames = [];\n  if (data?.TwentyFourHour) formNames.push('24-hour Driving Prohibition');\n  if (data?.TwelveHour) formNames.push('12-hour Driving Suspension');\n  let formNamesString = formNames.join(' and ');\n  return `Did you serve the ${formNamesString} document${formNames.length > 1 ? 's' : ''} to ${data?.driver_last_name}, ${data?.driver_given_name}?`;\n};\nif (data?.TwentyFourHour || data?.TwelveHour) {\n  component.label = generateLabel();\n  instance.redraw();\n}",
                    "type": "radio",
                    "input": true,
                    "id": "en82lx",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "dataSrc": "values",
                    "authenticate": false,
                    "ignoreCache": false,
                    "template": "<span>{{ item.label }}</span>",
                    "inputType": "radio",
                    "data": {
                      "url": ""
                    },
                    "fieldSet": false
                  },
                  {
                    "label": "I, the peace officer identified below, certify that on {{formSubmittedDate}}, I personally served a notice of {{twelveHourForm ? 'suspension number' : 'prohibition number'}} {{formNumbers}} on {{driverLastName}}, {{driverGivenName}}.",
                    "description": "",
                    "tooltip": "",
                    "shortcut": "",
                    "inputType": "checkbox",
                    "customClass": "",
                    "tabindex": "",
                    "hidden": false,
                    "hideLabel": false,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "defaultValue": false,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "document_served",
                    "clearOnHide": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validate": {
                      "required": true,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "confirmation_of_service",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = data?.document_served === 'YES';\nconst generateCertifyNotice = (data) => {\n  const currentDate = new Date();\n  const pacificDate = new Date(currentDate.toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));\n  const year = pacificDate.getFullYear();\n  const month = String(pacificDate.getMonth() + 1).padStart(2, '0');\n  const day = String(pacificDate.getDate()).padStart(2, '0');\n  const formSubmittedDate = `${year}-${month}-${day}`;\n  let formNumbers = [];\n  if (data?.TwentyFourHour) formNumbers.push(data.twenty_four_hour_number);\n  if (data?.TwelveHour) formNumbers.push(data.twelve_hour_number);\n  return `I, the peace officer identified below, certify that on ${formSubmittedDate}, I personally served a notice of ${data?.TwelveHour ? 'suspension number' : 'prohibition number'} ${formNumbers.join(' and ')} on ${data?.driver_last_name}, ${data?.driver_given_name}.`;\n};\nif (data?.TwentyFourHour || data?.TwelveHour) {\n  component.label = generateCertifyNotice(data);\n  instance.redraw();\n}",
                    "logic": [
                      {
                        "name": "Reset the value to false if document serve set to no",
                        "trigger": {
                          "type": "advanced",
                          "showAdvanced": true,
                          "whenAndOr": "||",
                          "advanced": [
                            {
                              "name": "When document served set to no",
                              "whenAdvanced": "document_served",
                              "operatorAdvanced": "isEqual",
                              "eqAdvanced": "NO"
                            }
                          ]
                        },
                        "actions": [
                          {
                            "name": "Reset value to false",
                            "type": "value",
                            "value": "value = false"
                          }
                        ]
                      }
                    ],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "checkbox",
                    "name": "",
                    "value": "",
                    "dataGridLabel": true,
                    "input": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "refreshOn": "",
                    "labelPosition": "right",
                    "widget": null,
                    "validateOn": "change",
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "id": "e20vo5"
                  },
                  {
                    "label": "confirmation_of_service_date",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "function utcDate(datetime) {\r\n  // Convert the input datetime to UTC timezone\r\n  // Format as \"2025-04-15T20:22:29\"\r\n  return moment(datetime).utc().format(\"YYYY-MM-DDTHH:mm:ss\");\r\n}\r\nvalue = utcDate(new Date());",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "confirmation_of_service_date",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "e3avjr"
                  },
                  {
                    "label": "confirmation_of_service_completed",
                    "defaultValue": "NO",
                    "key": "confirmation_of_service_completed",
                    "type": "hidden",
                    "input": true,
                    "tableView": false,
                    "id": "esd98kqb",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden"
                  },
                  {
                    "label": "PEACE OFFICER'S NAME   ",
                    "applyMaskOn": "change",
                    "autocomplete": "off",
                    "spellcheck": false,
                    "disabled": true,
                    "tableView": true,
                    "case": "uppercase",
                    "customDefaultValue": "values = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  if(users.length) {\r\n    instance.setValue(users[0].last_name + \", \" + users[0].first_name)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                    "validateWhenHidden": false,
                    "key": "peace_officer_name",
                    "conditional": {
                      "show": true,
                      "when": "confirmation_of_service",
                      "eq": true
                    },
                    "type": "textfield",
                    "input": true,
                    "id": "ewxmxdn",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "autofocus": false,
                    "dbIndex": false,
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "minLength": "",
                      "maxLength": "",
                      "pattern": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "mask": false,
                    "inputType": "text",
                    "inputFormat": "plain",
                    "inputMask": "",
                    "displayMask": "",
                    "truncateMultipleSpaces": false
                  },
                  {
                    "label": "HRMIS/PIN/BADGE NUMBER",
                    "applyMaskOn": "change",
                    "autocomplete": "off",
                    "spellcheck": false,
                    "disabled": true,
                    "tableView": true,
                    "case": "uppercase",
                    "customDefaultValue": "\r\nvalues = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  if(users.length) {\r\n    instance.setValue(users[0].badge_number)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                    "validateWhenHidden": false,
                    "key": "badge_number",
                    "conditional": {
                      "show": true,
                      "when": "confirmation_of_service",
                      "eq": true
                    },
                    "type": "textfield",
                    "input": true,
                    "id": "ezf0xd3",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "autofocus": false,
                    "dbIndex": false,
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "minLength": "",
                      "maxLength": "",
                      "pattern": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "mask": false,
                    "inputType": "text",
                    "inputFormat": "plain",
                    "inputMask": "",
                    "displayMask": "",
                    "truncateMultipleSpaces": false
                  },
                  {
                    "label": "ENFORCEMENT AGENCY   ",
                    "applyMaskOn": "change",
                    "autocomplete": "off",
                    "spellcheck": false,
                    "disabled": true,
                    "tableView": true,
                    "case": "uppercase",
                    "customDefaultValue": "values = window.fetchStaticDataFromTable(\"user\").then((users) => {\r\n  if(users.length) {\r\n    instance.setValue(users[0].agency)\r\n  } else{\r\n     instance.setValue('NON DF USER')\r\n  }\r\n  \r\n}).catch((error) => {\r\n  console.error(\"Error fetching data:\", error);\r\n  return [];\r\n});\r\n\r\nvalues = Promise.resolve(values);",
                    "validateWhenHidden": false,
                    "key": "enforcement_agency",
                    "conditional": {
                      "show": true,
                      "when": "confirmation_of_service",
                      "eq": true
                    },
                    "type": "textfield",
                    "input": true,
                    "id": "ejz1ak",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "autofocus": false,
                    "dbIndex": false,
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "minLength": "",
                      "maxLength": "",
                      "pattern": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "mask": false,
                    "inputType": "text",
                    "inputFormat": "plain",
                    "inputMask": "",
                    "displayMask": "",
                    "truncateMultipleSpaces": false
                  },
                  {
                    "label": "DATE CERTIFIED (YYYY-MM-DD)    ",
                    "applyMaskOn": "change",
                    "autocomplete": "off",
                    "spellcheck": false,
                    "disabled": true,
                    "tableView": true,
                    "customDefaultValue": "value = new Date().toISOString().split('T')[0]",
                    "calculateValue": "function getFormattedDate(){\n  const currentDate = new Date();\n  const pacificDate = new Date(currentDate.toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));\n  const year = pacificDate.getFullYear();\n  const month = String(pacificDate.getMonth() + 1).padStart(2, '0');\n  const day = String(pacificDate.getDate()).padStart(2, '0');\n  const formSubmittedDate = `${year}-${month}-${day}`;\n  return formSubmittedDate;\n}\nvalue = getFormattedDate();",
                    "validateWhenHidden": false,
                    "key": "date_certified",
                    "conditional": {
                      "show": true,
                      "when": "confirmation_of_service",
                      "eq": true
                    },
                    "type": "textfield",
                    "input": true,
                    "id": "e2jno5r",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "autofocus": false,
                    "dbIndex": false,
                    "calculateServer": false,
                    "widget": {
                      "type": "input"
                    },
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "minLength": "",
                      "maxLength": "",
                      "pattern": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "mask": false,
                    "inputType": "text",
                    "inputFormat": "plain",
                    "inputMask": "",
                    "displayMask": "",
                    "truncateMultipleSpaces": false
                  },
                  {
                    "html": "<p>The individual's licence to drive is hereby suspended under section 90.3 of the Motor Vehicle Act for a period of 12 hours, commencing at: {{data?.date_of_driving ? new Date(data?.date_of_driving).toLocaleDateString('en-CA') : 'N/A'}}, {{data?.time_of_driving ? data?.time_of_driving : 'N/A'}} PACIFIC TIME</p>",
                    "label": "The individual's licence to drive is hereby suspended ",
                    "refreshOnChange": true,
                    "key": "twelve_hour_notice",
                    "customConditional": "show = (data?.TwelveHour && data?.confirmation_of_service === true)",
                    "type": "content",
                    "input": false,
                    "tableView": false,
                    "id": "e2p4plam",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": []
                  },
                  {
                    "html": "<p>The individual is prohibited under section 215 of the Motor Vehicle Act from driving a motor vehicle for 24 hours commencing at: {{data?.date_of_driving ? new Date(data?.date_of_driving).toLocaleDateString('en-CA') : 'N/A'}}, {{data?.time_of_driving ? data?.time_of_driving : 'N/A'}} PACIFIC TIME</p>",
                    "label": "The individual is prohibited under section 215 ",
                    "refreshOnChange": false,
                    "key": "twenty_four_hour_notice",
                    "customConditional": "show = (data?.TwentyFourHour && data?.confirmation_of_service === true)",
                    "type": "content",
                    "input": false,
                    "tableView": false,
                    "id": "eyg3gpn",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": []
                  },
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [
                                  {
                                    "label": "Previous",
                                    "action": "custom",
                                    "showValidations": false,
                                    "hidden": true,
                                    "tableView": false,
                                    "key": "previousOneEcos",
                                    "type": "button",
                                    "custom": "form.setPage(form.page - 1)",
                                    "input": true,
                                    "id": "ebqaya",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "size": "md",
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "block": false,
                                    "disableOnInvalid": false,
                                    "theme": "primary"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              },
                              {
                                "components": [
                                  {
                                    "label": "Next",
                                    "action": "custom",
                                    "showValidations": false,
                                    "tableView": false,
                                    "key": "nextOnEcos",
                                    "customConditional": "show = (data?.document_served === \"YES\")",
                                    "type": "button",
                                    "custom": "console.log(\"Validating ecosPage\")\nif(data.formsSelected){\nform.currentPage.getComponents().forEach(component => {\n  component.setPristine(false);\n  component.checkValidity(form.data, true);\n});\n\n  var isValid = form.currentPage.checkValidity(form.submission.data, true);\n  if(isValid){\n    instance.root.getComponent('currentPage').setValue(form.page + 1)\n    instance.root.getComponent('confirmation_of_service_completed').setValue(\"YES\")\n    form.nextPage()\n  }\n  \n}",
                                    "input": true,
                                    "id": "eefadkp",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "hidden": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "size": "md",
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "block": false,
                                    "disableOnInvalid": false,
                                    "theme": "primary"
                                  },
                                  {
                                    "label": "Exit Form",
                                    "action": "custom",
                                    "showValidations": false,
                                    "tableView": false,
                                    "key": "exitForm",
                                    "customConditional": "show = (data?.document_served === \"NO\")",
                                    "type": "button",
                                    "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\nshowExitFormModal();\r\n\r\n",
                                    "input": true,
                                    "id": "eralx7",
                                    "placeholder": "",
                                    "prefix": "",
                                    "customClass": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "hidden": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "modalEdit": false,
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "description": "",
                                    "errorLabel": "",
                                    "tooltip": "",
                                    "hideLabel": false,
                                    "tabindex": "",
                                    "disabled": false,
                                    "autofocus": false,
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "attributes": {},
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": ""
                                    },
                                    "overlay": {
                                      "style": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "properties": {},
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "size": "md",
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "block": false,
                                    "disableOnInvalid": false,
                                    "theme": "primary"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              }
                            ],
                            "autoAdjust": true,
                            "key": "columns19",
                            "type": "columns",
                            "input": false,
                            "tableView": false,
                            "clearOnHide": true,
                            "id": "ekrsp7p",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false
                          }
                        ],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "size": "md",
                        "width": 6,
                        "currentWidth": 6
                      }
                    ],
                    "key": "columns16",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "clearOnHide": true,
                    "id": "e4zriu8",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "autoAdjust": false
                  }
                ],
                "clearOnHide": true,
                "id": "efayua",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false,
                "theme": "default",
                "breadcrumb": "default"
              }
            ],
            "clearOnHide": true,
            "placeholder": "",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": null,
            "protected": false,
            "unique": false,
            "persistent": false,
            "refreshOn": "",
            "redrawOn": "",
            "labelPosition": "top",
            "description": "",
            "errorLabel": "",
            "autofocus": false,
            "dbIndex": false,
            "customDefaultValue": "",
            "calculateValue": "",
            "calculateServer": false,
            "widget": null,
            "validateOn": "change",
            "validate": {
              "required": false,
              "custom": "",
              "customPrivate": false,
              "strictDateValidation": false,
              "multiple": false,
              "unique": false
            },
            "allowCalculateOverride": false,
            "encrypted": false,
            "showCharCount": false,
            "showWordCount": false,
            "allowMultipleMasks": false,
            "addons": [],
            "tree": false,
            "lazyLoad": false,
            "id": "em81sj"
          },
          {
            "title": "Police Details",
            "theme": "info",
            "breadcrumb": "none",
            "breadcrumbClickable": true,
            "buttonSettings": {
              "previous": false,
              "cancel": false,
              "next": false
            },
            "navigateOnEnter": false,
            "saveOnEnter": false,
            "scrollToTop": false,
            "tooltip": "",
            "customClass": "",
            "collapsible": false,
            "hidden": false,
            "hideLabel": false,
            "disabled": false,
            "modalEdit": false,
            "key": "policeDetailsPage",
            "tags": [],
            "properties": {},
            "conditional": {
              "show": null,
              "when": null,
              "eq": "",
              "json": ""
            },
            "customConditional": "show = (data?.TwentyFourHour && data?.prescribed_test_used === \"NO\");",
            "nextPage": "",
            "logic": [],
            "attributes": {},
            "overlay": {
              "style": "",
              "page": "",
              "left": "",
              "top": "",
              "width": "",
              "height": ""
            },
            "type": "panel",
            "label": "Page 4",
            "tabindex": "",
            "dataGridLabel": false,
            "input": false,
            "tableView": false,
            "components": [
              {
                "label": "Columns",
                "columns": [
                  {
                    "components": [
                      {
                        "label": "Return to Main Menu",
                        "action": "custom",
                        "showValidations": false,
                        "leftIcon": "fa fa-arrow-left",
                        "tableView": false,
                        "key": "returnToMainMenu4",
                        "type": "button",
                        "input": true,
                        "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\nshowExitFormModal();\r\n\r\n\r\n\r\n",
                        "id": "ezfcdl6",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false,
                        "theme": "primary"
                      }
                    ],
                    "size": "md",
                    "width": 2,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "currentWidth": 2
                  },
                  {
                    "components": [],
                    "width": 8,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 8
                  },
                  {
                    "components": [
                      {
                        "label": "Spoil Form",
                        "action": "custom",
                        "showValidations": false,
                        "theme": "danger",
                        "leftIcon": "fa fa-triangle-exclamation",
                        "tableView": false,
                        "key": "spoilForm2",
                        "type": "button",
                        "custom": "// Function to show a confirmation modal\r\nfunction showSpoilConfirmationModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Confirm Spoil Form\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n          Are you sure you want to mark this form as spoiled? This action cannot be undone.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Confirm\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed spoil form');\r\n    modal.close();\r\n    \r\n   // Execute the event listner added in the first page\r\n   instance.emit('PatchForm', { action: 'markSpoiled' });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled spoil form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\n\r\nshowSpoilConfirmationModal();",
                        "input": true,
                        "clearOnHide": true,
                        "id": "e9nwtp",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false
                      }
                    ],
                    "width": 2,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 2
                  }
                ],
                "key": "columns27",
                "type": "columns",
                "input": false,
                "tableView": false,
                "id": "ewln38h",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false,
                "autoAdjust": false
              },
              {
                "title": "Police Details",
                "collapsible": false,
                "key": "policeDetailsPanel",
                "type": "panel",
                "label": "Police Details",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "police_details_confirmed",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": "NO",
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "police_details_confirmed",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "ekb6evk"
                  },
                  {
                    "label": "Did the Driver request a breath test or prescribed physical coordination test?        ",
                    "labelPosition": "top",
                    "optionsLabelPosition": "right",
                    "description": "",
                    "tooltip": "",
                    "customClass": "",
                    "tabindex": "",
                    "inline": false,
                    "hidden": false,
                    "hideLabel": false,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "dataSrc": "values",
                    "values": [
                      {
                        "label": "Yes",
                        "value": "YES",
                        "shortcut": ""
                      },
                      {
                        "label": "No",
                        "value": "NO",
                        "shortcut": ""
                      }
                    ],
                    "dataType": "",
                    "valueProperty": "",
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validate": {
                      "required": true,
                      "onlyAvailableItems": false,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "requested_prescribed_test",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "radio",
                    "dataGridLabel": false,
                    "data": {
                      "url": ""
                    },
                    "template": "<span>{{ item.label }}</span>",
                    "authenticate": false,
                    "ignoreCache": false,
                    "redrawOn": "",
                    "input": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "refreshOn": "",
                    "widget": null,
                    "validateOn": "change",
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "radio",
                    "fieldSet": false,
                    "id": "eu0kyi7",
                    "defaultValue": ""
                  },
                  {
                    "label": "If yes, what test was administered? ",
                    "labelPosition": "top",
                    "optionsLabelPosition": "right",
                    "description": "",
                    "tooltip": "",
                    "customClass": "",
                    "tabindex": "",
                    "inline": false,
                    "hidden": false,
                    "hideLabel": false,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "dataSrc": "values",
                    "values": [
                      {
                        "label": "Yes, Alco-Sensor FST(ASD)",
                        "value": "alco-sensor",
                        "shortcut": ""
                      },
                      {
                        "label": "Yes, Approved Instrument",
                        "value": "instrument",
                        "shortcut": ""
                      },
                      {
                        "label": "Yes, Prescribed Physical Coordination Test",
                        "value": "PPCT",
                        "shortcut": ""
                      },
                      {
                        "label": "No test was administered in forming reasonable grounds",
                        "value": "no-test",
                        "shortcut": ""
                      }
                    ],
                    "dataType": "",
                    "valueProperty": "",
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validate": {
                      "required": true,
                      "onlyAvailableItems": false,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "requested_test_used_alcohol",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'alcohol';",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "radio",
                    "dataGridLabel": false,
                    "data": {
                      "url": ""
                    },
                    "template": "<span>{{ item.label }}</span>",
                    "authenticate": false,
                    "ignoreCache": false,
                    "redrawOn": "",
                    "input": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "refreshOn": "",
                    "widget": null,
                    "validateOn": "change",
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "radio",
                    "fieldSet": false,
                    "id": "e3oh78",
                    "defaultValue": ""
                  },
                  {
                    "label": "ASD Expiry Date",
                    "labelPosition": "top",
                    "displayInTimezone": "utc",
                    "useLocaleSettings": false,
                    "allowInput": true,
                    "format": "yyyyMMdd",
                    "placeholder": "",
                    "description": "",
                    "tooltip": "",
                    "customClass": "",
                    "tabindex": "",
                    "hidden": false,
                    "hideLabel": false,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "shortcutButtons": [
                      {
                        "label": "Today",
                        "onClick": "date = new Date();"
                      }
                    ],
                    "enableDate": true,
                    "datePicker": {
                      "disable": "",
                      "disableFunction": "",
                      "disableWeekends": false,
                      "disableWeekdays": false,
                      "minDate": "moment().startOf(\"day\")",
                      "maxDate": "moment().add(28, \"days\").startOf(\"day\").toDate()",
                      "showWeeks": true,
                      "startingDay": 0,
                      "initDate": "",
                      "minMode": "day",
                      "maxMode": "year",
                      "yearRows": 4,
                      "yearColumns": 5
                    },
                    "enableTime": false,
                    "timePicker": {
                      "showMeridian": true,
                      "hourStep": 1,
                      "minuteStep": 1,
                      "readonlyInput": false,
                      "mousewheel": true,
                      "arrowkeys": true
                    },
                    "multiple": false,
                    "defaultValue": "",
                    "defaultDate": "",
                    "customOptions": {},
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "if(value) {\n  const momentDate = moment(value);\n\n  // Format with microseconds added before the timezone\n  const formattedDate = momentDate.format(\"YYYY-MM-DDTHH:mm:ss\") + \n                        \".000000\" + \n                        momentDate.format(\"Z\");\n  value = formattedDate\n} else {\n  value = ''\n}",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": true,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "enableMinDateInput": true,
                    "enableMaxDateInput": true,
                    "unique": false,
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "requested_ASD_expiry_date",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = data?.requested_test_used_alcohol === 'alco-sensor' && data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'alcohol';",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "datetime",
                    "timezone": "",
                    "dataGridLabel": false,
                    "input": true,
                    "widget": {
                      "type": "calendar",
                      "displayInTimezone": "utc",
                      "locale": "en",
                      "useLocaleSettings": false,
                      "allowInput": true,
                      "mode": "single",
                      "enableTime": false,
                      "noCalendar": false,
                      "format": "yyyyMMdd",
                      "hourIncrement": 1,
                      "minuteIncrement": 1,
                      "time_24hr": false,
                      "minDate": "moment().startOf(\"day\")",
                      "disabledDates": "",
                      "disableWeekends": false,
                      "disableWeekdays": false,
                      "disableFunction": "",
                      "maxDate": "moment().add(28, \"days\").startOf(\"day\").toDate()"
                    },
                    "prefix": "",
                    "suffix": "",
                    "refreshOn": "",
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "datepickerMode": "day",
                    "id": "edz6i5"
                  },
                  {
                    "label": "Time the test was administered",
                    "labelPosition": "top",
                    "placeholder": "",
                    "description": "PACIFIC TIME in 24-hour clock",
                    "tooltip": "",
                    "prefix": "",
                    "suffix": "",
                    "widget": {
                      "type": "input"
                    },
                    "inputMask": "99:99",
                    "displayMask": "",
                    "applyMaskOn": "change",
                    "allowMultipleMasks": false,
                    "customClass": "",
                    "tabindex": "",
                    "autocomplete": "off",
                    "hidden": false,
                    "hideLabel": false,
                    "showWordCount": false,
                    "showCharCount": false,
                    "mask": false,
                    "autofocus": false,
                    "spellcheck": false,
                    "disabled": false,
                    "tableView": true,
                    "modalEdit": false,
                    "multiple": false,
                    "persistent": true,
                    "inputFormat": "plain",
                    "protected": false,
                    "dbIndex": false,
                    "case": "",
                    "truncateMultipleSpaces": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": true,
                      "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "minLength": "",
                      "maxLength": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "unique": false,
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "time_of_requested_test",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "const alcoholTestTypes = ['instrument', 'PPCT', 'alco-sensor'];\nshow = alcoholTestTypes.includes(data?.requested_test_used_alcohol);",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "textfield",
                    "dataGridLabel": false,
                    "input": true,
                    "refreshOn": "",
                    "addons": [],
                    "inputType": "text",
                    "id": "ezjyfmw",
                    "inputMaskPlaceholderChar": "",
                    "defaultValue": ""
                  },
                  {
                    "label": "Result",
                    "optionsLabelPosition": "right",
                    "inline": false,
                    "tableView": false,
                    "values": [
                      {
                        "label": "51-59 mg%",
                        "value": "51-59",
                        "shortcut": ""
                      },
                      {
                        "label": "Warn",
                        "value": "WARN",
                        "shortcut": ""
                      },
                      {
                        "label": "Fail",
                        "value": "FAIL",
                        "shortcut": ""
                      }
                    ],
                    "validate": {
                      "required": true,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "onlyAvailableItems": false
                    },
                    "validateWhenHidden": false,
                    "key": "requested_alcohol_test_result",
                    "customConditional": "show = data?.requested_test_used_alcohol === 'alco-sensor' && data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'alcohol';",
                    "type": "radio",
                    "input": true,
                    "clearOnHide": true,
                    "id": "er4dy",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "dataSrc": "values",
                    "authenticate": false,
                    "ignoreCache": false,
                    "template": "<span>{{ item.label }}</span>",
                    "inputType": "radio",
                    "data": {
                      "url": ""
                    },
                    "fieldSet": false
                  },
                  {
                    "label": "BAC Result(mg%)",
                    "labelPosition": "top",
                    "placeholder": "",
                    "description": "",
                    "tooltip": "",
                    "prefix": "",
                    "suffix": "",
                    "widget": {
                      "type": "input"
                    },
                    "displayMask": "",
                    "applyMaskOn": "change",
                    "customClass": "",
                    "tabindex": "",
                    "autocomplete": "off",
                    "hidden": false,
                    "hideLabel": false,
                    "mask": false,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": true,
                    "modalEdit": false,
                    "multiple": false,
                    "persistent": true,
                    "delimiter": false,
                    "requireDecimal": false,
                    "inputFormat": "plain",
                    "protected": false,
                    "dbIndex": false,
                    "truncateMultipleSpaces": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": true,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "min": "",
                      "max": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "step": "any",
                      "integer": ""
                    },
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "requested_BAC_result",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = data?.requested_test_used_alcohol === 'instrument' && data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'alcohol';",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "number",
                    "dataGridLabel": false,
                    "input": true,
                    "unique": false,
                    "refreshOn": "",
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "id": "exgrhmn",
                    "defaultValue": null
                  },
                  {
                    "label": "Approved Instrument Used",
                    "labelPosition": "top",
                    "placeholder": "",
                    "description": "",
                    "tooltip": "",
                    "prefix": "",
                    "suffix": "",
                    "widget": {
                      "type": "input"
                    },
                    "inputMask": "",
                    "displayMask": "",
                    "applyMaskOn": "change",
                    "allowMultipleMasks": false,
                    "customClass": "",
                    "tabindex": "",
                    "autocomplete": "off",
                    "hidden": false,
                    "hideLabel": false,
                    "showWordCount": false,
                    "showCharCount": false,
                    "mask": false,
                    "autofocus": false,
                    "spellcheck": false,
                    "disabled": false,
                    "tableView": true,
                    "modalEdit": false,
                    "multiple": false,
                    "persistent": true,
                    "inputFormat": "plain",
                    "protected": false,
                    "dbIndex": false,
                    "case": "uppercase",
                    "truncateMultipleSpaces": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": true,
                      "pattern": "",
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "minLength": "",
                      "maxLength": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "unique": false,
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "requested_approved_instrument_used",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "show = (data?.requested_test_used_alcohol === 'instrument' || data?.requested_test_used_drug === 'approved-drug') && data?.requested_prescribed_test === 'YES';",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "textfield",
                    "dataGridLabel": false,
                    "input": true,
                    "refreshOn": "",
                    "addons": [],
                    "inputType": "text",
                    "id": "e9c43la",
                    "defaultValue": null
                  },
                  {
                    "label": "Which test was used?",
                    "optionsLabelPosition": "right",
                    "inline": false,
                    "tableView": false,
                    "values": [
                      {
                        "label": "Approved Instrument",
                        "value": "approved-drug",
                        "shortcut": ""
                      },
                      {
                        "label": "Prescribed Physical Coordination Test",
                        "value": "PPCT",
                        "shortcut": ""
                      }
                    ],
                    "validate": {
                      "required": true,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false,
                      "onlyAvailableItems": false
                    },
                    "validateWhenHidden": false,
                    "key": "requested_test_used_drug",
                    "customConditional": "show = data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'drugs';",
                    "type": "radio",
                    "input": true,
                    "clearOnHide": true,
                    "id": "ejy4n9l",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "dataSrc": "values",
                    "authenticate": false,
                    "ignoreCache": false,
                    "template": "<span>{{ item.label }}</span>",
                    "inputType": "radio",
                    "data": {
                      "url": ""
                    },
                    "fieldSet": false
                  },
                  {
                    "label": "Ability to drive affected by a drug?",
                    "key": "requested_can_drive_drug",
                    "type": "checkbox",
                    "input": true,
                    "tableView": true,
                    "customConditional": "show = data?.requested_test_used_drug === 'PPCT' && data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'drugs';",
                    "clearOnHide": true,
                    "id": "eh5mjxe",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": true,
                    "labelPosition": "right",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "checkbox",
                    "value": "",
                    "name": ""
                  },
                  {
                    "label": "Ability to drive affected by alcohol? (only select if PPCT test used)",
                    "key": "requested_can_drive_alcohol",
                    "type": "checkbox",
                    "input": true,
                    "tableView": true,
                    "customConditional": "show = data?.requested_test_used_alcohol === 'PPCT' && data?.requested_prescribed_test === 'YES' && data?.type_of_prohibition === 'alcohol';",
                    "clearOnHide": true,
                    "id": "e8yaypk",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": true,
                    "hidden": false,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": true,
                    "labelPosition": "right",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "checkbox",
                    "value": "",
                    "name": ""
                  },
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [
                                  {
                                    "label": "Previous",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": true,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "previousPoliceDetailsPage",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "form.setPage(form.page - 1)",
                                    "hideLabel": false,
                                    "input": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "eer7kso"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              },
                              {
                                "components": [
                                  {
                                    "label": "Next",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": false,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "nextOnPoliceDetailsPage",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "console.log(\"Validating policeDetailsPage\")\nif(data.formsSelected){\nform.currentPage.getComponents().forEach(component => {\n  component.setPristine(false);\n  component.checkValidity(form.data, true);\n});\n\n  var isValid = form.currentPage.checkValidity(form.submission.data, true);\n  if(isValid){\n    instance.root.getComponent('currentPage').setValue(form.page + 1)\n    instance.root.getComponent('police_details_confirmed').setValue(\"YES\")\n    form.nextPage()\n  }\n  \n}",
                                    "hideLabel": false,
                                    "input": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "eihd6gd"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              }
                            ],
                            "autoAdjust": true,
                            "key": "columns20",
                            "type": "columns",
                            "input": false,
                            "tableView": false,
                            "id": "efeh11q",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false
                          }
                        ],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "size": "md",
                        "width": 6,
                        "currentWidth": 6
                      }
                    ],
                    "key": "columns15",
                    "type": "columns",
                    "input": false,
                    "tableView": false,
                    "id": "e4n9yd",
                    "placeholder": "",
                    "prefix": "",
                    "customClass": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "modalEdit": false,
                    "dataGridLabel": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "attributes": {},
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "overlay": {
                      "style": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "properties": {},
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "autoAdjust": false
                  }
                ],
                "id": "eg7sknnm",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false,
                "theme": "default",
                "breadcrumb": "default"
              }
            ],
            "placeholder": "",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": null,
            "protected": false,
            "unique": false,
            "persistent": false,
            "clearOnHide": true,
            "refreshOn": "",
            "redrawOn": "",
            "labelPosition": "top",
            "description": "",
            "errorLabel": "",
            "autofocus": false,
            "dbIndex": false,
            "customDefaultValue": "",
            "calculateValue": "",
            "calculateServer": false,
            "widget": null,
            "validateOn": "change",
            "validate": {
              "required": false,
              "custom": "",
              "customPrivate": false,
              "strictDateValidation": false,
              "multiple": false,
              "unique": false
            },
            "allowCalculateOverride": false,
            "encrypted": false,
            "showCharCount": false,
            "showWordCount": false,
            "allowMultipleMasks": false,
            "addons": [],
            "tree": false,
            "lazyLoad": false,
            "id": "elwa6yn"
          },
          {
            "title": "Police copy preview/print",
            "theme": "info",
            "breadcrumb": "none",
            "breadcrumbClickable": true,
            "buttonSettings": {
              "previous": false,
              "cancel": false,
              "next": false,
              "submit": false
            },
            "navigateOnEnter": false,
            "saveOnEnter": false,
            "scrollToTop": false,
            "tooltip": "",
            "customClass": "",
            "collapsible": false,
            "hidden": false,
            "hideLabel": false,
            "disabled": false,
            "modalEdit": false,
            "key": "policeCopyPage",
            "tags": [],
            "properties": {},
            "conditional": {
              "show": null,
              "when": null,
              "eq": "",
              "json": ""
            },
            "customConditional": "              // Show submit button\r\n              if (instance && instance.component) {\r\n                instance.component.buttonSettings.submit = false;\r\n                instance.root.redrawNavigation();\r\n              } else {\r\n                console.warn(\"policeCopyPage instance component not found\");\r\n              };\r\n;",
            "nextPage": "",
            "logic": [],
            "attributes": {},
            "overlay": {
              "style": "",
              "page": "",
              "left": "",
              "top": "",
              "width": "",
              "height": ""
            },
            "type": "panel",
            "label": "Page 5",
            "tabindex": "",
            "dataGridLabel": false,
            "input": false,
            "tableView": false,
            "components": [
              {
                "label": "Columns",
                "columns": [
                  {
                    "components": [
                      {
                        "label": "Return to Main Menu",
                        "action": "custom",
                        "showValidations": false,
                        "leftIcon": "fa fa-arrow-left",
                        "tableView": false,
                        "key": "returnToMainMenu5",
                        "type": "button",
                        "input": true,
                        "custom": "// Function to show a confirmation modal\r\nfunction showExitFormModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Are you sure you want to leave this page?\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n         Your form is not completed. You can continue it from the drafts section.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Proceed\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed exit form');\r\n    modal.close();\r\n    \r\n   // Emit cancelSubmisison\r\n   instance.emit('customEvent', {\r\n        type: 'cancelSubmission'\r\n      });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled exit form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\nshowExitFormModal();\r\n\r\n\r\n\r\n",
                        "id": "ewqlkgs",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false,
                        "theme": "primary"
                      }
                    ],
                    "size": "md",
                    "width": 2,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "currentWidth": 2
                  },
                  {
                    "components": [],
                    "width": 8,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 8
                  },
                  {
                    "components": [
                      {
                        "label": "Spoil Form",
                        "action": "custom",
                        "showValidations": false,
                        "theme": "danger",
                        "leftIcon": "fa fa-triangle-exclamation",
                        "tableView": false,
                        "key": "spoilForm3",
                        "type": "button",
                        "custom": "// Function to show a confirmation modal\r\nfunction showSpoilConfirmationModal() {\r\n  const content = instance.ce('div');\r\n  content.innerHTML = `\r\n    <div class=\"modal-content\" style=\"min-width: 400px; padding: 20px;\">\r\n      <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; margin: -20px -20px 20px; padding: 20px;\">\r\n        <h5 class=\"modal-title\" style=\"font-size: 1.25rem; margin: 0;\">\r\n          <i class=\"fas fa-exclamation-circle text-warning\" style=\"margin-right: 8px;\"></i>\r\n          Confirm Spoil Form\r\n        </h5>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\" style=\"padding: 0 0 20px;\">\r\n        <p style=\"font-size: 1rem; color: #555; margin: 0;\">\r\n          Are you sure you want to mark this form as spoiled? This action cannot be undone.\r\n        </p>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\" style=\"border-top: 1px solid #dee2e6; margin: 0 -20px -20px; padding: 20px; display: flex; justify-content: flex-end; gap: 10px;\">\r\n        <button class=\"btn btn-outline-secondary\" ref=\"cancelButton\" style=\"min-width: 100px; border: 1px solid #6c757d; color: #495057; background-color: #f8f9fa;\">\r\n          <i class=\"fas fa-times\" style=\"margin-right: 5px;\"></i>Cancel\r\n        </button>\r\n        <button class=\"btn btn-primary\" ref=\"confirmButton\" style=\"min-width: 100px;\">\r\n          <i class=\"fas fa-check\" style=\"margin-right: 5px;\"></i>Confirm\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Create the modal\r\n  const modal = instance.createModal(content);\r\n\r\n  // Add event listeners\r\n  const confirmButton = content.querySelector('[ref=\"confirmButton\"]');\r\n  const cancelButton = content.querySelector('[ref=\"cancelButton\"]');\r\n\r\n  // Fixed the event listener to be async\r\n  confirmButton.addEventListener('click', async () => {\r\n    console.log('User confirmed spoil form');\r\n    modal.close();\r\n    \r\n   // Execute the event listner added in the first page\r\n   instance.emit('PatchForm', { action: 'markSpoiled' });\r\n   \r\n  });\r\n\r\n  cancelButton.addEventListener('click', () => {\r\n    console.log('User cancelled spoil form');\r\n    modal.close();\r\n  });\r\n  \r\n  return modal;\r\n}\r\n\r\nshowSpoilConfirmationModal();",
                        "input": true,
                        "id": "edbzcua",
                        "placeholder": "",
                        "prefix": "",
                        "customClass": "",
                        "suffix": "",
                        "multiple": false,
                        "defaultValue": null,
                        "protected": false,
                        "unique": false,
                        "persistent": false,
                        "hidden": false,
                        "clearOnHide": true,
                        "refreshOn": "",
                        "redrawOn": "",
                        "modalEdit": false,
                        "dataGridLabel": true,
                        "labelPosition": "top",
                        "description": "",
                        "errorLabel": "",
                        "tooltip": "",
                        "hideLabel": false,
                        "tabindex": "",
                        "disabled": false,
                        "autofocus": false,
                        "dbIndex": false,
                        "customDefaultValue": "",
                        "calculateValue": "",
                        "calculateServer": false,
                        "widget": {
                          "type": "input"
                        },
                        "attributes": {},
                        "validateOn": "change",
                        "validate": {
                          "required": false,
                          "custom": "",
                          "customPrivate": false,
                          "strictDateValidation": false,
                          "multiple": false,
                          "unique": false
                        },
                        "conditional": {
                          "show": null,
                          "when": null,
                          "eq": ""
                        },
                        "overlay": {
                          "style": "",
                          "left": "",
                          "top": "",
                          "width": "",
                          "height": ""
                        },
                        "allowCalculateOverride": false,
                        "encrypted": false,
                        "showCharCount": false,
                        "showWordCount": false,
                        "properties": {},
                        "allowMultipleMasks": false,
                        "addons": [],
                        "size": "md",
                        "rightIcon": "",
                        "block": false,
                        "disableOnInvalid": false
                      }
                    ],
                    "width": 2,
                    "offset": 0,
                    "push": 0,
                    "pull": 0,
                    "size": "md",
                    "currentWidth": 2
                  }
                ],
                "autoAdjust": false,
                "customClass": "",
                "hidden": false,
                "modalEdit": false,
                "key": "columns28",
                "tags": [],
                "properties": {},
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": "",
                  "json": ""
                },
                "customConditional": "",
                "logic": [],
                "attributes": {},
                "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "type": "columns",
                "dataGridLabel": false,
                "input": false,
                "tableView": false,
                "placeholder": "",
                "prefix": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false,
                "id": "ed8x63"
              },
              {
                "label": "WellPolice",
                "key": "wellPolice",
                "type": "well",
                "input": false,
                "tableView": false,
                "components": [
                  {
                    "label": "RSBC Print Preview Police Copy   ",
                    "labelPosition": "top",
                    "stage": "stageTwo",
                    "rsbcImageSettings": "",
                    "placeholder": "",
                    "description": "",
                    "tooltip": "",
                    "customClass": "",
                    "tabindex": "",
                    "hidden": false,
                    "hideLabel": true,
                    "autofocus": false,
                    "disabled": false,
                    "tableView": false,
                    "modalEdit": false,
                    "multiple": false,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "clearOnHide": true,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "allowCalculateOverride": false,
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "customMessage": "",
                      "custom": "",
                      "customPrivate": false,
                      "json": "",
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "unique": false,
                    "validateWhenHidden": false,
                    "errorLabel": "",
                    "errors": "",
                    "key": "rsbcImagePoliceCopy",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "rsbcimage",
                    "dataGridLabel": false,
                    "input": true,
                    "prefix": "",
                    "suffix": "",
                    "refreshOn": "",
                    "widget": null,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "id": "eewb15rl",
                    "defaultValue": null
                  },
                  {
                    "label": "TwelveHour_form_png",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "TwelveHour_form_png",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "tableView": false,
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "ehqbsnn"
                  },
                  {
                    "label": "VI_form_png",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "VI_form_png",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "ehtpsrq"
                  },
                  {
                    "label": "TwentyFourHour_form_png",
                    "customClass": "",
                    "modalEdit": false,
                    "defaultValue": null,
                    "persistent": true,
                    "protected": false,
                    "dbIndex": false,
                    "encrypted": false,
                    "redrawOn": "",
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "key": "TwentyFourHour_form_png",
                    "tags": [],
                    "properties": {},
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "hidden",
                    "dataGridLabel": false,
                    "input": true,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "unique": false,
                    "hidden": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "widget": {
                      "type": "input"
                    },
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": ""
                    },
                    "allowCalculateOverride": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "inputType": "hidden",
                    "id": "egk7g0h"
                  },
                  {
                    "label": "Columns",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "Columns",
                            "columns": [
                              {
                                "components": [
                                  {
                                    "label": "Previous",
                                    "action": "custom",
                                    "showValidations": false,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": true,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "previous",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "form.setPage(form.page - 1)",
                                    "hideLabel": false,
                                    "input": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "clearOnHide": true,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "em6jbxgg"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              },
                              {
                                "components": [
                                  {
                                    "label": "Submit",
                                    "action": "custom",
                                    "showValidations": true,
                                    "theme": "primary",
                                    "size": "md",
                                    "block": false,
                                    "leftIcon": "",
                                    "rightIcon": "",
                                    "shortcut": "",
                                    "description": "",
                                    "tooltip": "",
                                    "customClass": "",
                                    "tabindex": "",
                                    "disableOnInvalid": false,
                                    "hidden": false,
                                    "autofocus": false,
                                    "disabled": false,
                                    "tableView": false,
                                    "modalEdit": false,
                                    "key": "submit",
                                    "tags": [],
                                    "properties": {},
                                    "conditional": {
                                      "show": null,
                                      "when": null,
                                      "eq": "",
                                      "json": ""
                                    },
                                    "customConditional": "",
                                    "logic": [],
                                    "attributes": {},
                                    "overlay": {
                                      "style": "",
                                      "page": "",
                                      "left": "",
                                      "top": "",
                                      "width": "",
                                      "height": ""
                                    },
                                    "type": "button",
                                    "custom": "/**\r\n * Convert all DateTime component values in a submission to RFC 2822 format\r\n * @param {Object} form - The Form.io form instance\r\n * @param {Object} submissionData - The submission data object\r\n * @returns {Object} - The modified submission data\r\n */\r\nfunction convertDateTimeValuesToRFC2822(instance, submissionData) {\r\n  const data = {...submissionData}; // Create a copy to avoid modifying the original\r\n\r\n  // Process each field in the submission data\r\n  Object.keys(data).forEach(key => {\r\n    // Skip if the value is null or undefined\r\n    const value = data[key];\r\n    \r\n    // Skip if the value is null, undefined, or empty string\r\n    if (value === null || value === undefined || value === '') {\r\n      return;\r\n    }\r\n    \r\n    // Get the component for this key\r\n    const component = instance.getComponent(key);\r\n    \r\n    // Skip if component not found\r\n    if (!component) {\r\n      return;\r\n    }\r\n    \r\n    // Check if it's a datetime component OR has the utc_date tag\r\n    const hasUtcDateTag = component.component.tags && \r\n                         Array.isArray(component.component.tags) && \r\n                         component.component.tags.indexOf('utc_date') !== -1;\r\n    \r\n    if (component.component.type === 'datetime' || hasUtcDateTag) {\r\n      // Convert the value to RFC 2822 format\r\n      const value = data[key];\r\n      \r\n      // Handle arrays (for multiple values)\r\n      if (Array.isArray(value)) {\r\n        data[key] = value.map(item => \r\n          item ? new Date(item).toUTCString() : item\r\n        );\r\n      } else {\r\n        data[key] = new Date(value).toUTCString();\r\n      }\r\n    }\r\n  });\r\n  \r\n  return data;\r\n}\r\n\r\n\r\n// Function to create loading overlay elements\r\nfunction createLoadingOverlay() {\r\n  const overlay = document.createElement('div');\r\n  overlay.id = 'loadingOverlay';\r\n  overlay.style.cssText = `\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 9999;\r\n  `;\r\n\r\n  const container = document.createElement('div');\r\n  container.className = 'd-flex align-items-center';\r\n  \r\n  const spinner = document.createElement('div');\r\n  spinner.className = 'spinner-border text-light';\r\n  spinner.setAttribute('role', 'status');\r\n  \r\n  const loadingText = document.createElement('span');\r\n  loadingText.className = 'ms-2 text-light';\r\n  loadingText.textContent = 'Generating Images...';\r\n  \r\n  container.append(spinner, loadingText);\r\n  overlay.appendChild(container);\r\n  \r\n  return overlay;\r\n}\r\n\r\n// Function to manage loading overlay\r\nfunction manageLoadingOverlay(show) {\r\n  const existingOverlay = document.getElementById('loadingOverlay');\r\n  \r\n  if (show && !existingOverlay) {\r\n    document.body.appendChild(createLoadingOverlay());\r\n  } else if (!show && existingOverlay) {\r\n    existingOverlay.remove();\r\n  }\r\n}\r\n\r\n// Function to save image and submit form\r\nasync function saveImageAndSubmit() {\r\n  try {\r\n    // Show loading overlay\r\n    manageLoadingOverlay(true);\r\n    \r\n    \r\n    // Get component instance\r\n    const rsbcInstance = instance.root.getComponent(\"rsbcImagePoliceCopy\");\r\n    if (!rsbcInstance) {\r\n      throw new Error(\"RSBC Image component not found\");\r\n    }\r\n\r\n    // Get and process images\r\n    const base64Images = await rsbcInstance.getBase64Images('stageTwo');\r\n    \r\n   // Iterate through each key in base64Images and add to data object\r\n    Object.keys(base64Images).forEach(key => {\r\n      //data[key] = base64Images[key];\r\n      instance.root.getComponent(key).setValue(base64Images[key]);\r\n    });\r\n    \r\n    console.log(\"Images saved in submission object\", data);\r\n    \r\n    // Converting for the dates to compatible with DF API\r\n    // const convertedData = convertDateTimeValuesToRFC2822(form, data)\r\n    // form.setValue({\r\n    //     data: convertedData\r\n    // }, {\r\n    //     // Optional flags\r\n    //     noValidate: true,  // Skip validation\r\n    //     modified: true,    // Mark as modified\r\n    //     fromSubmission: false, // Indicate this is from a submission\r\n    //     resetValue: false   // Reset the value completely\r\n    // });\r\n    // form.redraw()\r\n    \r\n    // Submit form\r\n    const submission = await form.submit();\r\n    console.log('Form submitted successfully:', submission);\r\n    \r\n  } catch (error) {\r\n    console.error(\"Error in save and submit process:\", error);\r\n    throw error; // Re-throw to be handled by caller if needed\r\n    \r\n  } finally {\r\n    // Always hide loading overlay\r\n    manageLoadingOverlay(false);\r\n  }\r\n}\r\n\r\n// Execute the save and submit process\r\nsaveImageAndSubmit().catch(error => {\r\n  // Handle any uncaught errors here\r\n  console.error(\"Fatal error:\", error);\r\n  // You might want to show an error message to the user here\r\n});\r\n\r\n\r\n\r\n\r\n",
                                    "hideLabel": false,
                                    "input": true,
                                    "clearOnHide": true,
                                    "placeholder": "",
                                    "prefix": "",
                                    "suffix": "",
                                    "multiple": false,
                                    "defaultValue": null,
                                    "protected": false,
                                    "unique": false,
                                    "persistent": false,
                                    "refreshOn": "",
                                    "redrawOn": "",
                                    "dataGridLabel": true,
                                    "labelPosition": "top",
                                    "errorLabel": "",
                                    "dbIndex": false,
                                    "customDefaultValue": "",
                                    "calculateValue": "",
                                    "calculateServer": false,
                                    "widget": {
                                      "type": "input"
                                    },
                                    "validateOn": "change",
                                    "validate": {
                                      "required": false,
                                      "custom": "",
                                      "customPrivate": false,
                                      "strictDateValidation": false,
                                      "multiple": false,
                                      "unique": false
                                    },
                                    "allowCalculateOverride": false,
                                    "encrypted": false,
                                    "showCharCount": false,
                                    "showWordCount": false,
                                    "allowMultipleMasks": false,
                                    "addons": [],
                                    "id": "e4fi01d"
                                  }
                                ],
                                "width": 6,
                                "offset": 0,
                                "push": 0,
                                "pull": 0,
                                "size": "md",
                                "currentWidth": 6
                              }
                            ],
                            "autoAdjust": true,
                            "key": "columns21",
                            "type": "columns",
                            "input": false,
                            "tableView": false,
                            "id": "eyp5v3n",
                            "placeholder": "",
                            "prefix": "",
                            "customClass": "",
                            "suffix": "",
                            "multiple": false,
                            "defaultValue": null,
                            "protected": false,
                            "unique": false,
                            "persistent": false,
                            "hidden": false,
                            "clearOnHide": true,
                            "refreshOn": "",
                            "redrawOn": "",
                            "modalEdit": false,
                            "dataGridLabel": false,
                            "labelPosition": "top",
                            "description": "",
                            "errorLabel": "",
                            "tooltip": "",
                            "hideLabel": false,
                            "tabindex": "",
                            "disabled": false,
                            "autofocus": false,
                            "dbIndex": false,
                            "customDefaultValue": "",
                            "calculateValue": "",
                            "calculateServer": false,
                            "widget": null,
                            "attributes": {},
                            "validateOn": "change",
                            "validate": {
                              "required": false,
                              "custom": "",
                              "customPrivate": false,
                              "strictDateValidation": false,
                              "multiple": false,
                              "unique": false
                            },
                            "conditional": {
                              "show": null,
                              "when": null,
                              "eq": ""
                            },
                            "overlay": {
                              "style": "",
                              "left": "",
                              "top": "",
                              "width": "",
                              "height": ""
                            },
                            "allowCalculateOverride": false,
                            "encrypted": false,
                            "showCharCount": false,
                            "showWordCount": false,
                            "properties": {},
                            "allowMultipleMasks": false,
                            "addons": [],
                            "tree": false,
                            "lazyLoad": false
                          }
                        ],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "width": 3,
                        "offset": 0,
                        "push": 0,
                        "pull": 0,
                        "size": "md",
                        "currentWidth": 3
                      },
                      {
                        "components": [],
                        "size": "md",
                        "width": 6,
                        "currentWidth": 6
                      }
                    ],
                    "autoAdjust": false,
                    "customClass": "",
                    "hidden": false,
                    "modalEdit": false,
                    "key": "columns13",
                    "tags": [],
                    "properties": {},
                    "conditional": {
                      "show": null,
                      "when": null,
                      "eq": "",
                      "json": ""
                    },
                    "customConditional": "",
                    "logic": [],
                    "attributes": {},
                    "overlay": {
                      "style": "",
                      "page": "",
                      "left": "",
                      "top": "",
                      "width": "",
                      "height": ""
                    },
                    "type": "columns",
                    "dataGridLabel": false,
                    "input": false,
                    "tableView": false,
                    "placeholder": "",
                    "prefix": "",
                    "suffix": "",
                    "multiple": false,
                    "defaultValue": null,
                    "protected": false,
                    "unique": false,
                    "persistent": false,
                    "clearOnHide": true,
                    "refreshOn": "",
                    "redrawOn": "",
                    "labelPosition": "top",
                    "description": "",
                    "errorLabel": "",
                    "tooltip": "",
                    "hideLabel": false,
                    "tabindex": "",
                    "disabled": false,
                    "autofocus": false,
                    "dbIndex": false,
                    "customDefaultValue": "",
                    "calculateValue": "",
                    "calculateServer": false,
                    "widget": null,
                    "validateOn": "change",
                    "validate": {
                      "required": false,
                      "custom": "",
                      "customPrivate": false,
                      "strictDateValidation": false,
                      "multiple": false,
                      "unique": false
                    },
                    "allowCalculateOverride": false,
                    "encrypted": false,
                    "showCharCount": false,
                    "showWordCount": false,
                    "allowMultipleMasks": false,
                    "addons": [],
                    "tree": false,
                    "lazyLoad": false,
                    "id": "ejctqwc"
                  }
                ],
                "id": "egfc7c",
                "placeholder": "",
                "prefix": "",
                "customClass": "",
                "suffix": "",
                "multiple": false,
                "defaultValue": null,
                "protected": false,
                "unique": false,
                "persistent": false,
                "hidden": false,
                "clearOnHide": true,
                "refreshOn": "",
                "redrawOn": "",
                "modalEdit": false,
                "dataGridLabel": false,
                "labelPosition": "top",
                "description": "",
                "errorLabel": "",
                "tooltip": "",
                "hideLabel": false,
                "tabindex": "",
                "disabled": false,
                "autofocus": false,
                "dbIndex": false,
                "customDefaultValue": "",
                "calculateValue": "",
                "calculateServer": false,
                "widget": null,
                "attributes": {},
                "validateOn": "change",
                "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
                },
                "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
                },
                "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
                },
                "allowCalculateOverride": false,
                "encrypted": false,
                "showCharCount": false,
                "showWordCount": false,
                "properties": {},
                "allowMultipleMasks": false,
                "addons": [],
                "tree": false,
                "lazyLoad": false
              }
            ],
            "placeholder": "",
            "prefix": "",
            "suffix": "",
            "multiple": false,
            "defaultValue": null,
            "protected": false,
            "unique": false,
            "persistent": false,
            "clearOnHide": true,
            "refreshOn": "",
            "redrawOn": "",
            "labelPosition": "top",
            "description": "",
            "errorLabel": "",
            "autofocus": false,
            "dbIndex": false,
            "customDefaultValue": "",
            "calculateValue": "",
            "calculateServer": false,
            "widget": null,
            "validateOn": "change",
            "validate": {
              "required": false,
              "custom": "",
              "customPrivate": false,
              "strictDateValidation": false,
              "multiple": false,
              "unique": false
            },
            "allowCalculateOverride": false,
            "encrypted": false,
            "showCharCount": false,
            "showWordCount": false,
            "allowMultipleMasks": false,
            "addons": [],
            "tree": false,
            "lazyLoad": false,
            "id": "ei7oqo"
          }
        ],
        "created": "2025-02-06T16:05:31.759Z",
        "modified": "2025-09-11T23:49:28.373Z"
      }
    }
  ],
  "workflows": [
    {
      "processKey": "roadSafteyDigitalForms",
      "processName": "roadSafteyDigitalForms",
      "processType": "BPMN",
      "type": "main",
      "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:modeler=\"http://camunda.org/schema/modeler/1.0\" id=\"Definitions_1oubpmc\" targetNamespace=\"http://bpmn.io/schema/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"5.31.0\" modeler:executionPlatform=\"Camunda Platform\" modeler:executionPlatformVersion=\"7.22.0\">\n  <bpmn:process id=\"roadSafteyDigitalForms\" name=\"roadSafteyDigitalForms\" isExecutable=\"true\" camunda:historyTimeToLive=\"P30D\">\n    <bpmn:startEvent id=\"StartEvent_1\" name=\"start\" camunda:asyncAfter=\"true\">\n      <bpmn:outgoing>Flow_11aa80b</bpmn:outgoing>\n    </bpmn:startEvent>\n    <bpmn:endEvent id=\"Event_0ts53jy\" name=\"end\">\n      <bpmn:incoming>Flow_0np0ks7</bpmn:incoming>\n    </bpmn:endEvent>\n    <bpmn:sequenceFlow id=\"Flow_02ue293\" name=\"Yes\" sourceRef=\"Gateway_0zpx5p0\" targetRef=\"Activity_0azpkne\">\n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${statusCode == 201}</bpmn:conditionExpression>\n    </bpmn:sequenceFlow>\n    <bpmn:serviceTask id=\"submit_event\" name=\"Submit Event\">\n      <bpmn:extensionElements>\n        <camunda:connector>\n          <camunda:inputOutput>\n            <camunda:inputParameter name=\"method\">POST</camunda:inputParameter>\n            <camunda:inputParameter name=\"url\">\n              <camunda:script scriptFormat=\"groovy\">var system = java.lang.System;\nsystem.getenv('REACT_APP_RSBC_API_URL')+\"/api/v1/event\"</camunda:script>\n            </camunda:inputParameter>\n            <camunda:inputParameter name=\"payload\">${event}</camunda:inputParameter>\n            <camunda:inputParameter name=\"headers\">\n              <camunda:map>\n                <camunda:entry key=\"Authorization\">Bearer ${token}</camunda:entry>\n                <camunda:entry key=\"Content-Type\">application/json</camunda:entry>\n              </camunda:map>\n            </camunda:inputParameter>\n            <camunda:outputParameter name=\"statusCode\">#{statusCode}</camunda:outputParameter>\n          </camunda:inputOutput>\n          <camunda:connectorId>http-connector</camunda:connectorId>\n        </camunda:connector>\n      </bpmn:extensionElements>\n      <bpmn:incoming>Flow_0dibfen</bpmn:incoming>\n      <bpmn:outgoing>Flow_09bu4yq</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:sequenceFlow id=\"Flow_11aa80b\" name=\"start listeners\" sourceRef=\"StartEvent_1\" targetRef=\"Activity_153941x\">\n      <bpmn:extensionElements>\n        <camunda:executionListener event=\"take\">\n          <camunda:script scriptFormat=\"javascript\">execution.setVariable('applicationStatus', 'New');</camunda:script>\n        </camunda:executionListener>\n        <camunda:executionListener class=\"org.camunda.bpm.extension.hooks.listeners.ApplicationStateListener\" event=\"take\"/>\n        <camunda:executionListener class=\"org.camunda.bpm.extension.hooks.listeners.FormBPMJsonDataPipelineListener\" event=\"take\"/>\n      </bpmn:extensionElements>\n    </bpmn:sequenceFlow>\n    <bpmn:scriptTask id=\"Activity_1pvahuo\" name=\"Transform Event Input\" scriptFormat=\"groovy\">\n      <bpmn:incoming>Flow_0es6pgh</bpmn:incoming>\n      <bpmn:outgoing>Flow_0dibfen</bpmn:outgoing>\n      <bpmn:script>import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\n// Get JSON string from execution variable\n//def data = execution.getVariable(\"formData\")\nvar formData = S(execution.getVariable(\"formData\"));\n\n// Remove the `currentUserRole` field\nformData.deleteProp(\"currentUserRole\");\n\ndef applicationId = execution.getVariable(\"applicationId\");\n\n// Add or update a property in formData\nformData.prop(\"ff_application_id\", applicationId);\n\n//Handle data format differences\n// Fields that should be empty string if null or missing\ndef fieldsToEmptyString = [\n    // VI Form\n    \"location_of_keys\",\n    \"corporation_name\",\n    \"time_released\",\n    \"type_of_prohibition\",\n    \"vehicle_released_to\",\n    // 24 Hour Form\n    \"reasonable_ground_other_reason\",\n    \"reasonable_result_alcohol\",\n    \"reasonable_test_used_drugs\",\n    \"reasonable_time_of_test\",\n    \"regist_owner_email\",\n    \"regist_owner_first_name\",\n    \"regist_owner_last_name\",\n    \"regist_owner_phone\",\n    \"requested_approved_instrument_used\",\n    \"requested_test_used_drug\",\n    \"resonable_approved_instrument_used\",\n    \"resonable_test_used_alcohol\"\n];\n\n// Fields that should be false if null or missing\ndef fieldsToFalse = [\n    // VI Form\n    \"confirmation_of_service\",\n    \"incident_details_extra_page\",\n    \"motorcycle_restrictions\",\n    \n// 12 Hour Form\n    \"owned_by_corp\",\n    \n    // 24 Hour Form\n    \"reasonable_can_drive_alcohol\",\n    \"reasonable_can_drive_drug\",\n    \"requested_can_drive_alcohol\",\n    \"requested_can_drive_drug\"\n];\n\n\n\n// Convert null or missing fields to empty string\nfieldsToEmptyString.each { field -&gt;\n    if (!formData.hasProp(field) || formData.prop(field).isNull()) {\n        formData.prop(field, \"\");\n    }\n}\n\n// Convert null or missing fields to false\nfieldsToFalse.each { field -&gt;\n    if (!formData.hasProp(field) || formData.prop(field).isNull()) {\n        formData.prop(field, false);\n    }\n}\n\nexecution.setVariable(\"event\", formData.toString())</bpmn:script>\n    </bpmn:scriptTask>\n    <bpmn:serviceTask id=\"Activity_153941x\" name=\"Get OAuth Token\">\n      <bpmn:extensionElements>\n        <camunda:connector>\n          <camunda:inputOutput>\n            <camunda:inputParameter name=\"method\">POST</camunda:inputParameter>\n            <camunda:inputParameter name=\"url\">\n              <camunda:script scriptFormat=\"groovy\">var system = java.lang.System;\nsystem.getenv('KEYCLOAK_URL')+\"/auth/realms/\"+system.getenv('KEYCLOAK_URL_REALM')+\"/protocol/openid-connect/token\"</camunda:script>\n            </camunda:inputParameter>\n            <camunda:inputParameter name=\"payload\">grant_type=client_credentials</camunda:inputParameter>\n            <camunda:inputParameter name=\"headers\">\n              <camunda:map>\n                <camunda:entry key=\"Authorization\">${basicAuth64}</camunda:entry>\n                <camunda:entry key=\"Content-Type\">application/x-www-form-urlencoded</camunda:entry>\n              </camunda:map>\n            </camunda:inputParameter>\n            <camunda:outputParameter name=\"statusCode\">#{statusCode}</camunda:outputParameter>\n            <camunda:outputParameter name=\"response\">#{response}</camunda:outputParameter>\n          </camunda:inputOutput>\n          <camunda:connectorId>http-connector</camunda:connectorId>\n        </camunda:connector>\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">if (statusCode != 200){\n  throw new Error(\"Error from OAuth token call, response Code: \"+statusCode)\n}else{\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"basicAuth64\">\n            <camunda:script scriptFormat=\"groovy\">import java.util.Base64\n\ndef clientId = System.getenv(\"KEYCLOAK_CLIENTID\")\ndef clientSecret = System.getenv(\"KEYCLOAK_CLIENTSECRET\")\n\ndef credentials = clientId + \":\" + clientSecret\ndef encoded = Base64.encoder.encodeToString(credentials.bytes)\n\nreturn \"Basic \" + encoded</camunda:script>\n          </camunda:inputParameter>\n          <camunda:outputParameter name=\"token\">${S(response).prop(\"access_token\").stringValue()}</camunda:outputParameter>\n        </camunda:inputOutput>\n      </bpmn:extensionElements>\n      <bpmn:incoming>Flow_11aa80b</bpmn:incoming>\n      <bpmn:outgoing>Flow_0es6pgh</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:sequenceFlow id=\"Flow_0es6pgh\" sourceRef=\"Activity_153941x\" targetRef=\"Activity_1pvahuo\"/>\n    <bpmn:exclusiveGateway id=\"Gateway_0zpx5p0\" name=\"Submission Complete ?\">\n      <bpmn:incoming>Flow_09bu4yq</bpmn:incoming>\n      <bpmn:outgoing>Flow_02ue293</bpmn:outgoing>\n      <bpmn:outgoing>Flow_1hp9n9u</bpmn:outgoing>\n    </bpmn:exclusiveGateway>\n    <bpmn:sequenceFlow id=\"Flow_0np0ks7\" sourceRef=\"Activity_0azpkne\" targetRef=\"Event_0ts53jy\"/>\n    <bpmn:task id=\"Activity_02bgk3e\" name=\"Update Application Status - Failed\">\n      <bpmn:extensionElements>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">execution.setVariable('applicationStatus', \"Failed\");</camunda:script>\n        </camunda:executionListener>\n        <camunda:executionListener class=\"org.camunda.bpm.extension.hooks.listeners.ApplicationStateListener\" event=\"start\"/>\n      </bpmn:extensionElements>\n      <bpmn:incoming>Flow_1hp9n9u</bpmn:incoming>\n      <bpmn:outgoing>Flow_1d9b9u2</bpmn:outgoing>\n    </bpmn:task>\n    <bpmn:sequenceFlow id=\"Flow_1hp9n9u\" name=\"No\" sourceRef=\"Gateway_0zpx5p0\" targetRef=\"Activity_02bgk3e\">\n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${statusCode != 201}</bpmn:conditionExpression>\n    </bpmn:sequenceFlow>\n    <bpmn:task id=\"Activity_0azpkne\" name=\"Update Application Status - Submitted\">\n      <bpmn:extensionElements>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">execution.setVariable('applicationStatus', \"Submitted\");</camunda:script>\n        </camunda:executionListener>\n        <camunda:executionListener class=\"org.camunda.bpm.extension.hooks.listeners.ApplicationStateListener\" event=\"start\"/>\n      </bpmn:extensionElements>\n      <bpmn:incoming>Flow_02ue293</bpmn:incoming>\n      <bpmn:outgoing>Flow_0np0ks7</bpmn:outgoing>\n    </bpmn:task>\n    <bpmn:sequenceFlow id=\"Flow_09bu4yq\" sourceRef=\"submit_event\" targetRef=\"Gateway_0zpx5p0\"/>\n    <bpmn:sequenceFlow id=\"Flow_0dibfen\" sourceRef=\"Activity_1pvahuo\" targetRef=\"submit_event\"/>\n    <bpmn:sequenceFlow id=\"Flow_1d9b9u2\" sourceRef=\"Activity_02bgk3e\" targetRef=\"Event_18715np\"/>\n    <bpmn:endEvent id=\"Event_18715np\" name=\"end\">\n      <bpmn:incoming>Flow_1d9b9u2</bpmn:incoming>\n    </bpmn:endEvent>\n  </bpmn:process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"roadSafteyDigitalForms\">\n      <bpmndi:BPMNShape id=\"StartEvent_1_di\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"142\" y=\"122\" width=\"36\" height=\"36\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"150\" y=\"165\" width=\"22\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Event_0ts53jy_di\" bpmnElement=\"Event_0ts53jy\">\n        <dc:Bounds x=\"1172\" y=\"412\" width=\"36\" height=\"36\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1180\" y=\"458\" width=\"19\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Activity_1j3xucw_di\" bpmnElement=\"submit_event\">\n        <dc:Bounds x=\"660\" y=\"100\" width=\"100\" height=\"80\"/>\n        <bpmndi:BPMNLabel/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Activity_0lm1zzi_di\" bpmnElement=\"Activity_1pvahuo\">\n        <dc:Bounds x=\"440\" y=\"100\" width=\"100\" height=\"80\"/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BPMNShape_06lqfa2\" bpmnElement=\"Activity_153941x\">\n        <dc:Bounds x=\"270\" y=\"100\" width=\"100\" height=\"80\"/>\n        <bpmndi:BPMNLabel/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Gateway_0zpx5p0_di\" bpmnElement=\"Gateway_0zpx5p0\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"915\" y=\"115\" width=\"50\" height=\"50\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"912\" y=\"85\" width=\"57\" height=\"27\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BPMNShape_0661aot\" bpmnElement=\"Activity_02bgk3e\">\n        <dc:Bounds x=\"1100\" y=\"100\" width=\"100\" height=\"80\"/>\n        <bpmndi:BPMNLabel/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BPMNShape_0613upj\" bpmnElement=\"Activity_0azpkne\">\n        <dc:Bounds x=\"900\" y=\"390\" width=\"100\" height=\"80\"/>\n        <bpmndi:BPMNLabel/>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Event_18715np_di\" bpmnElement=\"Event_18715np\">\n        <dc:Bounds x=\"1392\" y=\"122\" width=\"36\" height=\"36\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1401\" y=\"165\" width=\"19\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"Flow_02ue293_di\" bpmnElement=\"Flow_02ue293\">\n        <di:waypoint x=\"940\" y=\"165\"/>\n        <di:waypoint x=\"940\" y=\"390\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"951\" y=\"233\" width=\"18\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_11aa80b_di\" bpmnElement=\"Flow_11aa80b\">\n        <di:waypoint x=\"178\" y=\"140\"/>\n        <di:waypoint x=\"270\" y=\"140\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"191\" y=\"122\" width=\"66\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_0es6pgh_di\" bpmnElement=\"Flow_0es6pgh\">\n        <di:waypoint x=\"370\" y=\"140\"/>\n        <di:waypoint x=\"440\" y=\"140\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_0np0ks7_di\" bpmnElement=\"Flow_0np0ks7\">\n        <di:waypoint x=\"1000\" y=\"430\"/>\n        <di:waypoint x=\"1172\" y=\"430\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_1hp9n9u_di\" bpmnElement=\"Flow_1hp9n9u\">\n        <di:waypoint x=\"965\" y=\"140\"/>\n        <di:waypoint x=\"1100\" y=\"140\"/>\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1025\" y=\"122\" width=\"15\" height=\"14\"/>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_09bu4yq_di\" bpmnElement=\"Flow_09bu4yq\">\n        <di:waypoint x=\"760\" y=\"140\"/>\n        <di:waypoint x=\"915\" y=\"140\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_0dibfen_di\" bpmnElement=\"Flow_0dibfen\">\n        <di:waypoint x=\"540\" y=\"140\"/>\n        <di:waypoint x=\"660\" y=\"140\"/>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"Flow_1d9b9u2_di\" bpmnElement=\"Flow_1d9b9u2\">\n        <di:waypoint x=\"1200\" y=\"140\"/>\n        <di:waypoint x=\"1392\" y=\"140\"/>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn:definitions>\n"
    }
  ],
  "rules": [],
  "authorizations": [
    {
      "DESIGNER": {
        "resourceId": "67be07b7cd7f3eae4fb98c94",
        "resourceDetails": {},
        "roles": [
          "/digitalforms/digitalform-designer"
        ],
        "userName": null
      },
      "APPLICATION": {
        "resourceId": "67be07b7cd7f3eae4fb98c94",
        "resourceDetails": {
          "submitter": false
        },
        "roles": [
          "/digitalforms/digitalform-admin"
        ],
        "userName": null
      },
      "FORM": {
        "resourceId": "67be07b7cd7f3eae4fb98c94",
        "resourceDetails": {},
        "roles": [
          "/digitalforms/digitalform-officer",
          "/digitalforms/digitalform-designer"
        ],
        "userName": null
      }
    }
  ]
}