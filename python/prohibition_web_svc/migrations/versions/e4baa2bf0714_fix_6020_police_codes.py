"""fix_6020_police_codes

Revision ID: e4baa2bf0714
Revises: ef01a1713b87
Create Date: 2025-12-10 12:57:14.452937

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'e4baa2bf0714'
down_revision = 'ef01a1713b87'
branch_labels = None
depends_on = None


def upgrade():
    op.execute('''
ALTER TABLE "TAR"."collision" DISABLE TRIGGER ALL;
ALTER TABLE "TAR"."police_agency" DISABLE TRIGGER ALL;
DELETE FROM "TAR"."police_agency";
               ''')

    op.execute("""
INSERT INTO "TAR"."police_agency" (code, district_id, agency_name, vjur_agency) values
(101, 1, 'ARMSTRONG PROV', NULL),
(102, 1, 'ENDERBY PROV', NULL),
(103, 1, 'FALKLAND PROV', NULL),
(104, 1, 'KELOWNA PROV', NULL),
(105, 1, 'KELOWNA MUN', NULL),
(106, 1, 'KEREMEOS PROV', NULL),
(107, 1, 'LUMBY PROV', NULL),
(109, 1, 'OLIVER PROV', NULL),
(110, 1, 'OSOYOOS PROV', NULL),
(111, 1, 'PENTICTON PROV', NULL),
(112, 1, 'PENTICTON MUN', NULL),
(113, 1, 'PRINCETON PROV', NULL),
(114, 1, 'REVELSTOKE PROV', NULL),
(115, 1, 'SALMON ARM PROV', NULL),
(116, 1, 'SALMON ARM MUN', NULL),
(117, 1, 'SICAMOUS PROV', NULL),
(118, 1, 'VERNON PROV', NULL),
(119, 1, 'VERNON MUN', NULL),
(121, 1, 'SUMMERLAND MUN', NULL),
(124, 1, 'REVELSTOKE MUN', NULL),
(125, 1, 'COLDSTREAM MUN', NULL),
(126, 1, 'SPALLUMCHEEN MUN', NULL),
(127, 1, 'LAKE COUNTRY MUN', NULL),
(203, 1, 'ASHCROFT PROV', NULL),
(204, 1, 'BARRIERE PROV', NULL),
(206, 1, 'CHASE PROV', NULL),
(207, 1, 'CLEARWATER PROV', NULL),
(208, 1, 'CLINTON PROV', NULL),
(209, 1, 'T’KUMLUPS PROV', NULL),
(210, 1, 'KAMLOOPS MUN', NULL),
(211, 1, 'LILLOOET PROV', NULL),
(212, 1, 'LOGAN LAKE PROV', NULL),
(213, 1, 'LYTTON PROV', NULL),
(214, 1, 'MERRITT PROV', NULL),
(215, 1, 'MERRITT MUN', NULL),
(301, 1, 'CASTLEGAR PROV', NULL),
(302, 1, 'CRANBROOK PROV', NULL),
(303, 1, 'CRANBROOK MUN', NULL),
(305, 1, 'CRESTON PROV', NULL),
(306, 1, 'FERNIE PROV', NULL),
(309, 1, 'GOLDEN/FIELD PROV', NULL),
(310, 1, 'GRAND FORKS PROV', NULL),
(311, 1, 'COLUMBIA VALLEY PROV', NULL),
(312, 1, 'KASLO PROV', NULL),
(313, 1, 'KIMBERLEY PROV', NULL),
(314, 1, 'KIMBERLEY MUN', NULL),
(315, 1, 'MIDWAY PROV', NULL),
(316, 1, 'NAKUSP PROV', NULL),
(317, 1, 'NELSON PROV', NULL),
(318, 1, 'SLOCAN LAKE PROV', NULL),
(321, 1, 'SALMO PROV', NULL),
(322, 1, 'ELK VALLEY PROV (SPARWOOD)', NULL),
(323, 1, 'TRAIL AND GREATER DISTRICT PROV', NULL),
(324, 1, 'TRAIL MUN', NULL),
(327, 1, 'CASTLEGAR MUN', NULL),
(329, 1, 'ELKFORD PROV', NULL),

(201, 2, 'ALEXIS CREEK PROV', NULL),
(202, 2, 'ANAHIM LAKE PROV', NULL),
(216, 2, 'ONE HUNDRED MILE HOUS', NULL),
(218, 2, 'VALEMOUNT PROV', NULL),
(219, 2, 'WILLIAMS LAKE PROV', NULL),
(221, 2, 'WILLIAMS LAKE MUN', NULL),
(501, 2, 'BURNS LAKE PROV', NULL),
(502, 2, 'CHETWYND PROV', NULL),
(503, 2, 'DAWSON CREEK PROV', NULL),
(504, 2, 'DAWSON CREEK MUN', NULL),
(505, 2, 'FORT NELSON PROV', NULL),
(506, 2, 'FORT ST. JAMES PROV', NULL),
(507, 2, 'FORT ST. JOHN PROV', NULL),
(508, 2, 'FORT ST. JOHN MUN', NULL),
(509, 2, 'FRASER LAKE PROV', NULL),
(510, 2, 'HUDSON’S HOPE PROV', NULL),
(511, 2, 'MACKENZIE PROV', NULL),
(512, 2, 'MCBRIDE PROV', NULL),
(513, 2, 'PRINCE GEORGE PROV', NULL),
(514, 2, 'QUESNEL PROV', NULL),
(515, 2, 'QUESNEL MUN', NULL),
(517, 2, 'VANDERHOOF PROV', NULL),
(518, 2, 'WELLS PROV', NULL),
(521, 2, 'PRINCE GEORGE MUN', NULL),
(522, 2, 'MACKENZIE MUN', NULL),
(524, 2, 'TUMBLER RIDGE PROV', NULL),
(525, 2, 'TSAY KEH DENE PROV', NULL),
(526, 2, 'TAKLA LANDING PROV', NULL),
(601, 2, 'ATLIN PROV', NULL),
(602, 2, 'BELLA COOLA PROV', NULL),
(604, 2, 'NEW HAZELTON PROV', NULL),
(605, 2, 'HOUSTON PROV', NULL),
(606, 2, 'KITIMAT PROV', NULL),
(607, 2, 'KITIMAT MUN', NULL),
(608, 2, 'MASSET PROV', NULL),
(610, 2, 'PRINCE RUPERT PROV', NULL),
(611, 2, 'PRINCE RUPERT MUN', NULL),
(612, 2, 'QUEEN CHARLOTTE CITY PROV', NULL),
(613, 2, 'SMITHERS PROV', NULL),
(614, 2, 'STEWART PROV', NULL),
(615, 2, 'DEASE LAKE PROV', NULL),
(616, 2, 'TERRACE PROV', NULL),
(617, 2, 'TERRACE MUN', NULL),
(619, 2, 'GRANISLE PROV', NULL),
(620, 2, 'BELLA BELLA PROV', NULL),
(621, 2, 'LISIMS/NASS VALLEY PROV', NULL),
(622, 2, 'SMITHERS MUN', NULL),

(703, 3, 'AGASSIZ PROV', NULL),
(704, 3, 'BURNABY MUN', NULL),
(705, 3, 'BOSTON BAR PROV', NULL),
(706, 3, 'CHILLIWACK PROV', NULL),
(707, 3, 'CHILLIWACK MUN', NULL),
(709, 3, 'COQUITLAM PROV', NULL),
(710, 3, 'COQUITLAM MUN', NULL),
(711, 3, 'PORT COQUITLAM MUN', NULL),
(712, 3, 'RIDGE MEADOWS PROV', NULL),
(713, 3, 'MAPLE RIDGE MUN', NULL),
(714, 3, 'HOPE PROV', NULL),
(715, 3, 'GIBSONS LANDING PROV', NULL),
(716, 3, 'LANGLEY CITY MUN', NULL),
(717, 3, 'LANGLEY TOWNSHIP MUN', NULL),
(718, 3, 'MISSION PROV', NULL),
(719, 3, 'MISSION MUN', NULL),
(720, 3, 'NORTH VANCOUVER CITY MUN', NULL),
(721, 3, 'NORTH VANCOUVER DISTRICT MU', NULL),
(722, 3, 'RICHMOND MUN', NULL),
(723, 3, 'SECHELT PROV', NULL),
(724, 3, 'SQUAMISH PROV', NULL),
(725, 3, 'SQUAMISH MUN', NULL),
(726, 3, 'SURREY MUN', NULL),
(727, 3, 'UNIVERSITY PROV', NULL),
(729, 3, 'WHITE ROCK MUN', NULL),
(737, 3, 'PEMBERTON PROV', NULL),
(738, 3, 'WHISTLER PROV', NULL),
(739, 3, 'SURREY PROV', NULL),
(741, 3, 'PITT MEADOWS MUN', NULL),
(742, 3, 'BOWEN ISLAND PROV', NULL),
(743, 3, 'SECHELT MUN', NULL),
(745, 3, 'HOPE MUN', NULL),
(747, 3, 'WHISTLER MUN', NULL),
(748, 3, 'NORTH VANCOUVER PROV', NULL),

(802, 4, 'WEST SHORE PROV', NULL),
(803, 4, 'DUNCAN PROV', NULL),
(804, 4, 'NORTH COWICHAN MUN', NULL),
(805, 4, 'GABRIOLA ISLAND PROV', NULL),
(806, 4, 'SALTSPRING ISLAND PROV', NULL),
(807, 4, 'LADYSMITH PROV', NULL),
(808, 4, 'LAKE COWICHAN PROV', NULL),
(809, 4, 'NANAIMO PROV', NULL),
(810, 4, 'NANAIMO MUN', NULL),
(811, 4, 'OUTER GULF ISLANDS PROV', NULL),
(812, 4, 'SHAWNIGAN LAKE PROV', NULL),
(813, 4, 'SIDNEY PROV', NULL),
(814, 4, 'SIDNEY MUN', NULL),
(815, 4, 'SOOKE PROV', NULL),
(820, 4, 'NORTH SAANICH MUN', NULL),
(821, 4, 'COLWOOD MUN', NULL),
(822, 4, 'VIEW ROYAL MUN', NULL),
(823, 4, 'LANGFORD MUN', NULL),
(824, 4, 'LADYSMITH MUN', NULL),
(827, 4, 'SOOKE MUN', NULL),
(901, 4, 'ALERT BAY PROV', NULL),
(902, 4, 'CAMPBELL RIVER PROV', NULL),
(903, 4, 'CAMPBELL RIVER MUN', NULL),
(904, 4, 'COMOX MUN', NULL),
(905, 4, 'COMOX VALLEY PROV', NULL),
(906, 4, 'COURTENAY MUN', NULL),
(907, 4, 'NOOTKA SOUND (GOLD RIVER) PROV', NULL),
(908, 4, 'OCEANSIDE PROV (PARKSVILLE)', NULL),
(909, 4, 'PORT ALBERNI PROV', NULL),
(910, 4, 'PORT ALBERNI MUN', NULL),
(911, 4, 'PORT ALICE PROV', NULL),
(912, 4, 'PORT HARDY PROV', NULL),
(913, 4, 'PORT MCNEILL PROV', NULL),
(914, 4, 'POWELL RIVER PROV', NULL),
(915, 4, 'POWELL RIVER MUN', NULL),
(916, 4, 'QUADRA ISLAND PROV', NULL),
(917, 4, 'SAYWARD PROV', NULL),
(919, 4, 'TOFINO PROV', NULL),
(920, 4, 'UCLUELET PROV', NULL),
(922, 4, 'PARKSVILLE MUN', NULL),
(924, 4, 'TEXADA ISLAND PROV', NULL),
(925, 4, 'QUALICUM BEACH MUN', NULL),

(401, 5, 'VANCOUVER MUN', NULL),
(402, 5, 'VICTORIA AND ESQUIMALT MUN', NULL),
(403, 5, 'SAANICH MUN', NULL),
(404, 5, 'CENTRAL SAANICH MUN', NULL),
(406, 5, 'OAK BAY MUN', NULL),
(407, 5, 'DELTA MUN', NULL),
(408, 5, 'ABBOTSFORD MUN', NULL),
(409, 5, 'NEW WESTMINSTER MUN', NULL),
(410, 5, 'WEST VANCOUVER MUN', NULL),
(411, 5, 'NELSON MUN', NULL),
(412, 5, 'PORT MOODY MUN', NULL),
(730, 5, 'SURREY POLICE MUN', NULL),

(1101, 6, 'STL’ATL’IMX TRIBAL POLICE', NULL),
(1103, 6, 'KITASOO/XAIXAIS PUBLIC SAFETY DEPARTMENT', NULL),

(1003, 7, 'CN POLICE (EFF. 1994)', NULL),
(1004, 7, 'CP POLICE (EFF. 1994)', NULL);
    """)

    op.execute('''
UPDATE "TAR"."collision" SET police_agency_code = '101' WHERE police_agency_code NOT IN (SELECT code FROM "TAR"."police_agency");
ALTER TABLE "TAR"."police_agency" ENABLE TRIGGER ALL;
ALTER TABLE "TAR"."collision" ENABLE TRIGGER ALL;
               ''')

def downgrade():
    pass
